!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.isCsog=!1;var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.isCsog=e.TestCsog(t)}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getIsCsog",value:function(){return this.isCsog}},{key:"toObject",value:function(){return{id:this.getConstructionId(),isCsog:this.getIsCsog()}}}],[{key:"TestCsog",value:function(t){return new RegExp(e.CSOGRegex).test(t)}},{key:"Build",value:function(t){return new e(t)}}]),e}();o.ConstructionIdRegex="(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)",o.Regex="^ 2"+o.ConstructionIdRegex,o.CSOGRegex="^ 2(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)   (.{7})*( 18 100)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.windowId="",this.height="",this.width="",this.azimuth="",this.headHeight="",this.horizShading1Id="",this.horizShading2Id="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[e.CONST__ZONE_ID].trim(),this.windowId=i[e.CONST__WINDOW_ID].trim(),this.height=i[e.CONST__HEIGHT].trim(),this.width=i[e.CONST__WIDTH].trim(),this.azimuth=i[e.CONST__AZIMUTH].trim(),this.horizShading1Id=i[e.CONST__HORZ_SHADING_1].trim(),this.horizShading2Id=i[e.CONST__HORZ_SHADING_2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getWindowId",value:function(){return this.windowId}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"getHeadHeight",value:function(){return this.headHeight}},{key:"getHorizShading1Id",value:function(){return this.horizShading1Id}},{key:"getHorizShading2Id",value:function(){return this.horizShading2Id}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),windowId:this.getWindowId(),height:this.getHeight(),width:this.getWidth(),azimuth:this.getAzimuth(),headHeight:this.getHeadHeight(),horizShading1Id:this.getHorizShading1Id(),horizShading2Id:this.getHorizShading2Id()}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"HeadHeight",value:function(e,t){return((""===e?0:parseFloat(e))+(""===t?0:parseFloat(t))).toFixed(2).toString()}}]),e}();o.CONST__ZONE_ID=1,o.CONST__WINDOW_ID=2,o.CONST__HEIGHT=6,o.CONST__WIDTH=7,o.CONST__AZIMUTH=8,o.CONST__HORZ_SHADING_1=9,o.CONST__HORZ_SHADING_2=10,o.Regex="^ 3(.{3})(( (10)|(  [0-9])))(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.height="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.height=i[3].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getHeight",value:function(){return this.height}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),height:this.getHeight()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^ 3(.{3})700(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.eaveProjection="",this.eaveOffset="",this.pergolaProjection="",this.pergolaOffset="",this.projection="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[e.CONST__ID].trim(),this.eaveProjection=i[e.CONST__EAVE_PROJECTION].trim(),this.eaveOffset=i[e.CONST__EAVE_OFFSET].trim(),this.pergolaProjection=i[e.CONST__PERGOLA_PROJECTION].trim(),this.pergolaOffset=i[e.CONST__PERGOLA_OFFSET].trim(),this.projection=this.getProjection()}return i(e,[{key:"getProjection",value:function(){var t=parseFloat(this.getEaveProjection())>parseFloat(this.getPergolaProjection())?this.getEaveProjection():this.getPergolaProjection();return e.RoundValue(t)}},{key:"getId",value:function(){return this.id}},{key:"getEaveOffset",value:function(){return this.eaveOffset}},{key:"getEaveProjection",value:function(){return this.eaveProjection}},{key:"getPergolaOffset",value:function(){return this.pergolaOffset}},{key:"getPergolaProjection",value:function(){return this.pergolaProjection}},{key:"toObject",value:function(){return{id:this.getId(),projection:this.getProjection(),offset:{eave:this.getEaveOffset(),pergola:this.getPergolaOffset()}}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"RoundValue",value:function(e){return(Math.round(20*e)/20).toFixed(2)}}]),e}();o.CONST__ID=1,o.CONST__EAVE_PROJECTION=2,o.CONST__EAVE_OFFSET=3,o.CONST__PERGOLA_PROJECTION=6,o.CONST__PERGOLA_OFFSET=7,o.Regex="^ 1 20(.{3})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"toObject",value:function(){return{id:this.id,name:this.name}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.CONST__ID=3,o.CONST__NAME="",o.Regex="^ \\d(.{3})[ \\d]*([a-zA-Z][a-zA-Z\\-\\d&]{9}[ a-zA-Z][a-zA-Z]?)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"toObject",value:function(){return{id:this.getId(),name:this.getName()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^C Z00?(\\d{1,3}) => (.*)$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t){r(this,e),this.zoneId="",this.constructionId="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.constructionId=i[2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getConstructionId",value:function(){return this.constructionId}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),constructionId:this.getConstructionId()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();a.Regex=" 3(...)("+u.default.ConstructionIdRegex+")",t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Test",value:function(e){return e.filter(function(e){return e.isCsog}).length>0}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Get",value:function(t,n){var r=parseInt(t,10);return e.Is(r,n,e.CONST__N_E)?"NE":e.Is(r,n,e.CONST__E)?"E":e.Is(r,n,e.CONST__S_E)?"SE":e.Is(r,n,e.CONST__S)?"S":e.Is(r,n,e.CONST__S_W)?"SW":e.Is(r,n,e.CONST__W)?"W":e.Is(r,n,e.CONST__N_W)?"NW":"N"}},{key:"Is",value:function(t,n,r){var i={upper:e.Normalize(parseInt(n,10)+r.upper),lower:e.Normalize(parseInt(n,10)+r.lower)};return t>=i.lower&&t<=i.upper}},{key:"Normalize",value:function(e){return e<0?360-Math.abs(e):e>360?e-360:e}}]),e}();o.CONST__N={lower:22,upper:338},o.CONST__N_E={lower:23,upper:67},o.CONST__E={lower:68,upper:112},o.CONST__S_E={lower:113,upper:157},o.CONST__S={lower:158,upper:202},o.CONST__S_W={lower:203,upper:247},o.CONST__W={lower:248,upper:292},o.CONST__N_W={lower:293,upper:337},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),a=r(u),l=n(3),c=r(l),s=n(10),f=r(s),d=n(4),h=r(d),g=n(1),v=r(g),p=n(5),y=r(p),_=n(0),w=r(_),m=n(6),O=r(m),C=function(){function e(){i(this,e)}return o(e,null,[{key:"Build",value:function(e){return f.default.ShadingScheme(e)?c.default.Build(e):f.default.CeilingHeight(e)?a.default.Build(e):f.default.WindowConstruction(e)?h.default.Build(e):f.default.ZoneWindow(e)?v.default.Build(e):f.default.ZoneDetail(e)?y.default.Build(e):f.default.FloorConstruction(e)?w.default.Build(e):!!f.default.ZoneFloor(e)&&O.default.Build(e)}}]),e}();t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),l=n(4),c=r(l),s=n(1),f=r(s),d=n(2),h=r(d),g=n(5),v=r(g),p=n(0),y=r(p),_=n(6),w=r(_),m=function(){function e(){i(this,e)}return o(e,null,[{key:"ShadingScheme",value:function(t){return e.Test(t,a.default.Regex)}},{key:"WindowConstruction",value:function(t){return e.Test(t,c.default.Regex)}},{key:"ZoneWindow",value:function(t){return e.Test(t,f.default.Regex)}},{key:"CeilingHeight",value:function(t){return e.Test(t,h.default.Regex)}},{key:"ZoneDetail",value:function(t){return e.Test(t,v.default.Regex)}},{key:"FloorConstruction",value:function(t){return e.Test(t,y.default.Regex)}},{key:"ZoneFloor",value:function(t){return e.Test(t,w.default.Regex)}},{key:"Test",value:function(e,t){return new RegExp(t).test(e)}},{key:"ReverseLookup",value:function(t){return e.ShadingScheme(t)?"HorizontalShadingScheme":e.CeilingHeight(t)?"CeilingHeight":e.WindowConstruction(t)?"WindowConstruction":e.ZoneWindow(t)?"ZoneWindow":e.ZoneDetail(t)?"ZoneDetail":e.FloorConstruction(t)?"FloorConstruction":!!e.ZoneFloor(t)&&"ZoneFloor"}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),a=r(u),l=n(10),c=r(l),s=n(4),f=r(s),d=n(1),h=r(d),g=n(3),v=r(g),p=n(2),y=r(p),_=n(5),w=r(_),m=n(0),O=r(m),C=n(6),b=r(C),S=function(){function e(t){i(this,e),this.windowConstructions=[],this.zoneWindows=[],this.zoneDetails=[],this.shadingSchemes=[],this.ceilingHeights=[],this.file=t}return o(e,[{key:"process",value:function(){var e=this.getDataLines();this.windowConstructions=e.filter(function(e){return"WindowConstruction"===c.default.ReverseLookup(e)}).map(function(e){return f.default.Build(e)}),this.zoneWindows=e.filter(function(e){return"ZoneWindow"===c.default.ReverseLookup(e)}).map(function(e){return h.default.Build(e)}),this.shadingSchemes=e.filter(function(e){return"HorizontalShadingScheme"===c.default.ReverseLookup(e)}).map(function(e){return v.default.Build(e)}),this.ceilingHeights=e.filter(function(e){return"CeilingHeight"===c.default.ReverseLookup(e)}).map(function(e){return y.default.Build(e)}),this.zoneDetails=e.filter(function(e){return"ZoneDetail"===c.default.ReverseLookup(e)}).map(function(e){return w.default.Build(e)}),this.floorConstructions=e.filter(function(e){return"FloorConstruction"===c.default.ReverseLookup(e)}).map(function(e){return O.default.Build(e)}),this.zoneFloors=e.filter(function(e){return"ZoneFloor"===c.default.ReverseLookup(e)}).map(function(e){return b.default.Build(e)})}},{key:"getDataLines",value:function(){return this.file.filter(function(e){return!1!==a.default.Build(e)})}},{key:"getWindowConstructions",value:function(){return this.windowConstructions}},{key:"getZoneWindows",value:function(){return this.zoneWindows}},{key:"getShading",value:function(){return this.shadingSchemes}},{key:"getCeilingHeights",value:function(){return this.ceilingHeights}},{key:"getZoneDetails",value:function(){return this.zoneDetails}},{key:"getFloorConstructions",value:function(){return this.floorConstructions}},{key:"getZoneFloors",value:function(){return this.zoneFloors}},{key:"getAllData",value:function(){return{windowConstructions:this.getWindowConstructions(),zoneWindows:this.getZoneWindows(),shading:this.getShading(),ceilingHeights:this.getCeilingHeights(),zoneDetails:this.getZoneDetails(),floorConstructions:this.getFloorConstructions(),zoneFloors:this.getZoneFloors()}}}]),e}();t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),l=r(a),c=n(7),s=r(c),f=n(1),d=r(f),h=n(14),g=function(){function e(){i(this,e)}return u(e,null,[{key:"Compile",value:function(e){var t=e.windowConstructions,n=e.zoneWindows,r=e.shading,i=e.ceilingHeights,u=e.zoneDetails,a=e.floorConstructions,l=e.zoneFloors;return u.map(function(e){var u=n.filter(function(t){return t.zoneId===e.id}).map(function(n){var u=t.filter(function(e){return e.id===n.getWindowId()})[0],a=r.filter(function(e){return e.getId()===n.getHorizShading1Id()||e.getId()===n.getHorizShading2Id()}),l=i.filter(function(t){return t.getZoneId()===e.getId()})[0];return o({},n,{construction:u,shading:a,ceilingHeight:l})}),c=l.filter(function(t){return t.zoneId===e.id}).map(function(e){var t=a.filter(function(t){return t.id===e.constructionId})[0];return o({},e,t)});return{id:e.getId(),name:e.getName(),windows:u,onGroundFloor:s.default.Test(c)}})}},{key:"Build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.map(function(e){var n=e.windows.map(function(n){var r="",i="",o="";return n.shading.length>0&&(r=n.shading[0].projection,i=n.shading[0].eaveOffset,o=n.shading[0].pergolaOffset),[e.name,"",l.default.Get(n.azimuth,t),n.height,n.width,r,d.default.HeadHeight(n.height,i),n.construction.name,n.ceilingHeight.height,i,o,e.onGroundFloor?"0":""]});return n.length>0?n:[n]});return(0,h.flatten)(n)}}]),e}();t.default=g},function(e,t,n){"use strict";var r=new Worker("js/worker.e0780de160ef7c223c35.js"),i=function(e){var t=document.getElementById("results-preview-template"),n=document.importNode(t.content,!0),r=n.querySelector("tbody");e.forEach(function(e){var t=document.createElement("tr");e.forEach(function(e){var n=document.createElement("td");n.innerText=e,t.appendChild(n)}),r.appendChild(t)}),document.querySelector(".results-preview").appendChild(n)},o=function(e){var t="data:text/csv;charset=utf-8,",n=["Zone Name","{blank}","Orientation","Height","Width","Projection","H","Window Type","Ceiling Height","Eave Offset","Pergola Offset","Level"],r=n.join(",");t+=r+"\n",e.forEach(function(e){if(e.length>0){var n=e.join(",");t+=n+"\n"}});var i=encodeURI(t),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download","glazing.csv"),o.hidden=!0,o.innerHTML="Click Here to download",document.body.appendChild(o),o.click()};window.onload=function(){var e=document.querySelector("#fileToUpload");document.getElementsByTagName("body")[0].classList.add("loaded"),e.addEventListener("change",function(){document.querySelector(".preview-button-container").classList.remove("hidden"),document.querySelector(".file-selector-label").innerText="Choose different file..."}),document.querySelector("#process").addEventListener("click",function(){if(""===document.querySelector("#north-reference").value)return alert("Please enter a reference north azimuth"),!1;if(0===e.files.length)return alert("Please select a scratch file"),!1;var t=e.files[0],n=document.querySelector("#north-reference").value;r.postMessage({file:t,reference:n}),r.onmessage=function(e){var t=e.data;i(t.results),document.querySelector("#save").addEventListener("click",function(){o(t.results)})}}),document.querySelector("#fileToUpload").onchange=function(){document.querySelector(".results-preview").innerHTML=""}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.flatten=function(e){var t;return(t=Array.prototype).concat.apply(t,r(e))}},function(e,t,n){n(2),n(0),n(7),n(3),n(13),n(8),n(11),n(12),n(9),n(4),n(5),n(6),e.exports=n(1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2NyaXB0cy4wMTRmODI1M2RlNTY1ZmMxZGEwMi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMDE0ZjgyNTNkZTU2NWZjMWRhMDIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0Zsb29yQ29uc3RydWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9DZWlsaW5nSGVpZ2h0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvV2luZG93Q29uc3RydWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lRGV0YWlsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lRmxvb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0dyb3VuZEZsb29yLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PcmllbnRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvU2NyYXRjaEZpbGVMaW5lLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9Mb29rc0xpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvUmVzdWx0c0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiRmxvb3JDb25zdHJ1Y3Rpb24iLCJsaW5lRGF0YSIsInRoaXMiLCJpZCIsImlzQ3NvZyIsInJlZ2V4IiwiUmVnRXhwIiwiUmVnZXgiLCJkYXRhIiwiZXhlYyIsInRyaW0iLCJUZXN0Q3NvZyIsImdldENvbnN0cnVjdGlvbklkIiwiZ2V0SXNDc29nIiwiQ1NPR1JlZ2V4IiwidGVzdCIsIkNvbnN0cnVjdGlvbklkUmVnZXgiLCJkZWZhdWx0IiwiWm9uZVdpbmRvdyIsInpvbmVJZCIsIndpbmRvd0lkIiwiaGVpZ2h0Iiwid2lkdGgiLCJhemltdXRoIiwiaGVhZEhlaWdodCIsImhvcml6U2hhZGluZzFJZCIsImhvcml6U2hhZGluZzJJZCIsIkNPTlNUX19aT05FX0lEIiwiQ09OU1RfX1dJTkRPV19JRCIsIkNPTlNUX19IRUlHSFQiLCJDT05TVF9fV0lEVEgiLCJDT05TVF9fQVpJTVVUSCIsIkNPTlNUX19IT1JaX1NIQURJTkdfMSIsIkNPTlNUX19IT1JaX1NIQURJTkdfMiIsImdldFpvbmVJZCIsImdldFdpbmRvd0lkIiwiZ2V0SGVpZ2h0IiwiZ2V0V2lkdGgiLCJnZXRBemltdXRoIiwiZ2V0SGVhZEhlaWdodCIsImdldEhvcml6U2hhZGluZzFJZCIsImdldEhvcml6U2hhZGluZzJJZCIsIndpbmRvd0hlaWdodCIsImVhdmVPZmZzZXQiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInRvU3RyaW5nIiwiQ2VpbGluZ0hlaWdodCIsIkhvcml6b250YWxTaGFkaW5nU2NoZW1lIiwiZWF2ZVByb2plY3Rpb24iLCJwZXJnb2xhUHJvamVjdGlvbiIsInBlcmdvbGFPZmZzZXQiLCJwcm9qZWN0aW9uIiwiQ09OU1RfX0lEIiwiQ09OU1RfX0VBVkVfUFJPSkVDVElPTiIsIkNPTlNUX19FQVZFX09GRlNFVCIsIkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04iLCJDT05TVF9fUEVSR09MQV9PRkZTRVQiLCJnZXRQcm9qZWN0aW9uIiwiZ2V0RWF2ZVByb2plY3Rpb24iLCJnZXRQZXJnb2xhUHJvamVjdGlvbiIsIlJvdW5kVmFsdWUiLCJnZXRJZCIsIm9mZnNldCIsImVhdmUiLCJnZXRFYXZlT2Zmc2V0IiwicGVyZ29sYSIsImdldFBlcmdvbGFPZmZzZXQiLCJNYXRoIiwicm91bmQiLCJXaW5kb3dDb25zdHJ1Y3Rpb24iLCJDT05TVF9fTkFNRSIsIlpvbmVEZXRhaWwiLCJnZXROYW1lIiwiX0Zsb29yQ29uc3RydWN0aW9uIiwiX0Zsb29yQ29uc3RydWN0aW9uMiIsIm9iaiIsIlpvbmVGbG9vciIsImNvbnN0cnVjdGlvbklkIiwiR3JvdW5kRmxvb3IiLCJmbG9vcnMiLCJmaWx0ZXIiLCJmbG9vciIsIk9yaWVudGF0aW9uIiwicmVmZXJlbmNlIiwiYXppbXV0aEludCIsInBhcnNlSW50IiwiSXMiLCJDT05TVF9fTl9FIiwiQ09OU1RfX0UiLCJDT05TVF9fU19FIiwiQ09OU1RfX1MiLCJDT05TVF9fU19XIiwiQ09OU1RfX1ciLCJDT05TVF9fTl9XIiwibGltaXRzIiwidmVjdG9yIiwidXBwZXIiLCJOb3JtYWxpemUiLCJsb3dlciIsIm51bWJlciIsImFicyIsIkNPTlNUX19OIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9DZWlsaW5nSGVpZ2h0IiwiX0NlaWxpbmdIZWlnaHQyIiwiX0hvcml6b250YWxTaGFkaW5nU2NoZW1lIiwiX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMiIsIl9Mb29rc0xpa2UiLCJfTG9va3NMaWtlMiIsIl9XaW5kb3dDb25zdHJ1Y3Rpb24iLCJfV2luZG93Q29uc3RydWN0aW9uMiIsIl9ab25lV2luZG93IiwiX1pvbmVXaW5kb3cyIiwiX1pvbmVEZXRhaWwiLCJfWm9uZURldGFpbDIiLCJfWm9uZUZsb29yIiwiX1pvbmVGbG9vcjIiLCJTY3JhdGNoRmlsZUxpbmUiLCJMb29rc0xpa2UiLCJTaGFkaW5nU2NoZW1lIiwiQnVpbGQiLCJfV2luZG93Q29uc3RydWN0aW9uMyIsIl9ab25lV2luZG93MyIsIl9DZWlsaW5nSGVpZ2h0MyIsIl9ab25lRGV0YWlsMyIsIl9GbG9vckNvbnN0cnVjdGlvbjMiLCJfWm9uZUZsb29yMyIsIlRlc3QiLCJfU2NyYXRjaEZpbGVMaW5lIiwiX1NjcmF0Y2hGaWxlTGluZTIiLCJQYXJzZXIiLCJmaWxlIiwid2luZG93Q29uc3RydWN0aW9ucyIsInpvbmVXaW5kb3dzIiwiem9uZURldGFpbHMiLCJzaGFkaW5nU2NoZW1lcyIsImNlaWxpbmdIZWlnaHRzIiwiZGF0YUxpbmVzIiwiZ2V0RGF0YUxpbmVzIiwibGluZSIsIlJldmVyc2VMb29rdXAiLCJtYXAiLCJ3aW5kb3ciLCJ6b25lV2luZG93Iiwic2hhZGluZyIsImNlaWxpbmdIZWlnaHQiLCJ6b25lRGV0YWlsIiwiZmxvb3JDb25zdHJ1Y3Rpb25zIiwiZmxvb3JDb25zdHJ1Y3Rpb24iLCJ6b25lRmxvb3JzIiwiem9uZUZsb29yIiwiZ2V0V2luZG93Q29uc3RydWN0aW9ucyIsImdldFpvbmVXaW5kb3dzIiwiZ2V0U2hhZGluZyIsImdldENlaWxpbmdIZWlnaHRzIiwiZ2V0Wm9uZURldGFpbHMiLCJnZXRGbG9vckNvbnN0cnVjdGlvbnMiLCJnZXRab25lRmxvb3JzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJfT3JpZW50YXRpb24iLCJfT3JpZW50YXRpb24yIiwiX0dyb3VuZEZsb29yIiwiX0dyb3VuZEZsb29yMiIsIl91dGlscyIsIlJlc3VsdHNCdWlsZGVyIiwiX3JlZiIsInpvbmUiLCJ3aW5kb3dzIiwiY29uc3RydWN0aW9uIiwiY29ucyIsInNoYWRpbmdTY2hlbWUiLCJzaGFkZSIsImNlaWxpbmciLCJmbG9vckNvbiIsIm9uR3JvdW5kRmxvb3IiLCJ6b25lcyIsInVuZGVmaW5lZCIsImNzdiIsIndpbmRvd0NzdiIsIkdldCIsIkhlYWRIZWlnaHQiLCJmbGF0dGVuIiwid29ya2VyIiwiV29ya2VyIiwiY3JlYXRlUHJldmlldyIsInJlc3VsdHMiLCJ0ZW1wbGF0ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbXBvcnROb2RlIiwiY29udGVudCIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwicmVzdWx0IiwidGFibGVSb3ciLCJjcmVhdGVFbGVtZW50IiwicmVzIiwidGFibGVDZWxsIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVEb3dubG9hZCIsImNzdkNvbnRlbnQiLCJoZWFkZXJBcnIiLCJoZWFkZXJSb3ciLCJqb2luIiwicm93QXJyYXkiLCJyb3ciLCJlbmNvZGVkVXJpIiwiZW5jb2RlVVJJIiwibGluayIsInNldEF0dHJpYnV0ZSIsImhpZGRlbiIsImlubmVySFRNTCIsImJvZHkiLCJjbGljayIsIm9ubG9hZCIsImZpbGVTZWxlY3RvciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImFsZXJ0IiwiZmlsZXMiLCJwb3N0TWVzc2FnZSIsIm9ubWVzc2FnZSIsIm9uY2hhbmdlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyMiIsImZyb20iLCJfQXJyYXkkcHJvdG90eXBlIiwiY29uY2F0IiwiYXBwbHkiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFB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SUFBT2lSLEVBQUtqUixHQUFLOFEsRUFBSTlRLEVBQU0sT0FBT2lSLEdBQWUsTUFBT0YsT0FBTUcsS0FBS0osR0FKMUxwUSxPQUFPQyxlQUFlYixFQUFTLGNBQzdCTyxPQUFPLEdnQjVrREl5TixXQUFVLFNBQUFnRCxHQUFBLEdBQUFLLEVBQUEsUUFBT0EsRUFBQUosTUFBTTVQLFdBQVVpUSxPQUFoQkMsTUFBQUYsRUFBQU4sRUFBMEJDLE1oQmdtRGxELFNBQVUvUSxFQUFRRCxFQUFTSCxHQUVqQ0EsRUFBb0IsR0FDcEJBLEVBQW9CLEdBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsR0FDcEJBLEVBQW9CLElBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsSUFDcEJBLEVBQW9CLElBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsR0FDcEJBLEVBQW9CLEdBQ3BCQSxFQUFvQixHQUNwQkksRUFBT0QsUUFBVUgsRUFBb0IiLCJmaWxlIjoic2NyaXB0cy4wMTRmODI1M2RlNTY1ZmMxZGEwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE1KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBGbG9vckNvbnN0cnVjdGlvblxuICovXG52YXIgRmxvb3JDb25zdHJ1Y3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZsb29yQ29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZsb29yQ29uc3RydWN0aW9uKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLmlzQ3NvZyA9IGZhbHNlO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmlzQ3NvZyA9IEZsb29yQ29uc3RydWN0aW9uLlRlc3RDc29nKGxpbmVEYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnN0cnVjdGlvbiBpZCB0aGF0IHRoaXMgZmxvb3IgY29uc3RydWN0aW9uIGJlbG9uZ3MgdG9cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRmxvb3JDb25zdHJ1Y3Rpb24sIFt7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0cnVlL2ZhbHNlIGluZGljYXRpbmcgaWYgdGhlIGZsb29yaW5nIHR5cGUgaW4gdGhlIHpvbmUgaXMgQ1NPR1xuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldElzQ3NvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElzQ3NvZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQ3NvZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHRoZSBkYXRhIGxpbmUgdG8gc2VlIGlmIHRoZXJlIGlzIGNvbmNyZXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpLFxuICAgICAgICBpc0Nzb2c6IHRoaXMuZ2V0SXNDc29nKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdUZXN0Q3NvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFRlc3RDc29nKGxpbmVEYXRhKSB7XG4gICAgICB2YXIgY3NvZ1JlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5DU09HUmVnZXgpO1xuICAgICAgcmV0dXJuIGNzb2dSZWdleC50ZXN0KGxpbmVEYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZsb29yQ29uc3RydWN0aW9uO1xufSgpO1xuXG5GbG9vckNvbnN0cnVjdGlvbi5Db25zdHJ1Y3Rpb25JZFJlZ2V4ID0gJygyNFsxLTldfDJbNS05XVxcXFxkfDNbMS0zXVxcXFxkfDM0MCknO1xuRmxvb3JDb25zdHJ1Y3Rpb24uUmVnZXggPSAnXiAyJyArIEZsb29yQ29uc3RydWN0aW9uLkNvbnN0cnVjdGlvbklkUmVnZXg7XG5GbG9vckNvbnN0cnVjdGlvbi5DU09HUmVnZXggPSAnXiAyKDI0WzEtOV18Mls1LTldXFxcXGR8M1sxLTNdXFxcXGR8MzQwKSAgICguezd9KSooIDE4IDEwMCknO1xuZXhwb3J0cy5kZWZhdWx0ID0gRmxvb3JDb25zdHJ1Y3Rpb247XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIHRvIHBhcnNlIHdpbmRvdyBpbmZvcm1hdGlvbiBpbnNpZGUgYSB6b25lIHNlY3Rpb25cbiAqL1xudmFyIFpvbmVXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRoaXMgdmFsdWUgaXNuJ3QgdXNlZCwganVzdCBoZXJlIHRvIGl0IGNhbiBob2xkIGFuIGVtcHR5IGNlbGwgaW4gdGhlIG91dHB1dCBDU1ZcbiAgZnVuY3Rpb24gWm9uZVdpbmRvdyhsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBab25lV2luZG93KTtcblxuICAgIHRoaXMuem9uZUlkID0gJyc7XG4gICAgdGhpcy53aW5kb3dJZCA9ICcnO1xuICAgIHRoaXMuaGVpZ2h0ID0gJyc7XG4gICAgdGhpcy53aWR0aCA9ICcnO1xuICAgIHRoaXMuYXppbXV0aCA9ICcnO1xuICAgIHRoaXMuaGVhZEhlaWdodCA9ICcnO1xuICAgIHRoaXMuaG9yaXpTaGFkaW5nMUlkID0gJyc7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcySWQgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoWm9uZVdpbmRvdy5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19aT05FX0lEXS50cmltKCk7XG4gICAgdGhpcy53aW5kb3dJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lORE9XX0lEXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hFSUdIVF0udHJpbSgpO1xuICAgIHRoaXMud2lkdGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1dJRFRIXS50cmltKCk7XG4gICAgdGhpcy5hemltdXRoID0gZGF0YVtab25lV2luZG93LkNPTlNUX19BWklNVVRIXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcxSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18xXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcySWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18yXS50cmltKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoWm9uZVdpbmRvdywgW3tcbiAgICBrZXk6ICdnZXRab25lSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0V2luZG93SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaW5kb3dJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpbmRvd0lkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0QXppbXV0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF6aW11dGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hemltdXRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhlYWRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWFkSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZEhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3JpelNoYWRpbmcxSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIb3JpelNoYWRpbmcxSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ob3JpelNoYWRpbmcxSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SG9yaXpTaGFkaW5nMklkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SG9yaXpTaGFkaW5nMklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaG9yaXpTaGFkaW5nMklkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICAgIHdpbmRvd0lkOiB0aGlzLmdldFdpbmRvd0lkKCksXG4gICAgICAgIGhlaWdodDogdGhpcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgYXppbXV0aDogdGhpcy5nZXRBemltdXRoKCksXG4gICAgICAgIGhlYWRIZWlnaHQ6IHRoaXMuZ2V0SGVhZEhlaWdodCgpLFxuICAgICAgICBob3JpelNoYWRpbmcxSWQ6IHRoaXMuZ2V0SG9yaXpTaGFkaW5nMUlkKCksXG4gICAgICAgIGhvcml6U2hhZGluZzJJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcySWQoKVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ0J1aWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBab25lV2luZG93KGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB0aGUgSGVhZCBIZWlnaHQgb2YgYSB3aW5kb3cgZnJvbSB0aGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3cgYW5kIHRoZSBlYXZlIG9mZnNldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHdpbmRvd0hlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWF2ZU9mZnNldCAgIFRoZSBlYXZlIG9mZnNldCBvZiB0aGUgd2luZG93XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdIZWFkSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gSGVhZEhlaWdodCh3aW5kb3dIZWlnaHQsIGVhdmVPZmZzZXQpIHtcbiAgICAgIHZhciB3aW5kb3dIZWlnaHRGbG9hdCA9IHdpbmRvd0hlaWdodCA9PT0gJycgPyAwIDogcGFyc2VGbG9hdCh3aW5kb3dIZWlnaHQpO1xuICAgICAgdmFyIGVhdmVPZmZzZXRGbG9hdCA9IGVhdmVPZmZzZXQgPT09ICcnID8gMCA6IHBhcnNlRmxvYXQoZWF2ZU9mZnNldCk7XG4gICAgICByZXR1cm4gKHdpbmRvd0hlaWdodEZsb2F0ICsgZWF2ZU9mZnNldEZsb2F0KS50b0ZpeGVkKDIpLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFpvbmVXaW5kb3c7XG59KCk7XG5cblpvbmVXaW5kb3cuQ09OU1RfX1pPTkVfSUQgPSAxO1xuWm9uZVdpbmRvdy5DT05TVF9fV0lORE9XX0lEID0gMjtcblpvbmVXaW5kb3cuQ09OU1RfX0hFSUdIVCA9IDY7XG5ab25lV2luZG93LkNPTlNUX19XSURUSCA9IDc7XG5ab25lV2luZG93LkNPTlNUX19BWklNVVRIID0gODtcblpvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18xID0gOTtcblpvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18yID0gMTA7XG5ab25lV2luZG93LlJlZ2V4ID0gJ14gMyguezN9KSgoICgxMCl8KCAgWzAtOV0pKSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSknO1xuZXhwb3J0cy5kZWZhdWx0ID0gWm9uZVdpbmRvdztcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgQ2VpbGluZ0hlaWdodFxuICovXG52YXIgQ2VpbGluZ0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2VpbGluZ0hlaWdodChsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDZWlsaW5nSGVpZ2h0KTtcblxuICAgIHRoaXMuem9uZUlkID0gJyc7XG4gICAgdGhpcy5oZWlnaHQgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoQ2VpbGluZ0hlaWdodC5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhWzNdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDZWlsaW5nSGVpZ2h0LCBbe1xuICAgIGtleTogJ2dldFpvbmVJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IENlaWxpbmdIZWlnaHQoZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlaWxpbmdIZWlnaHQ7XG59KCk7XG5cbkNlaWxpbmdIZWlnaHQuUmVnZXggPSAnXiAzKC57M30pNzAwKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJztcbmV4cG9ydHMuZGVmYXVsdCA9IENlaWxpbmdIZWlnaHQ7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEJyZWFrIHRoZSBIb3Jpem9udGFsIFNoYWRpbmcgU2NoZW1lIGRhdGEgaW50byBpdHMgdmFyaW91cyBwYXJ0c1xuICovXG52YXIgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIENvbnN0YW50cyB0aGF0IG1hcCB0aGUgdmFyaW91cyBiaXRzIG9mIGRhdGEgdG8gdGhlIHNlY3Rpb24gb2YgcmVnZXhcbiAgICovXG4gIGZ1bmN0aW9uIEhvcml6b250YWxTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvcml6b250YWxTaGFkaW5nU2NoZW1lKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLmVhdmVQcm9qZWN0aW9uID0gJyc7XG4gICAgdGhpcy5lYXZlT2Zmc2V0ID0gJyc7XG4gICAgdGhpcy5wZXJnb2xhUHJvamVjdGlvbiA9ICcnO1xuICAgIHRoaXMucGVyZ29sYU9mZnNldCA9ICcnO1xuICAgIHRoaXMucHJvamVjdGlvbiA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19JRF0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLmVhdmVPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLnBlcmdvbGFPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgaGlnaGVzdCBwcm9qZWN0aW9uIHZhbHVlIGFuZCByZXR1cm5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUsIFt7XG4gICAga2V5OiAnZ2V0UHJvamVjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFByb2plY3Rpb24oKSB7XG4gICAgICB2YXIgcHJvamVjdGlvbiA9IHBhcnNlRmxvYXQodGhpcy5nZXRFYXZlUHJvamVjdGlvbigpKSA+IHBhcnNlRmxvYXQodGhpcy5nZXRQZXJnb2xhUHJvamVjdGlvbigpKSA/IHRoaXMuZ2V0RWF2ZVByb2plY3Rpb24oKSA6IHRoaXMuZ2V0UGVyZ29sYVByb2plY3Rpb24oKTtcblxuICAgICAgcmV0dXJuIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJvdW5kVmFsdWUocHJvamVjdGlvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEVhdmVPZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFYXZlT2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWF2ZU9mZnNldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFYXZlUHJvamVjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVhdmVQcm9qZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWF2ZVByb2plY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0UGVyZ29sYU9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBlcmdvbGFPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wZXJnb2xhT2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFBlcmdvbGFQcm9qZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGVyZ29sYVByb2plY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wZXJnb2xhUHJvamVjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgcHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgIG9mZnNldDoge1xuICAgICAgICAgIGVhdmU6IHRoaXMuZ2V0RWF2ZU9mZnNldCgpLFxuICAgICAgICAgIHBlcmdvbGE6IHRoaXMuZ2V0UGVyZ29sYU9mZnNldCgpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm91bmQgdGhlIHByb3ZpZGVkIHZhbHVlIChwcm9qZWN0aW9uKSB0byB0aGUgbmVhcmVzdCAwLjA1XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHJvdW5kXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdSb3VuZFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gUm91bmRWYWx1ZSh2YWx1ZSkge1xuICAgICAgLy8gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQxMzYwMi8xNTYwNTkzXG4gICAgICByZXR1cm4gKE1hdGgucm91bmQodmFsdWUgKiAyMCkgLyAyMCkudG9GaXhlZCgyKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWU7XG59KCk7XG5cbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19JRCA9IDE7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5DT05TVF9fRUFWRV9QUk9KRUNUSU9OID0gMjtcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX09GRlNFVCA9IDM7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5DT05TVF9fUEVSR09MQV9QUk9KRUNUSU9OID0gNjtcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX09GRlNFVCA9IDc7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCA9ICdeIDEgMjAoLnszfSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkkJztcbmV4cG9ydHMuZGVmYXVsdCA9IEhvcml6b250YWxTaGFkaW5nU2NoZW1lO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBCcmVhayBhIFdpbmRvdyBjb25zdHJ1Y3Rpb24gZGF0YSBsaW5lIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xudmFyIFdpbmRvd0NvbnN0cnVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdpbmRvd0NvbnN0cnVjdGlvbik7XG5cbiAgICB0aGlzLmlkID0gJyc7XG4gICAgdGhpcy5uYW1lID0gJyc7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFdpbmRvd0NvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLm5hbWUgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhXaW5kb3dDb25zdHJ1Y3Rpb24sIFt7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgV2luZG93Q29uc3RydWN0aW9uKGRhdGEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXaW5kb3dDb25zdHJ1Y3Rpb247XG59KCk7XG5cbldpbmRvd0NvbnN0cnVjdGlvbi5DT05TVF9fSUQgPSAzO1xuV2luZG93Q29uc3RydWN0aW9uLkNPTlNUX19OQU1FID0gJyc7XG5XaW5kb3dDb25zdHJ1Y3Rpb24uUmVnZXggPSAnXiBcXFxcZCguezN9KVsgXFxcXGRdKihbYS16QS1aXVthLXpBLVpcXFxcLVxcXFxkJl17OX1bIGEtekEtWl1bYS16QS1aXT8pJztcbmV4cG9ydHMuZGVmYXVsdCA9IFdpbmRvd0NvbnN0cnVjdGlvbjtcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgWm9uZURldGFpbFxuICovXG52YXIgWm9uZURldGFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWm9uZURldGFpbChsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBab25lRGV0YWlsKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLm5hbWUgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoWm9uZURldGFpbC5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLm5hbWUgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhab25lRGV0YWlsLCBbe1xuICAgIGtleTogJ2dldElkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXROYW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0aGlzLmdldElkKCksXG4gICAgICAgIG5hbWU6IHRoaXMuZ2V0TmFtZSgpXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFpvbmVEZXRhaWwoZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFpvbmVEZXRhaWw7XG59KCk7XG5cblpvbmVEZXRhaWwuUmVnZXggPSAnXkMgWjAwPyhcXFxcZHsxLDN9KSA9PiAoLiopJCc7XG5leHBvcnRzLmRlZmF1bHQgPSBab25lRGV0YWlsO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxvb3JDb25zdHJ1Y3Rpb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIFpvbmVGbG9vclxuICovXG52YXIgWm9uZUZsb29yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBab25lRmxvb3IobGluZURhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWm9uZUZsb29yKTtcblxuICAgIHRoaXMuem9uZUlkID0gJyc7XG4gICAgdGhpcy5jb25zdHJ1Y3Rpb25JZCA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lRmxvb3IuUmVnZXgpO1xuICAgIHZhciBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLnpvbmVJZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMuY29uc3RydWN0aW9uSWQgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhab25lRmxvb3IsIFt7XG4gICAga2V5OiAnZ2V0Wm9uZUlkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Wm9uZUlkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZUlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldENvbnN0cnVjdGlvbklkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uc3RydWN0aW9uSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rpb25JZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgem9uZUlkOiB0aGlzLmdldFpvbmVJZCgpLFxuICAgICAgICBjb25zdHJ1Y3Rpb25JZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFpvbmVGbG9vcihkYXRhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWm9uZUZsb29yO1xufSgpO1xuXG5ab25lRmxvb3IuUmVnZXggPSAnIDMoLi4uKSgnICsgX0Zsb29yQ29uc3RydWN0aW9uMi5kZWZhdWx0LkNvbnN0cnVjdGlvbklkUmVnZXggKyAnKSc7XG5leHBvcnRzLmRlZmF1bHQgPSBab25lRmxvb3I7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIEdyb3VuZEZsb29yXG4gKi9cbnZhciBHcm91bmRGbG9vciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR3JvdW5kRmxvb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyb3VuZEZsb29yKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHcm91bmRGbG9vciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiVGVzdFwiLFxuXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGFueSBvZiB0aGUgcHJvdmlkZWQgZmxvb3JzIGhhdmUgYSBDU09HIGNvbnN0cnVjdGlvbiwgaW5kaWNhdGluZyB0aGUgem9uZSBpcyBsaWtlbHkgb24gdGhlIGdyb3VuZCBmbG9vclxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gZmxvb3JzIFRoZSBmbG9vcnMgdG8gY2hlY2sgZm9yIENTT0dcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBUZXN0KGZsb29ycykge1xuICAgICAgcmV0dXJuIGZsb29ycy5maWx0ZXIoZnVuY3Rpb24gKGZsb29yKSB7XG4gICAgICAgIHJldHVybiBmbG9vci5pc0Nzb2c7XG4gICAgICB9KS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHcm91bmRGbG9vcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JvdW5kRmxvb3I7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIE9yaWVudGF0aW9uXG4gKi9cbnZhciBPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT3JpZW50YXRpb24oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9yaWVudGF0aW9uKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhPcmllbnRhdGlvbiwgbnVsbCwgW3tcbiAgICBrZXk6ICdHZXQnLFxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGF6aW11dGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhemltdXRoICAgQXppbXV0aCB2YWx1ZSBiZWluZyBjaGFuZ2VkIHRvIG9yaWVudGF0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlZmVyZW5jZSBSZWZlcmVuY2UgYXppbXV0aCBmb3IgTm9ydGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gR2V0KGF6aW11dGgsIHJlZmVyZW5jZSkge1xuICAgICAgdmFyIGF6aW11dGhJbnQgPSBwYXJzZUludChhemltdXRoLCAxMCk7XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19OX0UpKSB7XG4gICAgICAgIHJldHVybiAnTkUnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fRSkpIHtcbiAgICAgICAgcmV0dXJuICdFJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1NfRSkpIHtcbiAgICAgICAgcmV0dXJuICdTRSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TKSkge1xuICAgICAgICByZXR1cm4gJ1MnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fU19XKSkge1xuICAgICAgICByZXR1cm4gJ1NXJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1cpKSB7XG4gICAgICAgIHJldHVybiAnVyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19OX1cpKSB7XG4gICAgICAgIHJldHVybiAnTlcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ04nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0lzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gSXMoYXppbXV0aCwgcmVmZXJlbmNlLCBsaW1pdHMpIHtcbiAgICAgIHZhciB2ZWN0b3IgPSB7XG4gICAgICAgIHVwcGVyOiBPcmllbnRhdGlvbi5Ob3JtYWxpemUocGFyc2VJbnQocmVmZXJlbmNlLCAxMCkgKyBsaW1pdHMudXBwZXIpLFxuICAgICAgICBsb3dlcjogT3JpZW50YXRpb24uTm9ybWFsaXplKHBhcnNlSW50KHJlZmVyZW5jZSwgMTApICsgbGltaXRzLmxvd2VyKVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGF6aW11dGggPj0gdmVjdG9yLmxvd2VyICYmIGF6aW11dGggPD0gdmVjdG9yLnVwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSBhIHZhbHVlIHRvIGJlIHdpdGhpbiB0aGUgMC0zNjAgcmFuZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW50fSBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtpbnR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ05vcm1hbGl6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIE5vcm1hbGl6ZShudW1iZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiAzNjAgLSBNYXRoLmFicyhudW1iZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobnVtYmVyID4gMzYwKSB7XG4gICAgICAgIHJldHVybiBudW1iZXIgLSAzNjA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE9yaWVudGF0aW9uO1xufSgpO1xuXG5PcmllbnRhdGlvbi5DT05TVF9fTiA9IHsgbG93ZXI6IDIyLCB1cHBlcjogMzM4IH07XG5PcmllbnRhdGlvbi5DT05TVF9fTl9FID0geyBsb3dlcjogMjMsIHVwcGVyOiA2NyB9O1xuT3JpZW50YXRpb24uQ09OU1RfX0UgPSB7IGxvd2VyOiA2OCwgdXBwZXI6IDExMiB9O1xuT3JpZW50YXRpb24uQ09OU1RfX1NfRSA9IHsgbG93ZXI6IDExMywgdXBwZXI6IDE1NyB9O1xuT3JpZW50YXRpb24uQ09OU1RfX1MgPSB7IGxvd2VyOiAxNTgsIHVwcGVyOiAyMDIgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19TX1cgPSB7IGxvd2VyOiAyMDMsIHVwcGVyOiAyNDcgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19XID0geyBsb3dlcjogMjQ4LCB1cHBlcjogMjkyIH07XG5PcmllbnRhdGlvbi5DT05TVF9fTl9XID0geyBsb3dlcjogMjkzLCB1cHBlcjogMzM3IH07XG5leHBvcnRzLmRlZmF1bHQgPSBPcmllbnRhdGlvbjtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQ2VpbGluZ0hlaWdodCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfQ2VpbGluZ0hlaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DZWlsaW5nSGVpZ2h0KTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUpO1xuXG52YXIgX0xvb2tzTGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgX0xvb2tzTGlrZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb29rc0xpa2UpO1xuXG52YXIgX1dpbmRvd0NvbnN0cnVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dpbmRvd0NvbnN0cnVjdGlvbik7XG5cbnZhciBfWm9uZVdpbmRvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfWm9uZVdpbmRvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lV2luZG93KTtcblxudmFyIF9ab25lRGV0YWlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9ab25lRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVEZXRhaWwpO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbik7XG5cbnZhciBfWm9uZUZsb29yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9ab25lRmxvb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZUZsb29yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBTY3JhdGNoRmlsZUxpbmVcbiAqL1xudmFyIFNjcmF0Y2hGaWxlTGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2NyYXRjaEZpbGVMaW5lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JhdGNoRmlsZUxpbmUpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNjcmF0Y2hGaWxlTGluZSwgbnVsbCwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG5cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGEgZGF0YSBsaW5lIGludG8gdGhlIGFwcHJvcHJpYXRlIGNsYXNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgcGFyc2VkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuU2hhZGluZ1NjaGVtZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5DZWlsaW5nSGVpZ2h0KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfQ2VpbGluZ0hlaWdodDIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuV2luZG93Q29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfV2luZG93Q29uc3RydWN0aW9uMi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5ab25lV2luZG93KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfWm9uZVdpbmRvdzIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuWm9uZURldGFpbChkYXRhKSkge1xuICAgICAgICByZXR1cm4gX1pvbmVEZXRhaWwyLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LkZsb29yQ29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfRmxvb3JDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LlpvbmVGbG9vcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gX1pvbmVGbG9vcjIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JhdGNoRmlsZUxpbmU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNjcmF0Y2hGaWxlTGluZTtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dpbmRvd0NvbnN0cnVjdGlvbjIpO1xuXG52YXIgX1pvbmVXaW5kb3cyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9ab25lV2luZG93MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVXaW5kb3cyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfQ2VpbGluZ0hlaWdodDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DZWlsaW5nSGVpZ2h0Mik7XG5cbnZhciBfWm9uZURldGFpbDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX1pvbmVEZXRhaWwzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZURldGFpbDIpO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uMiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxvb3JDb25zdHJ1Y3Rpb24yKTtcblxudmFyIF9ab25lRmxvb3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9ab25lRmxvb3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZUZsb29yMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBjbGFzcyB0byBjb21wYXJlIGEgZGF0YSBzdHJpbmcgYW5kIGluZGljYXRlIHdoYXQgdHlwZSBvZiBkYXRhIGl0IGxvb2tzIGxpa2VcbiAqL1xudmFyIExvb2tzTGlrZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTG9va3NMaWtlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb29rc0xpa2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExvb2tzTGlrZSwgbnVsbCwgW3tcbiAgICBrZXk6ICdTaGFkaW5nU2NoZW1lJyxcblxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSBob3Jpem9udGFsIHNoYWRpbmcgc2NoZW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gU2hhZGluZ1NjaGVtZShsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUyLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgd2luZG93IGNvbnN0cnVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1dpbmRvd0NvbnN0cnVjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFdpbmRvd0NvbnN0cnVjdGlvbihsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfV2luZG93Q29uc3RydWN0aW9uMy5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgd2luZG93XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnWm9uZVdpbmRvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFpvbmVXaW5kb3cobGluZURhdGEpIHtcbiAgICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgX1pvbmVXaW5kb3czLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgY2VpbGluZyBoZWlnaHQgbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ0NlaWxpbmdIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBDZWlsaW5nSGVpZ2h0KGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9DZWlsaW5nSGVpZ2h0My5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZGV0YWlsIGxpbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdab25lRGV0YWlsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gWm9uZURldGFpbChsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfWm9uZURldGFpbDMuZGVmYXVsdC5SZWdleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSBmbG9vciBjb25zdHJ1Y3Rpb24gbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ0Zsb29yQ29uc3RydWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gRmxvb3JDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgX0Zsb29yQ29uc3RydWN0aW9uMy5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZmxvb3IgbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1pvbmVGbG9vcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFpvbmVGbG9vcihsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfWm9uZUZsb29yMy5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIHJlZ2V4IHRlc3QgYWdhaW5zdCB0aGUgZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgIFRoZSBkYXRhIHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnZXggVGhlIHJlZ2V4IHBhdHRlcm4gdG8gdGVzdCB3aXRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnVGVzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFRlc3QoZGF0YSwgcmVnZXgpIHtcbiAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4KTtcbiAgICAgIHJldHVybiByZWdleHAudGVzdChkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hhdCB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ3xib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdSZXZlcnNlTG9va3VwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gUmV2ZXJzZUxvb2t1cChkYXRhKSB7XG4gICAgICBpZiAoTG9va3NMaWtlLlNoYWRpbmdTY2hlbWUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuICdIb3Jpem9udGFsU2hhZGluZ1NjaGVtZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuQ2VpbGluZ0hlaWdodChkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ0NlaWxpbmdIZWlnaHQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLldpbmRvd0NvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1dpbmRvd0NvbnN0cnVjdGlvbic7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuWm9uZVdpbmRvdyhkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1pvbmVXaW5kb3cnO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLlpvbmVEZXRhaWwoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuICdab25lRGV0YWlsJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5GbG9vckNvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ0Zsb29yQ29uc3RydWN0aW9uJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5ab25lRmxvb3IoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuICdab25lRmxvb3InO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvb2tzTGlrZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTG9va3NMaWtlO1xuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7IC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEEgY2xhc3MgdG8gaGFuZGxlIHBhcnNpbmcgYW4gZW50aXJlIHNjcmF0Y2ggZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG5cbnZhciBfU2NyYXRjaEZpbGVMaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9TY3JhdGNoRmlsZUxpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2NyYXRjaEZpbGVMaW5lKTtcblxudmFyIF9Mb29rc0xpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9Mb29rc0xpa2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9va3NMaWtlKTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX1dpbmRvd0NvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XaW5kb3dDb25zdHJ1Y3Rpb24pO1xuXG52YXIgX1pvbmVXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdyk7XG5cbnZhciBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hvcml6b250YWxTaGFkaW5nU2NoZW1lKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NlaWxpbmdIZWlnaHQpO1xuXG52YXIgX1pvbmVEZXRhaWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX1pvbmVEZXRhaWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZURldGFpbCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Zsb29yQ29uc3RydWN0aW9uKTtcblxudmFyIF9ab25lRmxvb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX1pvbmVGbG9vcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRmxvb3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUGFyc2VyID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBmaWxlIEEgc2NyYXRjaGZpbGUgYXJyYXlcbiAgICovXG4gIGZ1bmN0aW9uIFBhcnNlcihmaWxlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnNlcik7XG5cbiAgICB0aGlzLndpbmRvd0NvbnN0cnVjdGlvbnMgPSBbXTtcbiAgICB0aGlzLnpvbmVXaW5kb3dzID0gW107XG4gICAgdGhpcy56b25lRGV0YWlscyA9IFtdO1xuICAgIHRoaXMuc2hhZGluZ1NjaGVtZXMgPSBbXTtcbiAgICB0aGlzLmNlaWxpbmdIZWlnaHRzID0gW107XG5cbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBhcnNlciwgW3tcbiAgICBrZXk6ICdwcm9jZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHZhciBkYXRhTGluZXMgPSB0aGlzLmdldERhdGFMaW5lcygpO1xuXG4gICAgICAvLyBGaWx0ZXIgdGhlIGFycmF5cyB0byBvbmx5IGluY2x1ZGUgdGhlIHJlbGF0ZWQgZGF0YSwgdGhlbiBidWlsZCB0aGUgZGF0YSBsaW5lIGludG8gdGhlIGFwcHJvcHJpYXRlIGNsYXNzXG4gICAgICB0aGlzLndpbmRvd0NvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdXaW5kb3dDb25zdHJ1Y3Rpb24nO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIF9XaW5kb3dDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQnVpbGQod2luZG93KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnpvbmVXaW5kb3dzID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZVdpbmRvdyc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHpvbmVXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lV2luZG93Mi5kZWZhdWx0LkJ1aWxkKHpvbmVXaW5kb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2hhZGluZ1NjaGVtZXMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdIb3Jpem9udGFsU2hhZGluZ1NjaGVtZSc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHNoYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIuZGVmYXVsdC5CdWlsZChzaGFkaW5nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNlaWxpbmdIZWlnaHRzID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnQ2VpbGluZ0hlaWdodCc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGNlaWxpbmdIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIF9DZWlsaW5nSGVpZ2h0Mi5kZWZhdWx0LkJ1aWxkKGNlaWxpbmdIZWlnaHQpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuem9uZURldGFpbHMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lRGV0YWlsJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZURldGFpbCkge1xuICAgICAgICByZXR1cm4gX1pvbmVEZXRhaWwyLmRlZmF1bHQuQnVpbGQoem9uZURldGFpbCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5mbG9vckNvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdGbG9vckNvbnN0cnVjdGlvbic7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGZsb29yQ29uc3RydWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfRmxvb3JDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQnVpbGQoZmxvb3JDb25zdHJ1Y3Rpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuem9uZUZsb29ycyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVGbG9vcic7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHpvbmVGbG9vcikge1xuICAgICAgICByZXR1cm4gX1pvbmVGbG9vcjIuZGVmYXVsdC5CdWlsZCh6b25lRmxvb3IpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lcyBvZiBkYXRhIHRoYXQgbWF0Y2ggYSB0eXBlIHdlJ3JlIGludGVyZXN0ZWQgaW5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0RGF0YUxpbmVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YUxpbmVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsZS5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9TY3JhdGNoRmlsZUxpbmUyLmRlZmF1bHQuQnVpbGQobGluZSkgIT09IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0V2luZG93Q29uc3RydWN0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpbmRvd0NvbnN0cnVjdGlvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy53aW5kb3dDb25zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFpvbmVXaW5kb3dzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Wm9uZVdpbmRvd3MoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lV2luZG93cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTaGFkaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2hhZGluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoYWRpbmdTY2hlbWVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldENlaWxpbmdIZWlnaHRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VpbGluZ0hlaWdodHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZWlsaW5nSGVpZ2h0cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRab25lRGV0YWlscycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVEZXRhaWxzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZURldGFpbHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Rmxvb3JDb25zdHJ1Y3Rpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmxvb3JDb25zdHJ1Y3Rpb25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmxvb3JDb25zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFpvbmVGbG9vcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lRmxvb3JzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZUZsb29ycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGRhdGEgaW4gYW4gb2JqZWN0IHRoYXQgY2FuIGJlIGRlY29uc3RydWN0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldEFsbERhdGEnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxEYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2luZG93Q29uc3RydWN0aW9uczogdGhpcy5nZXRXaW5kb3dDb25zdHJ1Y3Rpb25zKCksXG4gICAgICAgIHpvbmVXaW5kb3dzOiB0aGlzLmdldFpvbmVXaW5kb3dzKCksXG4gICAgICAgIHNoYWRpbmc6IHRoaXMuZ2V0U2hhZGluZygpLFxuICAgICAgICBjZWlsaW5nSGVpZ2h0czogdGhpcy5nZXRDZWlsaW5nSGVpZ2h0cygpLFxuICAgICAgICB6b25lRGV0YWlsczogdGhpcy5nZXRab25lRGV0YWlscygpLFxuICAgICAgICBmbG9vckNvbnN0cnVjdGlvbnM6IHRoaXMuZ2V0Rmxvb3JDb25zdHJ1Y3Rpb25zKCksXG4gICAgICAgIHpvbmVGbG9vcnM6IHRoaXMuZ2V0Wm9uZUZsb29ycygpXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYXJzZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnNlcjtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX09yaWVudGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9PcmllbnRhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcmllbnRhdGlvbik7XG5cbnZhciBfR3JvdW5kRmxvb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX0dyb3VuZEZsb29yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VuZEZsb29yKTtcblxudmFyIF9ab25lV2luZG93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9ab25lV2luZG93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVXaW5kb3cpO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgUmVzdWx0c0J1aWxkZXJcbiAqXG4gKiBUaGlzIGNsYXNzIHdpbGwgdGFrZSB2YXJpb3VzIGFycmF5cyBvZiBkYXRhIGxpbmVzLCBidWlsZCB0aGVtIGludG8gdGhlaXIgYXBwcm9wcmlhdGUgY2xhc3NlcyxcbiAqIGxpbmsgdGhlbSB0aHJvdWdoIHZhcmlvdXMgSUQncywgYW5kIHRoZW4gY3JlYXRlIG11bHRpcGxlIG91dHB1dCBsaW5lc1xuICovXG5cbnZhciBSZXN1bHRzQnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmVzdWx0c0J1aWxkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc3VsdHNCdWlsZGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXN1bHRzQnVpbGRlciwgbnVsbCwgW3tcbiAgICBrZXk6ICdDb21waWxlJyxcblxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSB0aGUgdmFyaW91cyBhcnJheXMgaW50byBhIHNpbmdsZSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gd2luZG93Q29uc3RydWN0aW9uc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IHpvbmVXaW5kb3dzXG4gICAgICogQHBhcmFtIHthcnJheX0gc2hhZGluZ1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IGNlaWxpbmdIZWlnaHRzXG4gICAgICogQHBhcmFtIHthcnJheX0gem9uZURldGFpbHNcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBmbG9vckNvbnN0cnVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRmxvb3JzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gQ29tcGlsZShfcmVmKSB7XG4gICAgICB2YXIgd2luZG93Q29uc3RydWN0aW9ucyA9IF9yZWYud2luZG93Q29uc3RydWN0aW9ucyxcbiAgICAgICAgICB6b25lV2luZG93cyA9IF9yZWYuem9uZVdpbmRvd3MsXG4gICAgICAgICAgc2hhZGluZyA9IF9yZWYuc2hhZGluZyxcbiAgICAgICAgICBjZWlsaW5nSGVpZ2h0cyA9IF9yZWYuY2VpbGluZ0hlaWdodHMsXG4gICAgICAgICAgem9uZURldGFpbHMgPSBfcmVmLnpvbmVEZXRhaWxzLFxuICAgICAgICAgIGZsb29yQ29uc3RydWN0aW9ucyA9IF9yZWYuZmxvb3JDb25zdHJ1Y3Rpb25zLFxuICAgICAgICAgIHpvbmVGbG9vcnMgPSBfcmVmLnpvbmVGbG9vcnM7XG5cbiAgICAgIHJldHVybiB6b25lRGV0YWlscy5tYXAoZnVuY3Rpb24gKHpvbmUpIHtcbiAgICAgICAgLy8gRmlsdGVyIHRoZSB6b25lIHdpbmRvd3MgZm9yIG9ubHkgd2luZG93cyBpbiB0aGlzIHpvbmUsIGFuZCB0aGVuIG1hcCB0aGUgd2luZG93IGNvbnN0cnVjdGlvbiwgc2hhZGluZyBhbmQgY2VpbGluZyBoZWlnaHQgZGV0YWlsc1xuICAgICAgICB2YXIgd2luZG93cyA9IHpvbmVXaW5kb3dzLmZpbHRlcihmdW5jdGlvbiAod2luZG93KSB7XG4gICAgICAgICAgcmV0dXJuIHdpbmRvdy56b25lSWQgPT09IHpvbmUuaWQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZVdpbmRvdykge1xuICAgICAgICAgIHZhciBjb25zdHJ1Y3Rpb24gPSB3aW5kb3dDb25zdHJ1Y3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoY29ucykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnMuaWQgPT09IHpvbmVXaW5kb3cuZ2V0V2luZG93SWQoKTtcbiAgICAgICAgICB9KVswXTtcbiAgICAgICAgICB2YXIgc2hhZGluZ1NjaGVtZSA9IHNoYWRpbmcuZmlsdGVyKGZ1bmN0aW9uIChzaGFkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNoYWRlLmdldElkKCkgPT09IHpvbmVXaW5kb3cuZ2V0SG9yaXpTaGFkaW5nMUlkKCkgfHwgc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcySWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgY2VpbGluZ0hlaWdodCA9IGNlaWxpbmdIZWlnaHRzLmZpbHRlcihmdW5jdGlvbiAoY2VpbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGNlaWxpbmcuZ2V0Wm9uZUlkKCkgPT09IHpvbmUuZ2V0SWQoKTtcbiAgICAgICAgICB9KVswXTtcblxuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgem9uZVdpbmRvdywge1xuICAgICAgICAgICAgY29uc3RydWN0aW9uOiBjb25zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBzaGFkaW5nOiBzaGFkaW5nU2NoZW1lLFxuICAgICAgICAgICAgY2VpbGluZ0hlaWdodDogY2VpbGluZ0hlaWdodFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZmxvb3JzID0gem9uZUZsb29ycy5maWx0ZXIoZnVuY3Rpb24gKHpvbmVGbG9vcikge1xuICAgICAgICAgIHJldHVybiB6b25lRmxvb3Iuem9uZUlkID09PSB6b25lLmlkO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHpvbmVGbG9vcikge1xuICAgICAgICAgIHZhciBjb25zdHJ1Y3Rpb24gPSBmbG9vckNvbnN0cnVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChmbG9vckNvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZsb29yQ29uLmlkID09PSB6b25lRmxvb3IuY29uc3RydWN0aW9uSWQ7XG4gICAgICAgICAgfSlbMF07XG5cbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHpvbmVGbG9vciwgY29uc3RydWN0aW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogem9uZS5nZXRJZCgpLFxuICAgICAgICAgIG5hbWU6IHpvbmUuZ2V0TmFtZSgpLFxuICAgICAgICAgIHdpbmRvd3M6IHdpbmRvd3MsXG4gICAgICAgICAgb25Hcm91bmRGbG9vcjogX0dyb3VuZEZsb29yMi5kZWZhdWx0LlRlc3QoZmxvb3JzKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIHpvbmVzIGFycmF5IGludG8gYSBmbGF0dCBhcnJheSByZWFkeSBmb3IgY29udmVyc2lvbiB0byBDU1ZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YXJyYXl9ICB6b25lcyAgICAgVGhlIHpvbmVzIGFycmF5IGNyZWF0ZWQgaW4gUmVzdWx0c0J1aWxkZXIuQ29tcGlsZSgpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlZmVyZW5jZSBbT3B0aW9uYWxdIFJlZmVyZW5jZSBOb3J0aCBhemltdXRoLiBEZWZhdWx0IDBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZCh6b25lcykge1xuICAgICAgdmFyIHJlZmVyZW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgdmFyIGNzdiA9IHpvbmVzLm1hcChmdW5jdGlvbiAoem9uZSkge1xuICAgICAgICB2YXIgd2luZG93Q3N2ID0gem9uZS53aW5kb3dzLm1hcChmdW5jdGlvbiAod2luZG93KSB7XG4gICAgICAgICAgdmFyIHByb2plY3Rpb24gPSAnJztcbiAgICAgICAgICB2YXIgZWF2ZU9mZnNldCA9ICcnO1xuICAgICAgICAgIHZhciBwZXJnb2xhT2Zmc2V0ID0gJyc7XG4gICAgICAgICAgaWYgKHdpbmRvdy5zaGFkaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24gPSB3aW5kb3cuc2hhZGluZ1swXS5wcm9qZWN0aW9uO1xuICAgICAgICAgICAgZWF2ZU9mZnNldCA9IHdpbmRvdy5zaGFkaW5nWzBdLmVhdmVPZmZzZXQ7XG4gICAgICAgICAgICBwZXJnb2xhT2Zmc2V0ID0gd2luZG93LnNoYWRpbmdbMF0ucGVyZ29sYU9mZnNldDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gW3pvbmUubmFtZSwgJycsIF9PcmllbnRhdGlvbjIuZGVmYXVsdC5HZXQod2luZG93LmF6aW11dGgsIHJlZmVyZW5jZSksIHdpbmRvdy5oZWlnaHQsIHdpbmRvdy53aWR0aCwgcHJvamVjdGlvbiwgX1pvbmVXaW5kb3cyLmRlZmF1bHQuSGVhZEhlaWdodCh3aW5kb3cuaGVpZ2h0LCBlYXZlT2Zmc2V0KSwgd2luZG93LmNvbnN0cnVjdGlvbi5uYW1lLCB3aW5kb3cuY2VpbGluZ0hlaWdodC5oZWlnaHQsIGVhdmVPZmZzZXQsIHBlcmdvbGFPZmZzZXQsIHpvbmUub25Hcm91bmRGbG9vciA/ICcwJyA6ICcnXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQW4gZW1wdHkgd2luZG93Q3N2IG5lZWRzIHRvIGJlIHJldHVybmVkIGluc2lkZSBhbiBhcnJheSBpdHNlbGYsIGluIG9yZGVyIHRvIHdvcmsgd2l0aCB0aGUgZmxhdHRlbiBmdW5jdGlvblxuICAgICAgICByZXR1cm4gd2luZG93Q3N2Lmxlbmd0aCA+IDAgPyB3aW5kb3dDc3YgOiBbd2luZG93Q3N2XTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gKDAsIF91dGlscy5mbGF0dGVuKShjc3YpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXN1bHRzQnVpbGRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVzdWx0c0J1aWxkZXI7XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoJ2pzL3dvcmtlci5bW3dvcmtlckhhc2hdXS5qcycpO1xuXG52YXIgY3JlYXRlUHJldmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVByZXZpZXcocmVzdWx0cykge1xuICB2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cy1wcmV2aWV3LXRlbXBsYXRlJyk7XG4gIHZhciBpbnN0YW5jZSA9IGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XG5cbiAgdmFyIHRhYmxlQm9keSA9IGluc3RhbmNlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG5cbiAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICB2YXIgdGFibGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHZhciB0YWJsZUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdGFibGVDZWxsLmlubmVyVGV4dCA9IHJlcztcbiAgICAgIHRhYmxlUm93LmFwcGVuZENoaWxkKHRhYmxlQ2VsbCk7XG4gICAgfSk7XG5cbiAgICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQodGFibGVSb3cpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0cy1wcmV2aWV3JykuYXBwZW5kQ2hpbGQoaW5zdGFuY2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIGRvd25sb2FkIGZpbGUsIGFuZCBkb3dubG9hZCBpdCB0byB0aGUgdXNlcnMgYnJvd3NlclxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdHNcbiAqXG4gKiBAcmV0dXJucyB7bnVsbH1cbiAqL1xudmFyIGNyZWF0ZURvd25sb2FkID0gZnVuY3Rpb24gY3JlYXRlRG93bmxvYWQocmVzdWx0cykge1xuICB2YXIgY3N2Q29udGVudCA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsJztcbiAgdmFyIGhlYWRlckFyciA9IFsnWm9uZSBOYW1lJywgJ3tibGFua30nLCAnT3JpZW50YXRpb24nLCAnSGVpZ2h0JywgJ1dpZHRoJywgJ1Byb2plY3Rpb24nLCAnSCcsICdXaW5kb3cgVHlwZScsICdDZWlsaW5nIEhlaWdodCcsICdFYXZlIE9mZnNldCcsICdQZXJnb2xhIE9mZnNldCcsICdMZXZlbCddO1xuICB2YXIgaGVhZGVyUm93ID0gaGVhZGVyQXJyLmpvaW4oJywnKTtcbiAgY3N2Q29udGVudCArPSBoZWFkZXJSb3cgKyAnXFxuJztcblxuICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJvd0FycmF5KSB7XG4gICAgaWYgKHJvd0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciByb3cgPSByb3dBcnJheS5qb2luKCcsJyk7XG4gICAgICBjc3ZDb250ZW50ICs9IHJvdyArICdcXG4nO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVuY29kZWRVcmkgPSBlbmNvZGVVUkkoY3N2Q29udGVudCk7XG4gIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGVuY29kZWRVcmkpO1xuICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnZ2xhemluZy5jc3YnKTtcbiAgbGluay5oaWRkZW4gPSB0cnVlO1xuICBsaW5rLmlubmVySFRNTCA9ICdDbGljayBIZXJlIHRvIGRvd25sb2FkJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsgLy8gUmVxdWlyZWQgZm9yIEZGXG5cbiAgbGluay5jbGljaygpO1xufTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZpbGVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlVG9VcGxvYWQnKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKTtcblxuICBmaWxlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmV2aWV3LWJ1dHRvbi1jb250YWluZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsZS1zZWxlY3Rvci1sYWJlbCcpLmlubmVyVGV4dCA9ICdDaG9vc2UgZGlmZmVyZW50IGZpbGUuLi4nO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvY2VzcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm9ydGgtcmVmZXJlbmNlJykudmFsdWUgPT09ICcnKSB7XG4gICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgcmVmZXJlbmNlIG5vcnRoIGF6aW11dGgnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZmlsZVNlbGVjdG9yLmZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYSBzY3JhdGNoIGZpbGUnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlsZSA9IGZpbGVTZWxlY3Rvci5maWxlc1swXTtcbiAgICB2YXIgcmVmZXJlbmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vcnRoLXJlZmVyZW5jZScpLnZhbHVlO1xuXG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHsgZmlsZTogZmlsZSwgcmVmZXJlbmNlOiByZWZlcmVuY2UgfSk7XG5cbiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhO1xuXG4gICAgICBjcmVhdGVQcmV2aWV3KGRhdGEucmVzdWx0cyk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNyZWF0ZURvd25sb2FkKGRhdGEucmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBDbGVhciBwcmV2aWV3IHJlc3VsdHMgd2hlbiB0aGUgc2NyYXRjaCBmaWxlIGNoYW5nZXNcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVUb1VwbG9hZCcpLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzLXByZXZpZXcnKS5pbm5lckhUTUwgPSAnJztcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbi8qKlxuICogRmxhdHRlbiBhcnJheSAxIGxldmVsXG4gKlxuICogQHBhcmFtIHthcnJheX0gYXJyIEFycnlhIHRvIGZsYXR0ZW5cbiAqXG4gKiBAcmV0dXJucyB7YXJyYXl9XG4gKi9cbnZhciBmbGF0dGVuID0gZXhwb3J0cy5mbGF0dGVuID0gZnVuY3Rpb24gZmxhdHRlbihhcnIpIHtcbiAgdmFyIF9BcnJheSRwcm90b3R5cGU7XG5cbiAgcmV0dXJuIChfQXJyYXkkcHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlKS5jb25jYXQuYXBwbHkoX0FycmF5JHByb3RvdHlwZSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycikpO1xufTtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbl9fd2VicGFja19yZXF1aXJlX18oNyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbl9fd2VicGFja19yZXF1aXJlX18oOSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbl9fd2VicGFja19yZXF1aXJlX18oNik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzY3JpcHRzLjAxNGY4MjUzZGU1NjVmYzFkYTAyLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMDE0ZjgyNTNkZTU2NWZjMWRhMDIiLCIvKipcbiAqIENsYXNzIEZsb29yQ29uc3RydWN0aW9uXG4gKi9cbmNsYXNzIEZsb29yQ29uc3RydWN0aW9uIHtcblxuICBzdGF0aWMgQ29uc3RydWN0aW9uSWRSZWdleCA9ICcoMjRbMS05XXwyWzUtOV1cXFxcZHwzWzEtM11cXFxcZHwzNDApJztcbiAgc3RhdGljIFJlZ2V4ID0gYF4gMiR7Rmxvb3JDb25zdHJ1Y3Rpb24uQ29uc3RydWN0aW9uSWRSZWdleH1gO1xuICBzdGF0aWMgQ1NPR1JlZ2V4ID0gJ14gMigyNFsxLTldfDJbNS05XVxcXFxkfDNbMS0zXVxcXFxkfDM0MCkgICAoLns3fSkqKCAxOCAxMDApJztcblxuICBpZCA9ICcnO1xuICBpc0Nzb2cgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMuaXNDc29nID0gRmxvb3JDb25zdHJ1Y3Rpb24uVGVzdENzb2cobGluZURhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uc3RydWN0aW9uIGlkIHRoYXQgdGhpcyBmbG9vciBjb25zdHJ1Y3Rpb24gYmVsb25ncyB0b1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRydWUvZmFsc2UgaW5kaWNhdGluZyBpZiB0aGUgZmxvb3JpbmcgdHlwZSBpbiB0aGUgem9uZSBpcyBDU09HXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0SXNDc29nKCkge1xuICAgIHJldHVybiB0aGlzLmlzQ3NvZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IHRoZSBkYXRhIGxpbmUgdG8gc2VlIGlmIHRoZXJlIGlzIGNvbmNyZXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFRlc3RDc29nKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgY3NvZ1JlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5DU09HUmVnZXgpO1xuICAgIHJldHVybiBjc29nUmVnZXgudGVzdChsaW5lRGF0YSk7XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSk7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2V0Q29uc3RydWN0aW9uSWQoKSxcbiAgICAgIGlzQ3NvZzogdGhpcy5nZXRJc0Nzb2coKVxuICAgIH07XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGbG9vckNvbnN0cnVjdGlvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9GbG9vckNvbnN0cnVjdGlvbi5qcyIsIi8qKlxuICogQ2xhc3MgdG8gcGFyc2Ugd2luZG93IGluZm9ybWF0aW9uIGluc2lkZSBhIHpvbmUgc2VjdGlvblxuICovXG5jbGFzcyBab25lV2luZG93IHtcblxuICBzdGF0aWMgQ09OU1RfX1pPTkVfSUQgPSAxO1xuICBzdGF0aWMgQ09OU1RfX1dJTkRPV19JRCA9IDI7XG4gIHN0YXRpYyBDT05TVF9fSEVJR0hUID0gNjtcbiAgc3RhdGljIENPTlNUX19XSURUSCA9IDc7XG4gIHN0YXRpYyBDT05TVF9fQVpJTVVUSCA9IDg7XG4gIHN0YXRpYyBDT05TVF9fSE9SWl9TSEFESU5HXzEgPSA5O1xuICBzdGF0aWMgQ09OU1RfX0hPUlpfU0hBRElOR18yID0gMTA7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ14gMyguezN9KSgoICgxMCl8KCAgWzAtOV0pKSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSknO1xuXG4gIHpvbmVJZCA9ICcnO1xuICB3aW5kb3dJZCA9ICcnO1xuICBoZWlnaHQgPSAnJztcbiAgd2lkdGggPSAnJztcbiAgYXppbXV0aCA9ICcnO1xuICBoZWFkSGVpZ2h0ID0gJyc7IC8vIFRoaXMgdmFsdWUgaXNuJ3QgdXNlZCwganVzdCBoZXJlIHRvIGl0IGNhbiBob2xkIGFuIGVtcHR5IGNlbGwgaW4gdGhlIG91dHB1dCBDU1ZcbiAgaG9yaXpTaGFkaW5nMUlkID0gJyc7XG4gIGhvcml6U2hhZGluZzJJZCA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFpvbmVXaW5kb3cuUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19aT05FX0lEXS50cmltKCk7XG4gICAgdGhpcy53aW5kb3dJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lORE9XX0lEXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hFSUdIVF0udHJpbSgpO1xuICAgIHRoaXMud2lkdGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1dJRFRIXS50cmltKCk7XG4gICAgdGhpcy5hemltdXRoID0gZGF0YVtab25lV2luZG93LkNPTlNUX19BWklNVVRIXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcxSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18xXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcySWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18yXS50cmltKCk7XG4gIH1cblxuICBnZXRab25lSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuem9uZUlkO1xuICB9XG5cbiAgZ2V0V2luZG93SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMud2luZG93SWQ7XG4gIH1cblxuICBnZXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgZ2V0V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gIH1cblxuICBnZXRBemltdXRoKCkge1xuICAgIHJldHVybiB0aGlzLmF6aW11dGg7XG4gIH1cblxuICBnZXRIZWFkSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmhlYWRIZWlnaHQ7XG4gIH1cblxuICBnZXRIb3JpelNoYWRpbmcxSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9yaXpTaGFkaW5nMUlkO1xuICB9XG5cbiAgZ2V0SG9yaXpTaGFkaW5nMklkKCkge1xuICAgIHJldHVybiB0aGlzLmhvcml6U2hhZGluZzJJZDtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICB3aW5kb3dJZDogdGhpcy5nZXRXaW5kb3dJZCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgIGF6aW11dGg6IHRoaXMuZ2V0QXppbXV0aCgpLFxuICAgICAgaGVhZEhlaWdodDogdGhpcy5nZXRIZWFkSGVpZ2h0KCksXG4gICAgICBob3JpelNoYWRpbmcxSWQ6IHRoaXMuZ2V0SG9yaXpTaGFkaW5nMUlkKCksXG4gICAgICBob3JpelNoYWRpbmcySWQ6IHRoaXMuZ2V0SG9yaXpTaGFkaW5nMklkKClcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIEJ1aWxkKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFpvbmVXaW5kb3coZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBIZWFkIEhlaWdodCBvZiBhIHdpbmRvdyBmcm9tIHRoZSBoZWlnaHQgb2YgdGhlIHdpbmRvdyBhbmQgdGhlIGVhdmUgb2Zmc2V0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB3aW5kb3dIZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgd2luZG93XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlYXZlT2Zmc2V0ICAgVGhlIGVhdmUgb2Zmc2V0IG9mIHRoZSB3aW5kb3dcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIHN0YXRpYyBIZWFkSGVpZ2h0KHdpbmRvd0hlaWdodCwgZWF2ZU9mZnNldCkge1xuICAgIGNvbnN0IHdpbmRvd0hlaWdodEZsb2F0ID0gd2luZG93SGVpZ2h0ID09PSAnJyA/IDAgOiBwYXJzZUZsb2F0KHdpbmRvd0hlaWdodCk7XG4gICAgY29uc3QgZWF2ZU9mZnNldEZsb2F0ID0gZWF2ZU9mZnNldCA9PT0gJycgPyAwIDogcGFyc2VGbG9hdChlYXZlT2Zmc2V0KTtcbiAgICByZXR1cm4gKHdpbmRvd0hlaWdodEZsb2F0ICsgZWF2ZU9mZnNldEZsb2F0KS50b0ZpeGVkKDIpLnRvU3RyaW5nKCk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBab25lV2luZG93O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1pvbmVXaW5kb3cuanMiLCIvKipcbiAqIENsYXNzIENlaWxpbmdIZWlnaHRcbiAqL1xuY2xhc3MgQ2VpbGluZ0hlaWdodCB7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ14gMyguezN9KTcwMCguezZ9KSguezZ9KSguezZ9KSguezZ9KSc7XG5cbiAgem9uZUlkID0gJyc7XG4gIGhlaWdodCA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKENlaWxpbmdIZWlnaHQuUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhWzNdLnRyaW0oKTtcbiAgfVxuXG4gIGdldFpvbmVJZCgpIHtcbiAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gIH1cblxuICBnZXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgIGhlaWdodDogdGhpcy5nZXRIZWlnaHQoKVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgQ2VpbGluZ0hlaWdodChkYXRhKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENlaWxpbmdIZWlnaHQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvQ2VpbGluZ0hlaWdodC5qcyIsIi8qKlxuICogQnJlYWsgdGhlIEhvcml6b250YWwgU2hhZGluZyBTY2hlbWUgZGF0YSBpbnRvIGl0cyB2YXJpb3VzIHBhcnRzXG4gKi9cbmNsYXNzIEhvcml6b250YWxTaGFkaW5nU2NoZW1lIHtcblxuICAvKipcbiAgICogQ29uc3RhbnRzIHRoYXQgbWFwIHRoZSB2YXJpb3VzIGJpdHMgb2YgZGF0YSB0byB0aGUgc2VjdGlvbiBvZiByZWdleFxuICAgKi9cbiAgc3RhdGljIENPTlNUX19JRCA9IDE7XG4gIHN0YXRpYyBDT05TVF9fRUFWRV9QUk9KRUNUSU9OID0gMjtcbiAgc3RhdGljIENPTlNUX19FQVZFX09GRlNFVCA9IDM7XG4gIHN0YXRpYyBDT05TVF9fUEVSR09MQV9QUk9KRUNUSU9OID0gNjtcbiAgc3RhdGljIENPTlNUX19QRVJHT0xBX09GRlNFVCA9IDc7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ14gMSAyMCguezN9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSQnO1xuXG4gIGlkID0gJyc7XG4gIGVhdmVQcm9qZWN0aW9uID0gJyc7XG4gIGVhdmVPZmZzZXQgPSAnJztcbiAgcGVyZ29sYVByb2plY3Rpb24gPSAnJztcbiAgcGVyZ29sYU9mZnNldCA9ICcnO1xuICBwcm9qZWN0aW9uID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19JRF0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLmVhdmVPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLnBlcmdvbGFPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgaGlnaGVzdCBwcm9qZWN0aW9uIHZhbHVlIGFuZCByZXR1cm5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldFByb2plY3Rpb24oKSB7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHBhcnNlRmxvYXQodGhpcy5nZXRFYXZlUHJvamVjdGlvbigpKSA+IHBhcnNlRmxvYXQodGhpcy5nZXRQZXJnb2xhUHJvamVjdGlvbigpKSA/XG4gICAgICB0aGlzLmdldEVhdmVQcm9qZWN0aW9uKCkgOlxuICAgICAgdGhpcy5nZXRQZXJnb2xhUHJvamVjdGlvbigpO1xuXG4gICAgcmV0dXJuIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJvdW5kVmFsdWUocHJvamVjdGlvbik7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIGdldEVhdmVPZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWF2ZU9mZnNldDtcbiAgfVxuXG4gIGdldEVhdmVQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmVhdmVQcm9qZWN0aW9uO1xuICB9XG5cbiAgZ2V0UGVyZ29sYU9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5wZXJnb2xhT2Zmc2V0O1xuICB9XG5cbiAgZ2V0UGVyZ29sYVByb2plY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGVyZ29sYVByb2plY3Rpb247XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgIHByb2plY3Rpb246IHRoaXMuZ2V0UHJvamVjdGlvbigpLFxuICAgICAgb2Zmc2V0OiB7XG4gICAgICAgIGVhdmU6IHRoaXMuZ2V0RWF2ZU9mZnNldCgpLFxuICAgICAgICBwZXJnb2xhOiB0aGlzLmdldFBlcmdvbGFPZmZzZXQoKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUoZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogUm91bmQgdGhlIHByb3ZpZGVkIHZhbHVlIChwcm9qZWN0aW9uKSB0byB0aGUgbmVhcmVzdCAwLjA1XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcm91bmRcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBSb3VuZFZhbHVlKHZhbHVlKSB7XG4gICAgLy8gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQxMzYwMi8xNTYwNTkzXG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKHZhbHVlICogMjApIC8gMjApLnRvRml4ZWQoMik7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5qcyIsIi8qKlxuICogQnJlYWsgYSBXaW5kb3cgY29uc3RydWN0aW9uIGRhdGEgbGluZSBpbnRvIGl0cyB2YXJpb3VzIHBhcnRzXG4gKi9cbmNsYXNzIFdpbmRvd0NvbnN0cnVjdGlvbiB7XG5cbiAgc3RhdGljIENPTlNUX19JRCA9IDM7XG4gIHN0YXRpYyBDT05TVF9fTkFNRSA9ICcnO1xuXG4gIHN0YXRpYyBSZWdleCA9ICdeIFxcXFxkKC57M30pWyBcXFxcZF0qKFthLXpBLVpdW2EtekEtWlxcXFwtXFxcXGQmXXs5fVsgYS16QS1aXVthLXpBLVpdPyknO1xuXG4gIGlkID0gJyc7XG4gIG5hbWUgPSAnJztcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChXaW5kb3dDb25zdHJ1Y3Rpb24uUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLm5hbWUgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgV2luZG93Q29uc3RydWN0aW9uKGRhdGEpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2luZG93Q29uc3RydWN0aW9uO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1dpbmRvd0NvbnN0cnVjdGlvbi5qcyIsIi8qKlxuICogQ2xhc3MgWm9uZURldGFpbFxuICovXG5jbGFzcyBab25lRGV0YWlsIHtcblxuICBzdGF0aWMgUmVnZXggPSAnXkMgWjAwPyhcXFxcZHsxLDN9KSA9PiAoLiopJCc7XG5cbiAgaWQgPSAnJztcbiAgbmFtZSA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFpvbmVEZXRhaWwuUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLm5hbWUgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG5cbiAgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmdldElkKCksXG4gICAgICBuYW1lOiB0aGlzLmdldE5hbWUoKVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgWm9uZURldGFpbChkYXRhKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVEZXRhaWw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvWm9uZURldGFpbC5qcyIsImltcG9ydCBGbG9vckNvbnN0cnVjdGlvbiBmcm9tICcuL0Zsb29yQ29uc3RydWN0aW9uJztcbi8qKlxuICogQ2xhc3MgWm9uZUZsb29yXG4gKi9cbmNsYXNzIFpvbmVGbG9vciB7XG5cbiAgc3RhdGljIFJlZ2V4ID0gYCAzKC4uLikoJHtGbG9vckNvbnN0cnVjdGlvbi5Db25zdHJ1Y3Rpb25JZFJlZ2V4fSlgO1xuXG4gIHpvbmVJZCA9ICcnO1xuICBjb25zdHJ1Y3Rpb25JZCA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFpvbmVGbG9vci5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmNvbnN0cnVjdGlvbklkID0gZGF0YVsyXS50cmltKCk7XG4gIH1cblxuICBnZXRab25lSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuem9uZUlkO1xuICB9XG5cbiAgZ2V0Q29uc3RydWN0aW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0aW9uSWQ7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgem9uZUlkOiB0aGlzLmdldFpvbmVJZCgpLFxuICAgICAgY29uc3RydWN0aW9uSWQ6IHRoaXMuZ2V0Q29uc3RydWN0aW9uSWQoKVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgWm9uZUZsb29yKGRhdGEpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9uZUZsb29yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1pvbmVGbG9vci5qcyIsIi8qKlxuICogQ2xhc3MgR3JvdW5kRmxvb3JcbiAqL1xuY2xhc3MgR3JvdW5kRmxvb3Ige1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFueSBvZiB0aGUgcHJvdmlkZWQgZmxvb3JzIGhhdmUgYSBDU09HIGNvbnN0cnVjdGlvbiwgaW5kaWNhdGluZyB0aGUgem9uZSBpcyBsaWtlbHkgb24gdGhlIGdyb3VuZCBmbG9vclxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBmbG9vcnMgVGhlIGZsb29ycyB0byBjaGVjayBmb3IgQ1NPR1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBUZXN0KGZsb29ycykge1xuICAgIHJldHVybiBmbG9vcnMuZmlsdGVyKGZsb29yID0+IGZsb29yLmlzQ3NvZykubGVuZ3RoID4gMDtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyb3VuZEZsb29yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0dyb3VuZEZsb29yLmpzIiwiLyoqXG4gKiBDbGFzcyBPcmllbnRhdGlvblxuICovXG5jbGFzcyBPcmllbnRhdGlvbiB7XG5cbiAgc3RhdGljIENPTlNUX19OID0geyBsb3dlcjogMjIsIHVwcGVyOiAzMzggfTtcbiAgc3RhdGljIENPTlNUX19OX0UgPSB7IGxvd2VyOiAyMywgdXBwZXI6IDY3IH07XG4gIHN0YXRpYyBDT05TVF9fRSA9IHsgbG93ZXI6IDY4LCB1cHBlcjogMTEyIH07XG4gIHN0YXRpYyBDT05TVF9fU19FID0geyBsb3dlcjogMTEzLCB1cHBlcjogMTU3IH07XG4gIHN0YXRpYyBDT05TVF9fUyA9IHsgbG93ZXI6IDE1OCwgdXBwZXI6IDIwMiB9O1xuICBzdGF0aWMgQ09OU1RfX1NfVyA9IHsgbG93ZXI6IDIwMywgdXBwZXI6IDI0NyB9O1xuICBzdGF0aWMgQ09OU1RfX1cgPSB7IGxvd2VyOiAyNDgsIHVwcGVyOiAyOTIgfTtcbiAgc3RhdGljIENPTlNUX19OX1cgPSB7IGxvd2VyOiAyOTMsIHVwcGVyOiAzMzcgfTtcblxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhemltdXRoXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhemltdXRoICAgQXppbXV0aCB2YWx1ZSBiZWluZyBjaGFuZ2VkIHRvIG9yaWVudGF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcmVuY2UgUmVmZXJlbmNlIGF6aW11dGggZm9yIE5vcnRoXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBHZXQoYXppbXV0aCwgcmVmZXJlbmNlKSB7XG4gICAgY29uc3QgYXppbXV0aEludCA9IHBhcnNlSW50KGF6aW11dGgsIDEwKTtcblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19OX0UpKSB7XG4gICAgICByZXR1cm4gJ05FJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fRSkpIHtcbiAgICAgIHJldHVybiAnRSc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1NfRSkpIHtcbiAgICAgIHJldHVybiAnU0UnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TKSkge1xuICAgICAgcmV0dXJuICdTJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fU19XKSkge1xuICAgICAgcmV0dXJuICdTVyc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1cpKSB7XG4gICAgICByZXR1cm4gJ1cnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19OX1cpKSB7XG4gICAgICByZXR1cm4gJ05XJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ04nO1xuICB9XG5cbiAgc3RhdGljIElzKGF6aW11dGgsIHJlZmVyZW5jZSwgbGltaXRzKSB7XG4gICAgY29uc3QgdmVjdG9yID0ge1xuICAgICAgdXBwZXI6IE9yaWVudGF0aW9uLk5vcm1hbGl6ZShwYXJzZUludChyZWZlcmVuY2UsIDEwKSArIGxpbWl0cy51cHBlciksXG4gICAgICBsb3dlcjogT3JpZW50YXRpb24uTm9ybWFsaXplKHBhcnNlSW50KHJlZmVyZW5jZSwgMTApICsgbGltaXRzLmxvd2VyKVxuICAgIH07XG5cbiAgICByZXR1cm4gKGF6aW11dGggPj0gdmVjdG9yLmxvd2VyICYmIGF6aW11dGggPD0gdmVjdG9yLnVwcGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhIHZhbHVlIHRvIGJlIHdpdGhpbiB0aGUgMC0zNjAgcmFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHtpbnR9IG51bWJlclxuICAgKlxuICAgKiBAcmV0dXJucyB7aW50fVxuICAgKi9cbiAgc3RhdGljIE5vcm1hbGl6ZShudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgcmV0dXJuIDM2MCAtIE1hdGguYWJzKG51bWJlcik7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlciA+IDM2MCkge1xuICAgICAgcmV0dXJuIChudW1iZXIgLSAzNjApO1xuICAgIH1cblxuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBPcmllbnRhdGlvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9PcmllbnRhdGlvbi5qcyIsImltcG9ydCBDZWlsaW5nSGVpZ2h0IGZyb20gJy4vQ2VpbGluZ0hlaWdodCc7XG5pbXBvcnQgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgZnJvbSAnLi9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSc7XG5pbXBvcnQgTG9va3NMaWtlIGZyb20gJy4vdXRpbHMvTG9va3NMaWtlJztcbmltcG9ydCBXaW5kb3dDb25zdHJ1Y3Rpb24gZnJvbSAnLi9XaW5kb3dDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVXaW5kb3cgZnJvbSAnLi9ab25lV2luZG93JztcbmltcG9ydCBab25lRGV0YWlsIGZyb20gJy4vWm9uZURldGFpbCc7XG5pbXBvcnQgRmxvb3JDb25zdHJ1Y3Rpb24gZnJvbSAnLi9GbG9vckNvbnN0cnVjdGlvbic7XG5pbXBvcnQgWm9uZUZsb29yIGZyb20gJy4vWm9uZUZsb29yJztcblxuLyoqXG4gKiBDbGFzcyBTY3JhdGNoRmlsZUxpbmVcbiAqL1xuY2xhc3MgU2NyYXRjaEZpbGVMaW5lIHtcblxuICAvKipcbiAgICogQnVpbGQgYSBkYXRhIGxpbmUgaW50byB0aGUgYXBwcm9wcmlhdGUgY2xhc3Mgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHBhcnNlZFxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgaWYgKExvb2tzTGlrZS5TaGFkaW5nU2NoZW1lKGRhdGEpKSB7XG4gICAgICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5DZWlsaW5nSGVpZ2h0KGRhdGEpKSB7XG4gICAgICByZXR1cm4gQ2VpbGluZ0hlaWdodC5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLldpbmRvd0NvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgcmV0dXJuIFdpbmRvd0NvbnN0cnVjdGlvbi5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVXaW5kb3coZGF0YSkpIHtcbiAgICAgIHJldHVybiBab25lV2luZG93LkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuWm9uZURldGFpbChkYXRhKSkge1xuICAgICAgcmV0dXJuIFpvbmVEZXRhaWwuQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5GbG9vckNvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgcmV0dXJuIEZsb29yQ29uc3RydWN0aW9uLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuWm9uZUZsb29yKGRhdGEpKSB7XG4gICAgICByZXR1cm4gWm9uZUZsb29yLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcmF0Y2hGaWxlTGluZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9TY3JhdGNoRmlsZUxpbmUuanMiLCJpbXBvcnQgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgZnJvbSAnLi4vSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnO1xuaW1wb3J0IFdpbmRvd0NvbnN0cnVjdGlvbiBmcm9tICcuLi9XaW5kb3dDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVXaW5kb3cgZnJvbSAnLi4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgQ2VpbGluZ0hlaWdodCBmcm9tICcuLi9DZWlsaW5nSGVpZ2h0JztcbmltcG9ydCBab25lRGV0YWlsIGZyb20gJy4uL1pvbmVEZXRhaWwnO1xuaW1wb3J0IEZsb29yQ29uc3RydWN0aW9uIGZyb20gJy4uL0Zsb29yQ29uc3RydWN0aW9uJztcbmltcG9ydCBab25lRmxvb3IgZnJvbSBcIi4uL1pvbmVGbG9vclwiO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gY29tcGFyZSBhIGRhdGEgc3RyaW5nIGFuZCBpbmRpY2F0ZSB3aGF0IHR5cGUgb2YgZGF0YSBpdCBsb29rcyBsaWtlXG4gKi9cbmNsYXNzIExvb2tzTGlrZSB7XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgaG9yaXpvbnRhbCBzaGFkaW5nIHNjaGVtZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFNoYWRpbmdTY2hlbWUobGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHdpbmRvdyBjb25zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBXaW5kb3dDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIFdpbmRvd0NvbnN0cnVjdGlvbi5SZWdleCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSB6b25lIHdpbmRvd1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFpvbmVXaW5kb3cobGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIFpvbmVXaW5kb3cuUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgY2VpbGluZyBoZWlnaHQgbGluZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIENlaWxpbmdIZWlnaHQobGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIENlaWxpbmdIZWlnaHQuUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBkZXRhaWwgbGluZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFpvbmVEZXRhaWwobGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIFpvbmVEZXRhaWwuUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgZmxvb3IgY29uc3RydWN0aW9uIGxpbmVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBGbG9vckNvbnN0cnVjdGlvbihsaW5lRGF0YSkge1xuICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgRmxvb3JDb25zdHJ1Y3Rpb24uUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBmbG9vciBsaW5lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgWm9uZUZsb29yKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBab25lRmxvb3IuUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgcmVnZXggdGVzdCBhZ2FpbnN0IHRoZSBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhICBUaGUgZGF0YSB0byB0ZXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWdleCBUaGUgcmVnZXggcGF0dGVybiB0byB0ZXN0IHdpdGhcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgVGVzdChkYXRhLCByZWdleCkge1xuICAgIGNvbnN0IHJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXgpO1xuICAgIHJldHVybiByZWdleHAudGVzdChkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hhdCB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2VcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBSZXZlcnNlTG9va3VwKGRhdGEpIHtcbiAgICBpZiAoTG9va3NMaWtlLlNoYWRpbmdTY2hlbWUoZGF0YSkpIHtcbiAgICAgIHJldHVybiAnSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuQ2VpbGluZ0hlaWdodChkYXRhKSkge1xuICAgICAgcmV0dXJuICdDZWlsaW5nSGVpZ2h0JztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLldpbmRvd0NvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgcmV0dXJuICdXaW5kb3dDb25zdHJ1Y3Rpb24nO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuWm9uZVdpbmRvdyhkYXRhKSkge1xuICAgICAgcmV0dXJuICdab25lV2luZG93JztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVEZXRhaWwoZGF0YSkpIHtcbiAgICAgIHJldHVybiAnWm9uZURldGFpbCc7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5GbG9vckNvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgcmV0dXJuICdGbG9vckNvbnN0cnVjdGlvbic7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5ab25lRmxvb3IoZGF0YSkpIHtcbiAgICAgIHJldHVybiAnWm9uZUZsb29yJztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMb29rc0xpa2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvdXRpbHMvTG9va3NMaWtlLmpzIiwiLyoqXG4gKiBBIGNsYXNzIHRvIGhhbmRsZSBwYXJzaW5nIGFuIGVudGlyZSBzY3JhdGNoIGZpbGVcbiAqL1xuaW1wb3J0IFNjcmF0Y2hGaWxlTGluZSBmcm9tICcuL1NjcmF0Y2hGaWxlTGluZSc7XG5pbXBvcnQgTG9va3NMaWtlIGZyb20gJy4vdXRpbHMvTG9va3NMaWtlJztcbmltcG9ydCBXaW5kb3dDb25zdHJ1Y3Rpb24gZnJvbSAnLi9XaW5kb3dDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVXaW5kb3cgZnJvbSAnLi9ab25lV2luZG93JztcbmltcG9ydCBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZSBmcm9tICcuL0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbmltcG9ydCBDZWlsaW5nSGVpZ2h0IGZyb20gJy4vQ2VpbGluZ0hlaWdodCc7XG5pbXBvcnQgWm9uZURldGFpbCBmcm9tICcuL1pvbmVEZXRhaWwnO1xuaW1wb3J0IEZsb29yQ29uc3RydWN0aW9uIGZyb20gJy4vRmxvb3JDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVGbG9vciBmcm9tICcuL1pvbmVGbG9vcic7XG5cbmNsYXNzIFBhcnNlciB7XG5cbiAgd2luZG93Q29uc3RydWN0aW9ucyA9IFtdO1xuICB6b25lV2luZG93cyA9IFtdO1xuICB6b25lRGV0YWlscyA9IFtdO1xuICBzaGFkaW5nU2NoZW1lcyA9IFtdO1xuICBjZWlsaW5nSGVpZ2h0cyA9IFtdO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBmaWxlIEEgc2NyYXRjaGZpbGUgYXJyYXlcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZpbGUpIHtcbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICB9XG5cbiAgcHJvY2VzcygpIHtcbiAgICBjb25zdCBkYXRhTGluZXMgPSB0aGlzLmdldERhdGFMaW5lcygpO1xuXG4gICAgLy8gRmlsdGVyIHRoZSBhcnJheXMgdG8gb25seSBpbmNsdWRlIHRoZSByZWxhdGVkIGRhdGEsIHRoZW4gYnVpbGQgdGhlIGRhdGEgbGluZSBpbnRvIHRoZSBhcHByb3ByaWF0ZSBjbGFzc1xuICAgIHRoaXMud2luZG93Q29uc3RydWN0aW9ucyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnV2luZG93Q29uc3RydWN0aW9uJylcbiAgICAgIC5tYXAod2luZG93ID0+IFdpbmRvd0NvbnN0cnVjdGlvbi5CdWlsZCh3aW5kb3cpKTtcblxuICAgIHRoaXMuem9uZVdpbmRvd3MgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVXaW5kb3cnKVxuICAgICAgLm1hcCh6b25lV2luZG93ID0+IFpvbmVXaW5kb3cuQnVpbGQoem9uZVdpbmRvdykpO1xuXG4gICAgdGhpcy5zaGFkaW5nU2NoZW1lcyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnKVxuICAgICAgLm1hcChzaGFkaW5nID0+IEhvcml6b250YWxTaGFkaW5nU2NoZW1lLkJ1aWxkKHNoYWRpbmcpKTtcblxuICAgIHRoaXMuY2VpbGluZ0hlaWdodHMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0NlaWxpbmdIZWlnaHQnKVxuICAgICAgLm1hcChjZWlsaW5nSGVpZ2h0ID0+IENlaWxpbmdIZWlnaHQuQnVpbGQoY2VpbGluZ0hlaWdodCkpO1xuXG4gICAgdGhpcy56b25lRGV0YWlscyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZURldGFpbCcpXG4gICAgICAubWFwKHpvbmVEZXRhaWwgPT4gWm9uZURldGFpbC5CdWlsZCh6b25lRGV0YWlsKSk7XG5cbiAgICB0aGlzLmZsb29yQ29uc3RydWN0aW9ucyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnRmxvb3JDb25zdHJ1Y3Rpb24nKVxuICAgICAgLm1hcChmbG9vckNvbnN0cnVjdGlvbiA9PiBGbG9vckNvbnN0cnVjdGlvbi5CdWlsZChmbG9vckNvbnN0cnVjdGlvbikpO1xuXG4gICAgdGhpcy56b25lRmxvb3JzID0gZGF0YUxpbmVzXG4gICAgICAuZmlsdGVyKGxpbmUgPT4gTG9va3NMaWtlLlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lRmxvb3InKVxuICAgICAgLm1hcCh6b25lRmxvb3IgPT4gWm9uZUZsb29yLkJ1aWxkKHpvbmVGbG9vcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGluZXMgb2YgZGF0YSB0aGF0IG1hdGNoIGEgdHlwZSB3ZSdyZSBpbnRlcmVzdGVkIGluXG4gICAqXG4gICAqIEByZXR1cm5zIHthcnJheX1cbiAgICovXG4gIGdldERhdGFMaW5lcygpIHtcbiAgICByZXR1cm4gdGhpcy5maWxlLmZpbHRlcihsaW5lID0+IFNjcmF0Y2hGaWxlTGluZS5CdWlsZChsaW5lKSAhPT0gZmFsc2UpO1xuICB9XG5cbiAgZ2V0V2luZG93Q29uc3RydWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3dDb25zdHJ1Y3Rpb25zO1xuICB9XG5cbiAgZ2V0Wm9uZVdpbmRvd3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuem9uZVdpbmRvd3M7XG4gIH1cblxuICBnZXRTaGFkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRpbmdTY2hlbWVzO1xuICB9XG5cbiAgZ2V0Q2VpbGluZ0hlaWdodHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2VpbGluZ0hlaWdodHM7XG4gIH1cblxuICBnZXRab25lRGV0YWlscygpIHtcbiAgICByZXR1cm4gdGhpcy56b25lRGV0YWlscztcbiAgfVxuXG4gIGdldEZsb29yQ29uc3RydWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5mbG9vckNvbnN0cnVjdGlvbnM7XG4gIH1cblxuICBnZXRab25lRmxvb3JzKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVGbG9vcnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCBkYXRhIGluIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBkZWNvbnN0cnVjdGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBnZXRBbGxEYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aW5kb3dDb25zdHJ1Y3Rpb25zOiB0aGlzLmdldFdpbmRvd0NvbnN0cnVjdGlvbnMoKSxcbiAgICAgIHpvbmVXaW5kb3dzOiB0aGlzLmdldFpvbmVXaW5kb3dzKCksXG4gICAgICBzaGFkaW5nOiB0aGlzLmdldFNoYWRpbmcoKSxcbiAgICAgIGNlaWxpbmdIZWlnaHRzOiB0aGlzLmdldENlaWxpbmdIZWlnaHRzKCksXG4gICAgICB6b25lRGV0YWlsczogdGhpcy5nZXRab25lRGV0YWlscygpLFxuICAgICAgZmxvb3JDb25zdHJ1Y3Rpb25zOiB0aGlzLmdldEZsb29yQ29uc3RydWN0aW9ucygpLFxuICAgICAgem9uZUZsb29yczogdGhpcy5nZXRab25lRmxvb3JzKClcbiAgICB9O1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFyc2VyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1BhcnNlci5qcyIsImltcG9ydCBPcmllbnRhdGlvbiBmcm9tICcuL09yaWVudGF0aW9uJztcbmltcG9ydCBHcm91bmRGbG9vciBmcm9tICcuL0dyb3VuZEZsb29yJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlscyc7XG4vKipcbiAqIENsYXNzIFJlc3VsdHNCdWlsZGVyXG4gKlxuICogVGhpcyBjbGFzcyB3aWxsIHRha2UgdmFyaW91cyBhcnJheXMgb2YgZGF0YSBsaW5lcywgYnVpbGQgdGhlbSBpbnRvIHRoZWlyIGFwcHJvcHJpYXRlIGNsYXNzZXMsXG4gKiBsaW5rIHRoZW0gdGhyb3VnaCB2YXJpb3VzIElEJ3MsIGFuZCB0aGVuIGNyZWF0ZSBtdWx0aXBsZSBvdXRwdXQgbGluZXNcbiAqL1xuXG5jbGFzcyBSZXN1bHRzQnVpbGRlciB7XG5cbiAgLyoqXG4gICAqIENvbXBpbGUgdGhlIHZhcmlvdXMgYXJyYXlzIGludG8gYSBzaW5nbGUgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gd2luZG93Q29uc3RydWN0aW9uc1xuICAgKiBAcGFyYW0ge2FycmF5fSB6b25lV2luZG93c1xuICAgKiBAcGFyYW0ge2FycmF5fSBzaGFkaW5nXG4gICAqIEBwYXJhbSB7YXJyYXl9IGNlaWxpbmdIZWlnaHRzXG4gICAqIEBwYXJhbSB7YXJyYXl9IHpvbmVEZXRhaWxzXG4gICAqIEBwYXJhbSB7YXJyYXl9IGZsb29yQ29uc3RydWN0aW9uc1xuICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRmxvb3JzXG4gICAqXG4gICAqIEByZXR1cm5zIHthcnJheX1cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBzdGF0aWMgQ29tcGlsZSh7XG4gICAgd2luZG93Q29uc3RydWN0aW9ucywgem9uZVdpbmRvd3MsIHNoYWRpbmcsIGNlaWxpbmdIZWlnaHRzLCB6b25lRGV0YWlscywgZmxvb3JDb25zdHJ1Y3Rpb25zLCB6b25lRmxvb3JzXG4gIH0pIHtcbiAgICByZXR1cm4gem9uZURldGFpbHMubWFwKCh6b25lKSA9PiB7XG4gICAgICAvLyBGaWx0ZXIgdGhlIHpvbmUgd2luZG93cyBmb3Igb25seSB3aW5kb3dzIGluIHRoaXMgem9uZSwgYW5kIHRoZW4gbWFwIHRoZSB3aW5kb3cgY29uc3RydWN0aW9uLCBzaGFkaW5nIGFuZCBjZWlsaW5nIGhlaWdodCBkZXRhaWxzXG4gICAgICBjb25zdCB3aW5kb3dzID0gem9uZVdpbmRvd3MuZmlsdGVyKHdpbmRvdyA9PiB3aW5kb3cuem9uZUlkID09PSB6b25lLmlkKS5tYXAoKHpvbmVXaW5kb3cpID0+IHtcbiAgICAgICAgY29uc3QgY29uc3RydWN0aW9uID0gd2luZG93Q29uc3RydWN0aW9ucy5maWx0ZXIoY29ucyA9PiBjb25zLmlkID09PSB6b25lV2luZG93LmdldFdpbmRvd0lkKCkpWzBdO1xuICAgICAgICBjb25zdCBzaGFkaW5nU2NoZW1lID0gc2hhZGluZy5maWx0ZXIoc2hhZGUgPT4gc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcxSWQoKSB8fCBzaGFkZS5nZXRJZCgpID09PSB6b25lV2luZG93LmdldEhvcml6U2hhZGluZzJJZCgpKTtcbiAgICAgICAgY29uc3QgY2VpbGluZ0hlaWdodCA9IGNlaWxpbmdIZWlnaHRzLmZpbHRlcihjZWlsaW5nID0+IGNlaWxpbmcuZ2V0Wm9uZUlkKCkgPT09IHpvbmUuZ2V0SWQoKSlbMF07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi56b25lV2luZG93LFxuICAgICAgICAgIGNvbnN0cnVjdGlvbixcbiAgICAgICAgICBzaGFkaW5nOiBzaGFkaW5nU2NoZW1lLFxuICAgICAgICAgIGNlaWxpbmdIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmbG9vcnMgPSB6b25lRmxvb3JzLmZpbHRlcih6b25lRmxvb3IgPT4gem9uZUZsb29yLnpvbmVJZCA9PT0gem9uZS5pZCkubWFwKCh6b25lRmxvb3IpID0+IHtcbiAgICAgICAgY29uc3QgY29uc3RydWN0aW9uID0gZmxvb3JDb25zdHJ1Y3Rpb25zLmZpbHRlcihmbG9vckNvbiA9PiBmbG9vckNvbi5pZCA9PT0gem9uZUZsb29yLmNvbnN0cnVjdGlvbklkKVswXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnpvbmVGbG9vcixcbiAgICAgICAgICAuLi5jb25zdHJ1Y3Rpb25cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogem9uZS5nZXRJZCgpLFxuICAgICAgICBuYW1lOiB6b25lLmdldE5hbWUoKSxcbiAgICAgICAgd2luZG93cyxcbiAgICAgICAgb25Hcm91bmRGbG9vcjogR3JvdW5kRmxvb3IuVGVzdChmbG9vcnMpXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIHRoZSB6b25lcyBhcnJheSBpbnRvIGEgZmxhdHQgYXJyYXkgcmVhZHkgZm9yIGNvbnZlcnNpb24gdG8gQ1NWXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9ICB6b25lcyAgICAgVGhlIHpvbmVzIGFycmF5IGNyZWF0ZWQgaW4gUmVzdWx0c0J1aWxkZXIuQ29tcGlsZSgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcmVuY2UgW09wdGlvbmFsXSBSZWZlcmVuY2UgTm9ydGggYXppbXV0aC4gRGVmYXVsdCAwXG4gICAqXG4gICAqIEByZXR1cm5zIHthcnJheX1cbiAgICovXG4gIHN0YXRpYyBCdWlsZCh6b25lcywgcmVmZXJlbmNlID0gMCkge1xuICAgIGNvbnN0IGNzdiA9IHpvbmVzLm1hcCgoem9uZSkgPT4ge1xuICAgICAgY29uc3Qgd2luZG93Q3N2ID0gem9uZS53aW5kb3dzLm1hcCgod2luZG93KSA9PiB7XG4gICAgICAgIGxldCBwcm9qZWN0aW9uID0gJyc7XG4gICAgICAgIGxldCBlYXZlT2Zmc2V0ID0gJyc7XG4gICAgICAgIGxldCBwZXJnb2xhT2Zmc2V0ID0gJyc7XG4gICAgICAgIGlmICh3aW5kb3cuc2hhZGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcHJvamVjdGlvbiA9IHdpbmRvdy5zaGFkaW5nWzBdLnByb2plY3Rpb247XG4gICAgICAgICAgZWF2ZU9mZnNldCA9IHdpbmRvdy5zaGFkaW5nWzBdLmVhdmVPZmZzZXQ7XG4gICAgICAgICAgcGVyZ29sYU9mZnNldCA9IHdpbmRvdy5zaGFkaW5nWzBdLnBlcmdvbGFPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHpvbmUubmFtZSxcbiAgICAgICAgICAnJyxcbiAgICAgICAgICBPcmllbnRhdGlvbi5HZXQod2luZG93LmF6aW11dGgsIHJlZmVyZW5jZSksXG4gICAgICAgICAgd2luZG93LmhlaWdodCxcbiAgICAgICAgICB3aW5kb3cud2lkdGgsXG4gICAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgICBab25lV2luZG93LkhlYWRIZWlnaHQod2luZG93LmhlaWdodCwgZWF2ZU9mZnNldCksXG4gICAgICAgICAgd2luZG93LmNvbnN0cnVjdGlvbi5uYW1lLFxuICAgICAgICAgIHdpbmRvdy5jZWlsaW5nSGVpZ2h0LmhlaWdodCxcbiAgICAgICAgICBlYXZlT2Zmc2V0LFxuICAgICAgICAgIHBlcmdvbGFPZmZzZXQsXG4gICAgICAgICAgem9uZS5vbkdyb3VuZEZsb29yID8gJzAnIDogJydcbiAgICAgICAgXTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBbiBlbXB0eSB3aW5kb3dDc3YgbmVlZHMgdG8gYmUgcmV0dXJuZWQgaW5zaWRlIGFuIGFycmF5IGl0c2VsZiwgaW4gb3JkZXIgdG8gd29yayB3aXRoIHRoZSBmbGF0dGVuIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gd2luZG93Q3N2Lmxlbmd0aCA+IDAgPyB3aW5kb3dDc3YgOiBbd2luZG93Q3N2XTtcbiAgICB9KTtcblxuICAgIHJldHVybiBmbGF0dGVuKGNzdik7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBSZXN1bHRzQnVpbGRlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9SZXN1bHRzQnVpbGRlci5qcyIsImNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoJ2pzL3dvcmtlci5bW3dvcmtlckhhc2hdXS5qcycpO1xuXG5jb25zdCBjcmVhdGVQcmV2aWV3ID0gKHJlc3VsdHMpID0+IHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cy1wcmV2aWV3LXRlbXBsYXRlJyk7XG4gIGNvbnN0IGluc3RhbmNlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcblxuICBjb25zdCB0YWJsZUJvZHkgPSBpbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuXG4gIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgdGFibGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJlc3VsdC5mb3JFYWNoKChyZXMpID0+IHtcbiAgICAgIGNvbnN0IHRhYmxlQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICB0YWJsZUNlbGwuaW5uZXJUZXh0ID0gcmVzO1xuICAgICAgdGFibGVSb3cuYXBwZW5kQ2hpbGQodGFibGVDZWxsKTtcbiAgICB9KTtcblxuICAgIHRhYmxlQm9keS5hcHBlbmRDaGlsZCh0YWJsZVJvdyk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzLXByZXZpZXcnKS5hcHBlbmRDaGlsZChpbnN0YW5jZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSB0aGUgZG93bmxvYWQgZmlsZSwgYW5kIGRvd25sb2FkIGl0IHRvIHRoZSB1c2VycyBicm93c2VyXG4gKlxuICogQHBhcmFtIHthcnJheX0gcmVzdWx0c1xuICpcbiAqIEByZXR1cm5zIHtudWxsfVxuICovXG5jb25zdCBjcmVhdGVEb3dubG9hZCA9IChyZXN1bHRzKSA9PiB7XG4gIGxldCBjc3ZDb250ZW50ID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwnO1xuICBjb25zdCBoZWFkZXJBcnIgPSBbXG4gICAgJ1pvbmUgTmFtZScsXG4gICAgJ3tibGFua30nLFxuICAgICdPcmllbnRhdGlvbicsXG4gICAgJ0hlaWdodCcsXG4gICAgJ1dpZHRoJyxcbiAgICAnUHJvamVjdGlvbicsXG4gICAgJ0gnLFxuICAgICdXaW5kb3cgVHlwZScsXG4gICAgJ0NlaWxpbmcgSGVpZ2h0JyxcbiAgICAnRWF2ZSBPZmZzZXQnLFxuICAgICdQZXJnb2xhIE9mZnNldCcsXG4gICAgJ0xldmVsJ1xuICBdO1xuICBjb25zdCBoZWFkZXJSb3cgPSBoZWFkZXJBcnIuam9pbignLCcpO1xuICBjc3ZDb250ZW50ICs9IGAke2hlYWRlclJvd31cXG5gO1xuXG4gIHJlc3VsdHMuZm9yRWFjaCgocm93QXJyYXkpID0+IHtcbiAgICBpZiAocm93QXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgcm93ID0gcm93QXJyYXkuam9pbignLCcpO1xuICAgICAgY3N2Q29udGVudCArPSBgJHtyb3d9XFxuYDtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGVuY29kZWRVcmkgPSBlbmNvZGVVUkkoY3N2Q29udGVudCk7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZW5jb2RlZFVyaSk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdnbGF6aW5nLmNzdicpO1xuICBsaW5rLmhpZGRlbiA9IHRydWU7XG4gIGxpbmsuaW5uZXJIVE1MID0gJ0NsaWNrIEhlcmUgdG8gZG93bmxvYWQnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOyAvLyBSZXF1aXJlZCBmb3IgRkZcblxuICBsaW5rLmNsaWNrKCk7XG59O1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBjb25zdCBmaWxlU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZVRvVXBsb2FkJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2xhc3NMaXN0LmFkZCgnbG9hZGVkJyk7XG5cbiAgZmlsZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldmlldy1idXR0b24tY29udGFpbmVyJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbGUtc2VsZWN0b3ItbGFiZWwnKS5pbm5lclRleHQgPSAnQ2hvb3NlIGRpZmZlcmVudCBmaWxlLi4uJztcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2Nlc3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vcnRoLXJlZmVyZW5jZScpLnZhbHVlID09PSAnJykge1xuICAgICAgYWxlcnQoJ1BsZWFzZSBlbnRlciBhIHJlZmVyZW5jZSBub3J0aCBhemltdXRoJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGZpbGVTZWxlY3Rvci5maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgc2NyYXRjaCBmaWxlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZSA9IGZpbGVTZWxlY3Rvci5maWxlc1swXTtcbiAgICBjb25zdCByZWZlcmVuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm9ydGgtcmVmZXJlbmNlJykudmFsdWU7XG5cbiAgICB3b3JrZXIucG9zdE1lc3NhZ2UoeyBmaWxlLCByZWZlcmVuY2UgfSk7XG5cbiAgICB3b3JrZXIub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgICBjcmVhdGVQcmV2aWV3KGRhdGEucmVzdWx0cyk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNyZWF0ZURvd25sb2FkKGRhdGEucmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBDbGVhciBwcmV2aWV3IHJlc3VsdHMgd2hlbiB0aGUgc2NyYXRjaCBmaWxlIGNoYW5nZXNcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVUb1VwbG9hZCcpLm9uY2hhbmdlID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzLXByZXZpZXcnKS5pbm5lckhUTUwgPSAnJztcbiAgfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvaW5kZXguanMiLCIvKipcbiAqIEZsYXR0ZW4gYXJyYXkgMSBsZXZlbFxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBBcnJ5YSB0byBmbGF0dGVuXG4gKlxuICogQHJldHVybnMge2FycmF5fVxuICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IGFyciA9PiBBcnJheS5wcm90b3R5cGUuY29uY2F0KC4uLmFycik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvdXRpbHMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9
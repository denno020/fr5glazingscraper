!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.isCsog=!1;var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.isCsog=e.TestCsog(t)}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getIsCsog",value:function(){return this.isCsog}},{key:"toObject",value:function(){return{id:this.getConstructionId(),isCsog:this.getIsCsog()}}}],[{key:"TestCsog",value:function(t){return new RegExp(e.CSOGRegex).test(t)}},{key:"Build",value:function(t){return new e(t)}}]),e}();o.ConstructionIdRegex="(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)",o.Regex="^ 2"+o.ConstructionIdRegex,o.CSOGRegex="^ 2(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)   (.{7})*( 18 100)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.windowId="",this.height="",this.width="",this.azimuth="",this.headHeight="",this.horizShading1Id="",this.horizShading2Id="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[e.CONST__ZONE_ID].trim(),this.windowId=i[e.CONST__WINDOW_ID].trim(),this.height=i[e.CONST__HEIGHT].trim(),this.width=i[e.CONST__WIDTH].trim(),this.azimuth=i[e.CONST__AZIMUTH].trim(),this.horizShading1Id=i[e.CONST__HORZ_SHADING_1].trim(),this.horizShading2Id=i[e.CONST__HORZ_SHADING_2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getWindowId",value:function(){return this.windowId}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"getHeadHeight",value:function(){return this.headHeight}},{key:"getHorizShading1Id",value:function(){return this.horizShading1Id}},{key:"getHorizShading2Id",value:function(){return this.horizShading2Id}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),windowId:this.getWindowId(),height:this.getHeight(),width:this.getWidth(),azimuth:this.getAzimuth(),headHeight:this.getHeadHeight(),horizShading1Id:this.getHorizShading1Id(),horizShading2Id:this.getHorizShading2Id()}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"HeadHeight",value:function(e,t){return((""===e?0:parseFloat(e))+(""===t?0:parseFloat(t))).toFixed(2).toString()}}]),e}();o.CONST__ZONE_ID=1,o.CONST__WINDOW_ID=2,o.CONST__HEIGHT=6,o.CONST__WIDTH=7,o.CONST__AZIMUTH=8,o.CONST__HORZ_SHADING_1=9,o.CONST__HORZ_SHADING_2=10,o.Regex="^ 3(.{3})(( (10)|(  [0-9])))(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.height="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.height=i[3].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getHeight",value:function(){return this.height}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),height:this.getHeight()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^ 3(.{3})700(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.eaveProjection="",this.eaveOffset="",this.pergolaProjection="",this.pergolaOffset="",this.projection="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[e.CONST__ID].trim(),this.eaveProjection=i[e.CONST__EAVE_PROJECTION].trim(),this.eaveOffset=i[e.CONST__EAVE_OFFSET].trim(),this.pergolaProjection=i[e.CONST__PERGOLA_PROJECTION].trim(),this.pergolaOffset=i[e.CONST__PERGOLA_OFFSET].trim(),this.projection=this.getProjection()}return i(e,[{key:"getProjection",value:function(){var t=parseFloat(this.getEaveProjection())>parseFloat(this.getPergolaProjection())?this.getEaveProjection():this.getPergolaProjection();return e.RoundValue(t)}},{key:"getId",value:function(){return this.id}},{key:"getEaveOffset",value:function(){return this.eaveOffset}},{key:"getEaveProjection",value:function(){return this.eaveProjection}},{key:"getPergolaOffset",value:function(){return this.pergolaOffset}},{key:"getPergolaProjection",value:function(){return this.pergolaProjection}},{key:"toObject",value:function(){return{id:this.getId(),projection:this.getProjection(),offset:{eave:this.getEaveOffset(),pergola:this.getPergolaOffset()}}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"RoundValue",value:function(e){return(Math.round(20*e)/20).toFixed(2)}}]),e}();o.CONST__ID=1,o.CONST__EAVE_PROJECTION=2,o.CONST__EAVE_OFFSET=3,o.CONST__PERGOLA_PROJECTION=6,o.CONST__PERGOLA_OFFSET=7,o.Regex="^ 1 20(.{3})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"toObject",value:function(){return{id:this.id,name:this.name}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.CONST__ID=3,o.CONST__NAME="",o.Regex="^ \\d(.{3})[ \\d]*([a-zA-Z][a-zA-Z\\-\\d]{9}[ a-zA-Z][a-zA-Z]?)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"toObject",value:function(){return{id:this.getId(),name:this.getName()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^C Z00?(\\d{1,3}) => (.*)$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t){r(this,e),this.zoneId="",this.constructionId="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.constructionId=i[2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getConstructionId",value:function(){return this.constructionId}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),constructionId:this.getConstructionId()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();a.Regex=" 3(...)("+u.default.ConstructionIdRegex+")",t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Test",value:function(e){return e.filter(function(e){return e.isCsog}).length>0}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Get",value:function(t,n){var r=parseInt(t,10);return e.Is(r,n,e.CONST__N_E)?"NE":e.Is(r,n,e.CONST__E)?"E":e.Is(r,n,e.CONST__S_E)?"SE":e.Is(r,n,e.CONST__S)?"S":e.Is(r,n,e.CONST__S_W)?"SW":e.Is(r,n,e.CONST__W)?"W":e.Is(r,n,e.CONST__N_W)?"NW":"N"}},{key:"Is",value:function(t,n,r){var i={upper:e.Normalize(parseInt(n,10)+r.upper),lower:e.Normalize(parseInt(n,10)+r.lower)};return t>=i.lower&&t<=i.upper}},{key:"Normalize",value:function(e){return e<0?360-Math.abs(e):e>360?e-360:e}}]),e}();o.CONST__N={lower:22,upper:338},o.CONST__N_E={lower:23,upper:67},o.CONST__E={lower:68,upper:112},o.CONST__S_E={lower:113,upper:157},o.CONST__S={lower:158,upper:202},o.CONST__S_W={lower:203,upper:247},o.CONST__W={lower:248,upper:292},o.CONST__N_W={lower:293,upper:337},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),a=r(u),l=n(3),c=r(l),s=n(10),f=r(s),d=n(4),h=r(d),g=n(1),v=r(g),p=n(5),y=r(p),_=n(0),w=r(_),m=n(6),O=r(m),C=function(){function e(){i(this,e)}return o(e,null,[{key:"Build",value:function(e){return f.default.ShadingScheme(e)?c.default.Build(e):f.default.CeilingHeight(e)?a.default.Build(e):f.default.WindowConstruction(e)?h.default.Build(e):f.default.ZoneWindow(e)?v.default.Build(e):f.default.ZoneDetail(e)?y.default.Build(e):f.default.FloorConstruction(e)?w.default.Build(e):!!f.default.ZoneFloor(e)&&O.default.Build(e)}}]),e}();t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),l=n(4),c=r(l),s=n(1),f=r(s),d=n(2),h=r(d),g=n(5),v=r(g),p=n(0),y=r(p),_=n(6),w=r(_),m=function(){function e(){i(this,e)}return o(e,null,[{key:"ShadingScheme",value:function(t){return e.Test(t,a.default.Regex)}},{key:"WindowConstruction",value:function(t){return e.Test(t,c.default.Regex)}},{key:"ZoneWindow",value:function(t){return e.Test(t,f.default.Regex)}},{key:"CeilingHeight",value:function(t){return e.Test(t,h.default.Regex)}},{key:"ZoneDetail",value:function(t){return e.Test(t,v.default.Regex)}},{key:"FloorConstruction",value:function(t){return e.Test(t,y.default.Regex)}},{key:"ZoneFloor",value:function(t){return e.Test(t,w.default.Regex)}},{key:"Test",value:function(e,t){return new RegExp(t).test(e)}},{key:"ReverseLookup",value:function(t){return e.ShadingScheme(t)?"HorizontalShadingScheme":e.CeilingHeight(t)?"CeilingHeight":e.WindowConstruction(t)?"WindowConstruction":e.ZoneWindow(t)?"ZoneWindow":e.ZoneDetail(t)?"ZoneDetail":e.FloorConstruction(t)?"FloorConstruction":!!e.ZoneFloor(t)&&"ZoneFloor"}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),a=r(u),l=n(10),c=r(l),s=n(4),f=r(s),d=n(1),h=r(d),g=n(3),v=r(g),p=n(2),y=r(p),_=n(5),w=r(_),m=n(0),O=r(m),C=n(6),b=r(C),S=function(){function e(t){i(this,e),this.windowConstructions=[],this.zoneWindows=[],this.zoneDetails=[],this.shadingSchemes=[],this.ceilingHeights=[],this.file=t}return o(e,[{key:"process",value:function(){var e=this.getDataLines();this.windowConstructions=e.filter(function(e){return"WindowConstruction"===c.default.ReverseLookup(e)}).map(function(e){return f.default.Build(e)}),this.zoneWindows=e.filter(function(e){return"ZoneWindow"===c.default.ReverseLookup(e)}).map(function(e){return h.default.Build(e)}),this.shadingSchemes=e.filter(function(e){return"HorizontalShadingScheme"===c.default.ReverseLookup(e)}).map(function(e){return v.default.Build(e)}),this.ceilingHeights=e.filter(function(e){return"CeilingHeight"===c.default.ReverseLookup(e)}).map(function(e){return y.default.Build(e)}),this.zoneDetails=e.filter(function(e){return"ZoneDetail"===c.default.ReverseLookup(e)}).map(function(e){return w.default.Build(e)}),this.floorConstructions=e.filter(function(e){return"FloorConstruction"===c.default.ReverseLookup(e)}).map(function(e){return O.default.Build(e)}),this.zoneFloors=e.filter(function(e){return"ZoneFloor"===c.default.ReverseLookup(e)}).map(function(e){return b.default.Build(e)})}},{key:"getDataLines",value:function(){return this.file.filter(function(e){return!1!==a.default.Build(e)})}},{key:"getWindowConstructions",value:function(){return this.windowConstructions}},{key:"getZoneWindows",value:function(){return this.zoneWindows}},{key:"getShading",value:function(){return this.shadingSchemes}},{key:"getCeilingHeights",value:function(){return this.ceilingHeights}},{key:"getZoneDetails",value:function(){return this.zoneDetails}},{key:"getFloorConstructions",value:function(){return this.floorConstructions}},{key:"getZoneFloors",value:function(){return this.zoneFloors}},{key:"getAllData",value:function(){return{windowConstructions:this.getWindowConstructions(),zoneWindows:this.getZoneWindows(),shading:this.getShading(),ceilingHeights:this.getCeilingHeights(),zoneDetails:this.getZoneDetails(),floorConstructions:this.getFloorConstructions(),zoneFloors:this.getZoneFloors()}}}]),e}();t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),l=r(a),c=n(7),s=r(c),f=n(1),d=r(f),h=n(14),g=function(){function e(){i(this,e)}return u(e,null,[{key:"Compile",value:function(e){var t=e.windowConstructions,n=e.zoneWindows,r=e.shading,i=e.ceilingHeights,u=e.zoneDetails,a=e.floorConstructions,l=e.zoneFloors;return u.map(function(e){var u=n.filter(function(t){return t.zoneId===e.id}).map(function(n){var u=t.filter(function(e){return e.id===n.getWindowId()})[0],a=r.filter(function(e){return e.getId()===n.getHorizShading1Id()||e.getId()===n.getHorizShading2Id()}),l=i.filter(function(t){return t.getZoneId()===e.getId()})[0];return o({},n,{construction:u,shading:a,ceilingHeight:l})}),c=l.filter(function(t){return t.zoneId===e.id}).map(function(e){var t=a.filter(function(t){return t.id===e.constructionId})[0];return o({},e,t)});return{id:e.getId(),name:e.getName(),windows:u,onGroundFloor:s.default.Test(c)}})}},{key:"Build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.map(function(e){var n=e.windows.map(function(n){var r="",i="",o="";return n.shading.length>0&&(r=n.shading[0].projection,i=n.shading[0].eaveOffset,o=n.shading[0].pergolaOffset),[e.name,"",l.default.Get(n.azimuth,t),n.height,n.width,r,d.default.HeadHeight(n.height,i),n.construction.name,n.ceilingHeight.height,i,o,e.onGroundFloor?"0":""]});return n.length>0?n:[n]});return(0,h.flatten)(n)}}]),e}();t.default=g},function(e,t,n){"use strict";var r=new Worker("js/worker.07b9fd366d07a1158204.js"),i=function(e){var t=document.getElementById("results-preview-template"),n=document.importNode(t.content,!0),r=n.querySelector("tbody");e.forEach(function(e){var t=document.createElement("tr");e.forEach(function(e){var n=document.createElement("td");n.innerText=e,t.appendChild(n)}),r.appendChild(t)}),document.querySelector(".results-preview").appendChild(n)},o=function(e){var t="data:text/csv;charset=utf-8,",n=["Zone Name","{blank}","Orientation","Height","Width","Projection","H","Window Type","Ceiling Height","Eave Offset","Pergola Offset","Level"],r=n.join(",");t+=r+"\n",e.forEach(function(e){if(e.length>0){var n=e.join(",");t+=n+"\n"}});var i=encodeURI(t),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download","glazing.csv"),o.hidden=!0,o.innerHTML="Click Here to download",document.body.appendChild(o),o.click()};window.onload=function(){var e=document.querySelector("#fileToUpload");document.getElementsByTagName("body")[0].classList.add("loaded"),e.addEventListener("change",function(){document.querySelector(".preview-button-container").classList.remove("hidden"),document.querySelector(".file-selector-label").innerText="Choose different file..."}),document.querySelector("#process").addEventListener("click",function(){if(""===document.querySelector("#north-reference").value)return alert("Please enter a reference north azimuth"),!1;if(0===e.files.length)return alert("Please select a scratch file"),!1;var t=e.files[0],n=document.querySelector("#north-reference").value;r.postMessage({file:t,reference:n}),r.onmessage=function(e){var t=e.data;i(t.results),document.querySelector("#save").addEventListener("click",function(){o(t.results)})}}),document.querySelector("#fileToUpload").onchange=function(){document.querySelector(".results-preview").innerHTML=""}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.flatten=function(e){var t;return(t=Array.prototype).concat.apply(t,r(e))}},function(e,t,n){n(2),n(0),n(7),n(3),n(13),n(8),n(11),n(12),n(9),n(4),n(5),n(6),e.exports=n(1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2NyaXB0cy4wOWRjYTI0YTE2ZDA4ZGZlM2VmMS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMDlkY2EyNGExNmQwOGRmZTNlZjEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0Zsb29yQ29uc3RydWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9DZWlsaW5nSGVpZ2h0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvV2luZG93Q29uc3RydWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lRGV0YWlsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9ab25lRmxvb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0dyb3VuZEZsb29yLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PcmllbnRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvU2NyYXRjaEZpbGVMaW5lLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9Mb29rc0xpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvUmVzdWx0c0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiRmxvb3JDb25zdHJ1Y3Rpb24iLCJsaW5lRGF0YSIsInRoaXMiLCJpZCIsImlzQ3NvZyIsInJlZ2V4IiwiUmVnRXhwIiwiUmVnZXgiLCJkYXRhIiwiZXhlYyIsInRyaW0iLCJUZXN0Q3NvZyIsImdldENvbnN0cnVjdGlvbklkIiwiZ2V0SXNDc29nIiwiQ1NPR1JlZ2V4IiwidGVzdCIsIkNvbnN0cnVjdGlvbklkUmVnZXgiLCJkZWZhdWx0IiwiWm9uZVdpbmRvdyIsInpvbmVJZCIsIndpbmRvd0lkIiwiaGVpZ2h0Iiwid2lkdGgiLCJhemltdXRoIiwiaGVhZEhlaWdodCIsImhvcml6U2hhZGluZzFJZCIsImhvcml6U2hhZGluZzJJZCIsIkNPTlNUX19aT05FX0lEIiwiQ09OU1RfX1dJTkRPV19JRCIsIkNPTlNUX19IRUlHSFQiLCJDT05TVF9fV0lEVEgiLCJDT05TVF9fQVpJTVVUSCIsIkNPTlNUX19IT1JaX1NIQURJTkdfMSIsIkNPTlNUX19IT1JaX1NIQURJTkdfMiIsImdldFpvbmVJZCIsImdldFdpbmRvd0lkIiwiZ2V0SGVpZ2h0IiwiZ2V0V2lkdGgiLCJnZXRBemltdXRoIiwiZ2V0SGVhZEhlaWdodCIsImdldEhvcml6U2hhZGluZzFJZCIsImdldEhvcml6U2hhZGluZzJJZCIsIndpbmRvd0hlaWdodCIsImVhdmVPZmZzZXQiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInRvU3RyaW5nIiwiQ2VpbGluZ0hlaWdodCIsIkhvcml6b250YWxTaGFkaW5nU2NoZW1lIiwiZWF2ZVByb2plY3Rpb24iLCJwZXJnb2xhUHJvamVjdGlvbiIsInBlcmdvbGFPZmZzZXQiLCJwcm9qZWN0aW9uIiwiQ09OU1RfX0lEIiwiQ09OU1RfX0VBVkVfUFJPSkVDVElPTiIsIkNPTlNUX19FQVZFX09GRlNFVCIsIkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04iLCJDT05TVF9fUEVSR09MQV9PRkZTRVQiLCJnZXRQcm9qZWN0aW9uIiwiZ2V0RWF2ZVByb2plY3Rpb24iLCJnZXRQZXJnb2xhUHJvamVjdGlvbiIsIlJvdW5kVmFsdWUiLCJnZXRJZCIsIm9mZnNldCIsImVhdmUiLCJnZXRFYXZlT2Zmc2V0IiwicGVyZ29sYSIsImdldFBlcmdvbGFPZmZzZXQiLCJNYXRoIiwicm91bmQiLCJXaW5kb3dDb25zdHJ1Y3Rpb24iLCJDT05TVF9fTkFNRSIsIlpvbmVEZXRhaWwiLCJnZXROYW1lIiwiX0Zsb29yQ29uc3RydWN0aW9uIiwiX0Zsb29yQ29uc3RydWN0aW9uMiIsIm9iaiIsIlpvbmVGbG9vciIsImNvbnN0cnVjdGlvbklkIiwiR3JvdW5kRmxvb3IiLCJmbG9vcnMiLCJmaWx0ZXIiLCJmbG9vciIsIk9yaWVudGF0aW9uIiwicmVmZXJlbmNlIiwiYXppbXV0aEludCIsInBhcnNlSW50IiwiSXMiLCJDT05TVF9fTl9FIiwiQ09OU1RfX0UiLCJDT05TVF9fU19FIiwiQ09OU1RfX1MiLCJDT05TVF9fU19XIiwiQ09OU1RfX1ciLCJDT05TVF9fTl9XIiwibGltaXRzIiwidmVjdG9yIiwidXBwZXIiLCJOb3JtYWxpemUiLCJsb3dlciIsIm51bWJlciIsImFicyIsIkNPTlNUX19OIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9DZWlsaW5nSGVpZ2h0IiwiX0NlaWxpbmdIZWlnaHQyIiwiX0hvcml6b250YWxTaGFkaW5nU2NoZW1lIiwiX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMiIsIl9Mb29rc0xpa2UiLCJfTG9va3NMaWtlMiIsIl9XaW5kb3dDb25zdHJ1Y3Rpb24iLCJfV2luZG93Q29uc3RydWN0aW9uMiIsIl9ab25lV2luZG93IiwiX1pvbmVXaW5kb3cyIiwiX1pvbmVEZXRhaWwiLCJfWm9uZURldGFpbDIiLCJfWm9uZUZsb29yIiwiX1pvbmVGbG9vcjIiLCJTY3JhdGNoRmlsZUxpbmUiLCJMb29rc0xpa2UiLCJTaGFkaW5nU2NoZW1lIiwiQnVpbGQiLCJfV2luZG93Q29uc3RydWN0aW9uMyIsIl9ab25lV2luZG93MyIsIl9DZWlsaW5nSGVpZ2h0MyIsIl9ab25lRGV0YWlsMyIsIl9GbG9vckNvbnN0cnVjdGlvbjMiLCJfWm9uZUZsb29yMyIsIlRlc3QiLCJfU2NyYXRjaEZpbGVMaW5lIiwiX1NjcmF0Y2hGaWxlTGluZTIiLCJQYXJzZXIiLCJmaWxlIiwid2luZG93Q29uc3RydWN0aW9ucyIsInpvbmVXaW5kb3dzIiwiem9uZURldGFpbHMiLCJzaGFkaW5nU2NoZW1lcyIsImNlaWxpbmdIZWlnaHRzIiwiZGF0YUxpbmVzIiwiZ2V0RGF0YUxpbmVzIiwibGluZSIsIlJldmVyc2VMb29rdXAiLCJtYXAiLCJ3aW5kb3ciLCJ6b25lV2luZG93Iiwic2hhZGluZyIsImNlaWxpbmdIZWlnaHQiLCJ6b25lRGV0YWlsIiwiZmxvb3JDb25zdHJ1Y3Rpb25zIiwiZmxvb3JDb25zdHJ1Y3Rpb24iLCJ6b25lRmxvb3JzIiwiem9uZUZsb29yIiwiZ2V0V2luZG93Q29uc3RydWN0aW9ucyIsImdldFpvbmVXaW5kb3dzIiwiZ2V0U2hhZGluZyIsImdldENlaWxpbmdIZWlnaHRzIiwiZ2V0Wm9uZURldGFpbHMiLCJnZXRGbG9vckNvbnN0cnVjdGlvbnMiLCJnZXRab25lRmxvb3JzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJfT3JpZW50YXRpb24iLCJfT3JpZW50YXRpb24yIiwiX0dyb3VuZEZsb29yIiwiX0dyb3VuZEZsb29yMiIsIl91dGlscyIsIlJlc3VsdHNCdWlsZGVyIiwiX3JlZiIsInpvbmUiLCJ3aW5kb3dzIiwiY29uc3RydWN0aW9uIiwiY29ucyIsInNoYWRpbmdTY2hlbWUiLCJzaGFkZSIsImNlaWxpbmciLCJmbG9vckNvbiIsIm9uR3JvdW5kRmxvb3IiLCJ6b25lcyIsInVuZGVmaW5lZCIsImNzdiIsIndpbmRvd0NzdiIsIkdldCIsIkhlYWRIZWlnaHQiLCJmbGF0dGVuIiwid29ya2VyIiwiV29ya2VyIiwiY3JlYXRlUHJldmlldyIsInJlc3VsdHMiLCJ0ZW1wbGF0ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbXBvcnROb2RlIiwiY29udGVudCIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwicmVzdWx0IiwidGFibGVSb3ciLCJjcmVhdGVFbGVtZW50IiwicmVzIiwidGFibGVDZWxsIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVEb3dubG9hZCIsImNzdkNvbnRlbnQiLCJoZWFkZXJBcnIiLCJoZWFkZXJSb3ciLCJqb2luIiwicm93QXJyYXkiLCJyb3ciLCJlbmNvZGVkVXJpIiwiZW5jb2RlVVJJIiwibGluayIsInNldEF0dHJpYnV0ZSIsImhpZGRlbiIsImlubmVySFRNTCIsImJvZHkiLCJjbGljayIsIm9ubG9hZCIsImZpbGVTZWxlY3RvciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImFsZXJ0IiwiZmlsZXMiLCJwb3N0TWVzc2FnZSIsIm9ubWVzc2FnZSIsIm9uY2hhbmdlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyMiIsImZyb20iLCJfQXJyYXkkcHJvdG90eXBlIiwiY29uY2F0IiwiYXBwbHkiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFB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SUFBT2lSLEVBQUtqUixHQUFLOFEsRUFBSTlRLEVBQU0sT0FBT2lSLEdBQWUsTUFBT0YsT0FBTUcsS0FBS0osR0FKMUxwUSxPQUFPQyxlQUFlYixFQUFTLGNBQzdCTyxPQUFPLEdnQjVrREl5TixXQUFVLFNBQUFnRCxHQUFBLEdBQUFLLEVBQUEsUUFBT0EsRUFBQUosTUFBTTVQLFdBQVVpUSxPQUFoQkMsTUFBQUYsRUFBQU4sRUFBMEJDLE1oQmdtRGxELFNBQVUvUSxFQUFRRCxFQUFTSCxHQUVqQ0EsRUFBb0IsR0FDcEJBLEVBQW9CLEdBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsR0FDcEJBLEVBQW9CLElBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsSUFDcEJBLEVBQW9CLElBQ3BCQSxFQUFvQixHQUNwQkEsRUFBb0IsR0FDcEJBLEVBQW9CLEdBQ3BCQSxFQUFvQixHQUNwQkksRUFBT0QsUUFBVUgsRUFBb0IiLCJmaWxlIjoic2NyaXB0cy4wOWRjYTI0YTE2ZDA4ZGZlM2VmMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE1KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBGbG9vckNvbnN0cnVjdGlvblxuICovXG52YXIgRmxvb3JDb25zdHJ1Y3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZsb29yQ29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZsb29yQ29uc3RydWN0aW9uKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLmlzQ3NvZyA9IGZhbHNlO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmlzQ3NvZyA9IEZsb29yQ29uc3RydWN0aW9uLlRlc3RDc29nKGxpbmVEYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnN0cnVjdGlvbiBpZCB0aGF0IHRoaXMgZmxvb3IgY29uc3RydWN0aW9uIGJlbG9uZ3MgdG9cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRmxvb3JDb25zdHJ1Y3Rpb24sIFt7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0cnVlL2ZhbHNlIGluZGljYXRpbmcgaWYgdGhlIGZsb29yaW5nIHR5cGUgaW4gdGhlIHpvbmUgaXMgQ1NPR1xuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldElzQ3NvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElzQ3NvZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQ3NvZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHRoZSBkYXRhIGxpbmUgdG8gc2VlIGlmIHRoZXJlIGlzIGNvbmNyZXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpLFxuICAgICAgICBpc0Nzb2c6IHRoaXMuZ2V0SXNDc29nKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdUZXN0Q3NvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFRlc3RDc29nKGxpbmVEYXRhKSB7XG4gICAgICB2YXIgY3NvZ1JlZ2V4ID0gbmV3IFJlZ0V4cChGbG9vckNvbnN0cnVjdGlvbi5DU09HUmVnZXgpO1xuICAgICAgcmV0dXJuIGNzb2dSZWdleC50ZXN0KGxpbmVEYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZsb29yQ29uc3RydWN0aW9uO1xufSgpO1xuXG5GbG9vckNvbnN0cnVjdGlvbi5Db25zdHJ1Y3Rpb25JZFJlZ2V4ID0gJygyNFsxLTldfDJbNS05XVxcXFxkfDNbMS0zXVxcXFxkfDM0MCknO1xuRmxvb3JDb25zdHJ1Y3Rpb24uUmVnZXggPSAnXiAyJyArIEZsb29yQ29uc3RydWN0aW9uLkNvbnN0cnVjdGlvbklkUmVnZXg7XG5GbG9vckNvbnN0cnVjdGlvbi5DU09HUmVnZXggPSAnXiAyKDI0WzEtOV18Mls1LTldXFxcXGR8M1sxLTNdXFxcXGR8MzQwKSAgICguezd9KSooIDE4IDEwMCknO1xuZXhwb3J0cy5kZWZhdWx0ID0gRmxvb3JDb25zdHJ1Y3Rpb247XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIHRvIHBhcnNlIHdpbmRvdyBpbmZvcm1hdGlvbiBpbnNpZGUgYSB6b25lIHNlY3Rpb25cbiAqL1xudmFyIFpvbmVXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRoaXMgdmFsdWUgaXNuJ3QgdXNlZCwganVzdCBoZXJlIHRvIGl0IGNhbiBob2xkIGFuIGVtcHR5IGNlbGwgaW4gdGhlIG91dHB1dCBDU1ZcbiAgZnVuY3Rpb24gWm9uZVdpbmRvdyhsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBab25lV2luZG93KTtcblxuICAgIHRoaXMuem9uZUlkID0gJyc7XG4gICAgdGhpcy53aW5kb3dJZCA9ICcnO1xuICAgIHRoaXMuaGVpZ2h0ID0gJyc7XG4gICAgdGhpcy53aWR0aCA9ICcnO1xuICAgIHRoaXMuYXppbXV0aCA9ICcnO1xuICAgIHRoaXMuaGVhZEhlaWdodCA9ICcnO1xuICAgIHRoaXMuaG9yaXpTaGFkaW5nMUlkID0gJyc7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcySWQgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoWm9uZVdpbmRvdy5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19aT05FX0lEXS50cmltKCk7XG4gICAgdGhpcy53aW5kb3dJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lORE9XX0lEXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hFSUdIVF0udHJpbSgpO1xuICAgIHRoaXMud2lkdGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1dJRFRIXS50cmltKCk7XG4gICAgdGhpcy5hemltdXRoID0gZGF0YVtab25lV2luZG93LkNPTlNUX19BWklNVVRIXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcxSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18xXS50cmltKCk7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcySWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18yXS50cmltKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoWm9uZVdpbmRvdywgW3tcbiAgICBrZXk6ICdnZXRab25lSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0V2luZG93SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaW5kb3dJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpbmRvd0lkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0QXppbXV0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF6aW11dGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hemltdXRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhlYWRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWFkSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZEhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3JpelNoYWRpbmcxSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIb3JpelNoYWRpbmcxSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ob3JpelNoYWRpbmcxSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SG9yaXpTaGFkaW5nMklkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SG9yaXpTaGFkaW5nMklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaG9yaXpTaGFkaW5nMklkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICAgIHdpbmRvd0lkOiB0aGlzLmdldFdpbmRvd0lkKCksXG4gICAgICAgIGhlaWdodDogdGhpcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgYXppbXV0aDogdGhpcy5nZXRBemltdXRoKCksXG4gICAgICAgIGhlYWRIZWlnaHQ6IHRoaXMuZ2V0SGVhZEhlaWdodCgpLFxuICAgICAgICBob3JpelNoYWRpbmcxSWQ6IHRoaXMuZ2V0SG9yaXpTaGFkaW5nMUlkKCksXG4gICAgICAgIGhvcml6U2hhZGluZzJJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcySWQoKVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ0J1aWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBab25lV2luZG93KGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB0aGUgSGVhZCBIZWlnaHQgb2YgYSB3aW5kb3cgZnJvbSB0aGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3cgYW5kIHRoZSBlYXZlIG9mZnNldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHdpbmRvd0hlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWF2ZU9mZnNldCAgIFRoZSBlYXZlIG9mZnNldCBvZiB0aGUgd2luZG93XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdIZWFkSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gSGVhZEhlaWdodCh3aW5kb3dIZWlnaHQsIGVhdmVPZmZzZXQpIHtcbiAgICAgIHZhciB3aW5kb3dIZWlnaHRGbG9hdCA9IHdpbmRvd0hlaWdodCA9PT0gJycgPyAwIDogcGFyc2VGbG9hdCh3aW5kb3dIZWlnaHQpO1xuICAgICAgdmFyIGVhdmVPZmZzZXRGbG9hdCA9IGVhdmVPZmZzZXQgPT09ICcnID8gMCA6IHBhcnNlRmxvYXQoZWF2ZU9mZnNldCk7XG4gICAgICByZXR1cm4gKHdpbmRvd0hlaWdodEZsb2F0ICsgZWF2ZU9mZnNldEZsb2F0KS50b0ZpeGVkKDIpLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFpvbmVXaW5kb3c7XG59KCk7XG5cblpvbmVXaW5kb3cuQ09OU1RfX1pPTkVfSUQgPSAxO1xuWm9uZVdpbmRvdy5DT05TVF9fV0lORE9XX0lEID0gMjtcblpvbmVXaW5kb3cuQ09OU1RfX0hFSUdIVCA9IDY7XG5ab25lV2luZG93LkNPTlNUX19XSURUSCA9IDc7XG5ab25lV2luZG93LkNPTlNUX19BWklNVVRIID0gODtcblpvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18xID0gOTtcblpvbmVXaW5kb3cuQ09OU1RfX0hPUlpfU0hBRElOR18yID0gMTA7XG5ab25lV2luZG93LlJlZ2V4ID0gJ14gMyguezN9KSgoICgxMCl8KCAgWzAtOV0pKSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSknO1xuZXhwb3J0cy5kZWZhdWx0ID0gWm9uZVdpbmRvdztcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgQ2VpbGluZ0hlaWdodFxuICovXG52YXIgQ2VpbGluZ0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2VpbGluZ0hlaWdodChsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDZWlsaW5nSGVpZ2h0KTtcblxuICAgIHRoaXMuem9uZUlkID0gJyc7XG4gICAgdGhpcy5oZWlnaHQgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoQ2VpbGluZ0hlaWdodC5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhWzNdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDZWlsaW5nSGVpZ2h0LCBbe1xuICAgIGtleTogJ2dldFpvbmVJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IENlaWxpbmdIZWlnaHQoZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlaWxpbmdIZWlnaHQ7XG59KCk7XG5cbkNlaWxpbmdIZWlnaHQuUmVnZXggPSAnXiAzKC57M30pNzAwKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJztcbmV4cG9ydHMuZGVmYXVsdCA9IENlaWxpbmdIZWlnaHQ7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEJyZWFrIHRoZSBIb3Jpem9udGFsIFNoYWRpbmcgU2NoZW1lIGRhdGEgaW50byBpdHMgdmFyaW91cyBwYXJ0c1xuICovXG52YXIgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIENvbnN0YW50cyB0aGF0IG1hcCB0aGUgdmFyaW91cyBiaXRzIG9mIGRhdGEgdG8gdGhlIHNlY3Rpb24gb2YgcmVnZXhcbiAgICovXG4gIGZ1bmN0aW9uIEhvcml6b250YWxTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvcml6b250YWxTaGFkaW5nU2NoZW1lKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLmVhdmVQcm9qZWN0aW9uID0gJyc7XG4gICAgdGhpcy5lYXZlT2Zmc2V0ID0gJyc7XG4gICAgdGhpcy5wZXJnb2xhUHJvamVjdGlvbiA9ICcnO1xuICAgIHRoaXMucGVyZ29sYU9mZnNldCA9ICcnO1xuICAgIHRoaXMucHJvamVjdGlvbiA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19JRF0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLmVhdmVPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYVByb2plY3Rpb24gPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT05dLnRyaW0oKTtcbiAgICB0aGlzLnBlcmdvbGFPZmZzZXQgPSBkYXRhW0hvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX09GRlNFVF0udHJpbSgpO1xuICAgIHRoaXMucHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgaGlnaGVzdCBwcm9qZWN0aW9uIHZhbHVlIGFuZCByZXR1cm5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUsIFt7XG4gICAga2V5OiAnZ2V0UHJvamVjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFByb2plY3Rpb24oKSB7XG4gICAgICB2YXIgcHJvamVjdGlvbiA9IHBhcnNlRmxvYXQodGhpcy5nZXRFYXZlUHJvamVjdGlvbigpKSA+IHBhcnNlRmxvYXQodGhpcy5nZXRQZXJnb2xhUHJvamVjdGlvbigpKSA/IHRoaXMuZ2V0RWF2ZVByb2plY3Rpb24oKSA6IHRoaXMuZ2V0UGVyZ29sYVByb2plY3Rpb24oKTtcblxuICAgICAgcmV0dXJuIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJvdW5kVmFsdWUocHJvamVjdGlvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEVhdmVPZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFYXZlT2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWF2ZU9mZnNldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFYXZlUHJvamVjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVhdmVQcm9qZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWF2ZVByb2plY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0UGVyZ29sYU9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBlcmdvbGFPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wZXJnb2xhT2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFBlcmdvbGFQcm9qZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGVyZ29sYVByb2plY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wZXJnb2xhUHJvamVjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgcHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgIG9mZnNldDoge1xuICAgICAgICAgIGVhdmU6IHRoaXMuZ2V0RWF2ZU9mZnNldCgpLFxuICAgICAgICAgIHBlcmdvbGE6IHRoaXMuZ2V0UGVyZ29sYU9mZnNldCgpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm91bmQgdGhlIHByb3ZpZGVkIHZhbHVlIChwcm9qZWN0aW9uKSB0byB0aGUgbmVhcmVzdCAwLjA1XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHJvdW5kXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdSb3VuZFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gUm91bmRWYWx1ZSh2YWx1ZSkge1xuICAgICAgLy8gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQxMzYwMi8xNTYwNTkzXG4gICAgICByZXR1cm4gKE1hdGgucm91bmQodmFsdWUgKiAyMCkgLyAyMCkudG9GaXhlZCgyKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWU7XG59KCk7XG5cbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19JRCA9IDE7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5DT05TVF9fRUFWRV9QUk9KRUNUSU9OID0gMjtcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX09GRlNFVCA9IDM7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5DT05TVF9fUEVSR09MQV9QUk9KRUNUSU9OID0gNjtcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX09GRlNFVCA9IDc7XG5Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCA9ICdeIDEgMjAoLnszfSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkoLns2fSkkJztcbmV4cG9ydHMuZGVmYXVsdCA9IEhvcml6b250YWxTaGFkaW5nU2NoZW1lO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBCcmVhayBhIFdpbmRvdyBjb25zdHJ1Y3Rpb24gZGF0YSBsaW5lIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xudmFyIFdpbmRvd0NvbnN0cnVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdpbmRvd0NvbnN0cnVjdGlvbik7XG5cbiAgICB0aGlzLmlkID0gJyc7XG4gICAgdGhpcy5uYW1lID0gJyc7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFdpbmRvd0NvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuaWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLm5hbWUgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhXaW5kb3dDb25zdHJ1Y3Rpb24sIFt7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgV2luZG93Q29uc3RydWN0aW9uKGRhdGEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXaW5kb3dDb25zdHJ1Y3Rpb247XG59KCk7XG5cbldpbmRvd0NvbnN0cnVjdGlvbi5DT05TVF9fSUQgPSAzO1xuV2luZG93Q29uc3RydWN0aW9uLkNPTlNUX19OQU1FID0gJyc7XG5XaW5kb3dDb25zdHJ1Y3Rpb24uUmVnZXggPSAnXiBcXFxcZCguezN9KVsgXFxcXGRdKihbYS16QS1aXVthLXpBLVpcXFxcLVxcXFxkXXs5fVsgYS16QS1aXVthLXpBLVpdPyknO1xuZXhwb3J0cy5kZWZhdWx0ID0gV2luZG93Q29uc3RydWN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBab25lRGV0YWlsXG4gKi9cbnZhciBab25lRGV0YWlsID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFpvbmVEZXRhaWwpO1xuXG4gICAgdGhpcy5pZCA9ICcnO1xuICAgIHRoaXMubmFtZSA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lRGV0YWlsLlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMubmFtZSA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFpvbmVEZXRhaWwsIFt7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldE5hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgbmFtZTogdGhpcy5nZXROYW1lKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgWm9uZURldGFpbChkYXRhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWm9uZURldGFpbDtcbn0oKTtcblxuWm9uZURldGFpbC5SZWdleCA9ICdeQyBaMDA/KFxcXFxkezEsM30pID0+ICguKikkJztcbmV4cG9ydHMuZGVmYXVsdCA9IFpvbmVEZXRhaWw7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgWm9uZUZsb29yXG4gKi9cbnZhciBab25lRmxvb3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFpvbmVGbG9vcihsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBab25lRmxvb3IpO1xuXG4gICAgdGhpcy56b25lSWQgPSAnJztcbiAgICB0aGlzLmNvbnN0cnVjdGlvbklkID0gJyc7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFpvbmVGbG9vci5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5jb25zdHJ1Y3Rpb25JZCA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFpvbmVGbG9vciwgW3tcbiAgICBrZXk6ICdnZXRab25lSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q29uc3RydWN0aW9uSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25zdHJ1Y3Rpb25JZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGlvbklkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICAgIGNvbnN0cnVjdGlvbklkOiB0aGlzLmdldENvbnN0cnVjdGlvbklkKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgWm9uZUZsb29yKGRhdGEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBab25lRmxvb3I7XG59KCk7XG5cblpvbmVGbG9vci5SZWdleCA9ICcgMyguLi4pKCcgKyBfRmxvb3JDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQ29uc3RydWN0aW9uSWRSZWdleCArICcpJztcbmV4cG9ydHMuZGVmYXVsdCA9IFpvbmVGbG9vcjtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgR3JvdW5kRmxvb3JcbiAqL1xudmFyIEdyb3VuZEZsb29yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHcm91bmRGbG9vcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JvdW5kRmxvb3IpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdyb3VuZEZsb29yLCBudWxsLCBbe1xuICAgIGtleTogXCJUZXN0XCIsXG5cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYW55IG9mIHRoZSBwcm92aWRlZCBmbG9vcnMgaGF2ZSBhIENTT0cgY29uc3RydWN0aW9uLCBpbmRpY2F0aW5nIHRoZSB6b25lIGlzIGxpa2VseSBvbiB0aGUgZ3JvdW5kIGZsb29yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBmbG9vcnMgVGhlIGZsb29ycyB0byBjaGVjayBmb3IgQ1NPR1xuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIFRlc3QoZmxvb3JzKSB7XG4gICAgICByZXR1cm4gZmxvb3JzLmZpbHRlcihmdW5jdGlvbiAoZmxvb3IpIHtcbiAgICAgICAgcmV0dXJuIGZsb29yLmlzQ3NvZztcbiAgICAgIH0pLmxlbmd0aCA+IDA7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdyb3VuZEZsb29yO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcm91bmRGbG9vcjtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgT3JpZW50YXRpb25cbiAqL1xudmFyIE9yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPcmllbnRhdGlvbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3JpZW50YXRpb24pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE9yaWVudGF0aW9uLCBudWxsLCBbe1xuICAgIGtleTogJ0dldCcsXG5cblxuICAgIC8qKlxuICAgICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYXppbXV0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF6aW11dGggICBBemltdXRoIHZhbHVlIGJlaW5nIGNoYW5nZWQgdG8gb3JpZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFJlZmVyZW5jZSBhemltdXRoIGZvciBOb3J0aFxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ3xib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBHZXQoYXppbXV0aCwgcmVmZXJlbmNlKSB7XG4gICAgICB2YXIgYXppbXV0aEludCA9IHBhcnNlSW50KGF6aW11dGgsIDEwKTtcblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX05fRSkpIHtcbiAgICAgICAgcmV0dXJuICdORSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19FKSkge1xuICAgICAgICByZXR1cm4gJ0UnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fU19FKSkge1xuICAgICAgICByZXR1cm4gJ1NFJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1MpKSB7XG4gICAgICAgIHJldHVybiAnUyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TX1cpKSB7XG4gICAgICAgIHJldHVybiAnU1cnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fVykpIHtcbiAgICAgICAgcmV0dXJuICdXJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX05fVykpIHtcbiAgICAgICAgcmV0dXJuICdOVyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnTic7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnSXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBJcyhhemltdXRoLCByZWZlcmVuY2UsIGxpbWl0cykge1xuICAgICAgdmFyIHZlY3RvciA9IHtcbiAgICAgICAgdXBwZXI6IE9yaWVudGF0aW9uLk5vcm1hbGl6ZShwYXJzZUludChyZWZlcmVuY2UsIDEwKSArIGxpbWl0cy51cHBlciksXG4gICAgICAgIGxvd2VyOiBPcmllbnRhdGlvbi5Ob3JtYWxpemUocGFyc2VJbnQocmVmZXJlbmNlLCAxMCkgKyBsaW1pdHMubG93ZXIpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gYXppbXV0aCA+PSB2ZWN0b3IubG93ZXIgJiYgYXppbXV0aCA8PSB2ZWN0b3IudXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGEgdmFsdWUgdG8gYmUgd2l0aGluIHRoZSAwLTM2MCByYW5nZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbnR9IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge2ludH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnTm9ybWFsaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gTm9ybWFsaXplKG51bWJlcikge1xuICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIDM2MCAtIE1hdGguYWJzKG51bWJlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChudW1iZXIgPiAzNjApIHtcbiAgICAgICAgcmV0dXJuIG51bWJlciAtIDM2MDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT3JpZW50YXRpb247XG59KCk7XG5cbk9yaWVudGF0aW9uLkNPTlNUX19OID0geyBsb3dlcjogMjIsIHVwcGVyOiAzMzggfTtcbk9yaWVudGF0aW9uLkNPTlNUX19OX0UgPSB7IGxvd2VyOiAyMywgdXBwZXI6IDY3IH07XG5PcmllbnRhdGlvbi5DT05TVF9fRSA9IHsgbG93ZXI6IDY4LCB1cHBlcjogMTEyIH07XG5PcmllbnRhdGlvbi5DT05TVF9fU19FID0geyBsb3dlcjogMTEzLCB1cHBlcjogMTU3IH07XG5PcmllbnRhdGlvbi5DT05TVF9fUyA9IHsgbG93ZXI6IDE1OCwgdXBwZXI6IDIwMiB9O1xuT3JpZW50YXRpb24uQ09OU1RfX1NfVyA9IHsgbG93ZXI6IDIwMywgdXBwZXI6IDI0NyB9O1xuT3JpZW50YXRpb24uQ09OU1RfX1cgPSB7IGxvd2VyOiAyNDgsIHVwcGVyOiAyOTIgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19OX1cgPSB7IGxvd2VyOiAyOTMsIHVwcGVyOiAzMzcgfTtcbmV4cG9ydHMuZGVmYXVsdCA9IE9yaWVudGF0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NlaWxpbmdIZWlnaHQpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSk7XG5cbnZhciBfTG9va3NMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciBfTG9va3NMaWtlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvb2tzTGlrZSk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2luZG93Q29uc3RydWN0aW9uKTtcblxudmFyIF9ab25lV2luZG93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9ab25lV2luZG93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVXaW5kb3cpO1xuXG52YXIgX1pvbmVEZXRhaWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX1pvbmVEZXRhaWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZURldGFpbCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Zsb29yQ29uc3RydWN0aW9uKTtcblxudmFyIF9ab25lRmxvb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX1pvbmVGbG9vcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRmxvb3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIFNjcmF0Y2hGaWxlTGluZVxuICovXG52YXIgU2NyYXRjaEZpbGVMaW5lID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY3JhdGNoRmlsZUxpbmUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcmF0Y2hGaWxlTGluZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2NyYXRjaEZpbGVMaW5lLCBudWxsLCBbe1xuICAgIGtleTogJ0J1aWxkJyxcblxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYSBkYXRhIGxpbmUgaW50byB0aGUgYXBwcm9wcmlhdGUgY2xhc3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSBwYXJzZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdHxib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5TaGFkaW5nU2NoZW1lKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUyLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LkNlaWxpbmdIZWlnaHQoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9DZWlsaW5nSGVpZ2h0Mi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5XaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9XaW5kb3dDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LlpvbmVXaW5kb3coZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lV2luZG93Mi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5ab25lRGV0YWlsKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfWm9uZURldGFpbDIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9GbG9vckNvbnN0cnVjdGlvbjIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuWm9uZUZsb29yKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfWm9uZUZsb29yMi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjcmF0Y2hGaWxlTGluZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2NyYXRjaEZpbGVMaW5lO1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hvcml6b250YWxTaGFkaW5nU2NoZW1lKTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2luZG93Q29uc3RydWN0aW9uMik7XG5cbnZhciBfWm9uZVdpbmRvdzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3czID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdzIpO1xuXG52YXIgX0NlaWxpbmdIZWlnaHQyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NlaWxpbmdIZWlnaHQyKTtcblxudmFyIF9ab25lRGV0YWlsMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfWm9uZURldGFpbDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRGV0YWlsMik7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24yID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbjIpO1xuXG52YXIgX1pvbmVGbG9vcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX1pvbmVGbG9vcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRmxvb3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbXBhcmUgYSBkYXRhIHN0cmluZyBhbmQgaW5kaWNhdGUgd2hhdCB0eXBlIG9mIGRhdGEgaXQgbG9va3MgbGlrZVxuICovXG52YXIgTG9va3NMaWtlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMb29rc0xpa2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvb2tzTGlrZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9va3NMaWtlLCBudWxsLCBbe1xuICAgIGtleTogJ1NoYWRpbmdTY2hlbWUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGhvcml6b250YWwgc2hhZGluZyBzY2hlbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIuZGVmYXVsdC5SZWdleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSB3aW5kb3cgY29uc3RydWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnV2luZG93Q29uc3RydWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9XaW5kb3dDb25zdHJ1Y3Rpb24zLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSB3aW5kb3dcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdab25lV2luZG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gWm9uZVdpbmRvdyhsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfWm9uZVdpbmRvdzMuZGVmYXVsdC5SZWdleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSBjZWlsaW5nIGhlaWdodCBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnQ2VpbGluZ0hlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIENlaWxpbmdIZWlnaHQobGluZURhdGEpIHtcbiAgICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgX0NlaWxpbmdIZWlnaHQzLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBkZXRhaWwgbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1pvbmVEZXRhaWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9ab25lRGV0YWlsMy5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGZsb29yIGNvbnN0cnVjdGlvbiBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnRmxvb3JDb25zdHJ1Y3Rpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBGbG9vckNvbnN0cnVjdGlvbihsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfRmxvb3JDb25zdHJ1Y3Rpb24zLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBmbG9vciBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnWm9uZUZsb29yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gWm9uZUZsb29yKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9ab25lRmxvb3IzLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgcmVnZXggdGVzdCBhZ2FpbnN0IHRoZSBkYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAgVGhlIGRhdGEgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWdleCBUaGUgcmVnZXggcGF0dGVybiB0byB0ZXN0IHdpdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdUZXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gVGVzdChkYXRhLCByZWdleCkge1xuICAgICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXgpO1xuICAgICAgcmV0dXJuIHJlZ2V4cC50ZXN0KGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGF0IHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1JldmVyc2VMb29rdXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBSZXZlcnNlTG9va3VwKGRhdGEpIHtcbiAgICAgIGlmIChMb29rc0xpa2UuU2hhZGluZ1NjaGVtZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5DZWlsaW5nSGVpZ2h0KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnQ2VpbGluZ0hlaWdodCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuV2luZG93Q29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnV2luZG93Q29uc3RydWN0aW9uJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5ab25lV2luZG93KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnWm9uZVdpbmRvdyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuWm9uZURldGFpbChkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1pvbmVEZXRhaWwnO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLkZsb29yQ29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnRmxvb3JDb25zdHJ1Y3Rpb24nO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLlpvbmVGbG9vcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1pvbmVGbG9vcic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9va3NMaWtlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMb29rc0xpa2U7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQSBjbGFzcyB0byBoYW5kbGUgcGFyc2luZyBhbiBlbnRpcmUgc2NyYXRjaCBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cblxudmFyIF9TY3JhdGNoRmlsZUxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX1NjcmF0Y2hGaWxlTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JhdGNoRmlsZUxpbmUpO1xuXG52YXIgX0xvb2tzTGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgX0xvb2tzTGlrZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb29rc0xpa2UpO1xuXG52YXIgX1dpbmRvd0NvbnN0cnVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dpbmRvd0NvbnN0cnVjdGlvbik7XG5cbnZhciBfWm9uZVdpbmRvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfWm9uZVdpbmRvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lV2luZG93KTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUpO1xuXG52YXIgX0NlaWxpbmdIZWlnaHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX0NlaWxpbmdIZWlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2VpbGluZ0hlaWdodCk7XG5cbnZhciBfWm9uZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfWm9uZURldGFpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRGV0YWlsKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxvb3JDb25zdHJ1Y3Rpb24pO1xuXG52YXIgX1pvbmVGbG9vciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfWm9uZUZsb29yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVGbG9vcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IGZpbGUgQSBzY3JhdGNoZmlsZSBhcnJheVxuICAgKi9cbiAgZnVuY3Rpb24gUGFyc2VyKGZpbGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFyc2VyKTtcblxuICAgIHRoaXMud2luZG93Q29uc3RydWN0aW9ucyA9IFtdO1xuICAgIHRoaXMuem9uZVdpbmRvd3MgPSBbXTtcbiAgICB0aGlzLnpvbmVEZXRhaWxzID0gW107XG4gICAgdGhpcy5zaGFkaW5nU2NoZW1lcyA9IFtdO1xuICAgIHRoaXMuY2VpbGluZ0hlaWdodHMgPSBbXTtcblxuICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFyc2VyLCBbe1xuICAgIGtleTogJ3Byb2Nlc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgdmFyIGRhdGFMaW5lcyA9IHRoaXMuZ2V0RGF0YUxpbmVzKCk7XG5cbiAgICAgIC8vIEZpbHRlciB0aGUgYXJyYXlzIHRvIG9ubHkgaW5jbHVkZSB0aGUgcmVsYXRlZCBkYXRhLCB0aGVuIGJ1aWxkIHRoZSBkYXRhIGxpbmUgaW50byB0aGUgYXBwcm9wcmlhdGUgY2xhc3NcbiAgICAgIHRoaXMud2luZG93Q29uc3RydWN0aW9ucyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1dpbmRvd0NvbnN0cnVjdGlvbic7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHdpbmRvdykge1xuICAgICAgICByZXR1cm4gX1dpbmRvd0NvbnN0cnVjdGlvbjIuZGVmYXVsdC5CdWlsZCh3aW5kb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuem9uZVdpbmRvd3MgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lV2luZG93JztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZVdpbmRvdykge1xuICAgICAgICByZXR1cm4gX1pvbmVXaW5kb3cyLmRlZmF1bHQuQnVpbGQoem9uZVdpbmRvdyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zaGFkaW5nU2NoZW1lcyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoc2hhZGluZykge1xuICAgICAgICByZXR1cm4gX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMi5kZWZhdWx0LkJ1aWxkKHNoYWRpbmcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY2VpbGluZ0hlaWdodHMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdDZWlsaW5nSGVpZ2h0JztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoY2VpbGluZ0hlaWdodCkge1xuICAgICAgICByZXR1cm4gX0NlaWxpbmdIZWlnaHQyLmRlZmF1bHQuQnVpbGQoY2VpbGluZ0hlaWdodCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy56b25lRGV0YWlscyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVEZXRhaWwnO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uICh6b25lRGV0YWlsKSB7XG4gICAgICAgIHJldHVybiBfWm9uZURldGFpbDIuZGVmYXVsdC5CdWlsZCh6b25lRGV0YWlsKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmZsb29yQ29uc3RydWN0aW9ucyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0Zsb29yQ29uc3RydWN0aW9uJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoZmxvb3JDb25zdHJ1Y3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIF9GbG9vckNvbnN0cnVjdGlvbjIuZGVmYXVsdC5CdWlsZChmbG9vckNvbnN0cnVjdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy56b25lRmxvb3JzID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZUZsb29yJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZUZsb29yKSB7XG4gICAgICAgIHJldHVybiBfWm9uZUZsb29yMi5kZWZhdWx0LkJ1aWxkKHpvbmVGbG9vcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmVzIG9mIGRhdGEgdGhhdCBtYXRjaCBhIHR5cGUgd2UncmUgaW50ZXJlc3RlZCBpblxuICAgICAqXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXREYXRhTGluZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhTGluZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWxlLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX1NjcmF0Y2hGaWxlTGluZTIuZGVmYXVsdC5CdWlsZChsaW5lKSAhPT0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaW5kb3dDb25zdHJ1Y3Rpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0V2luZG93Q29uc3RydWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLndpbmRvd0NvbnN0cnVjdGlvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Wm9uZVdpbmRvd3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lV2luZG93cygpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVXaW5kb3dzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNoYWRpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGFkaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2hhZGluZ1NjaGVtZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q2VpbGluZ0hlaWdodHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDZWlsaW5nSGVpZ2h0cygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNlaWxpbmdIZWlnaHRzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFpvbmVEZXRhaWxzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Wm9uZURldGFpbHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lRGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRGbG9vckNvbnN0cnVjdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGbG9vckNvbnN0cnVjdGlvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbG9vckNvbnN0cnVjdGlvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Wm9uZUZsb29ycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVGbG9vcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lRmxvb3JzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgZGF0YSBpbiBhbiBvYmplY3QgdGhhdCBjYW4gYmUgZGVjb25zdHJ1Y3RlZFxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0QWxsRGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aW5kb3dDb25zdHJ1Y3Rpb25zOiB0aGlzLmdldFdpbmRvd0NvbnN0cnVjdGlvbnMoKSxcbiAgICAgICAgem9uZVdpbmRvd3M6IHRoaXMuZ2V0Wm9uZVdpbmRvd3MoKSxcbiAgICAgICAgc2hhZGluZzogdGhpcy5nZXRTaGFkaW5nKCksXG4gICAgICAgIGNlaWxpbmdIZWlnaHRzOiB0aGlzLmdldENlaWxpbmdIZWlnaHRzKCksXG4gICAgICAgIHpvbmVEZXRhaWxzOiB0aGlzLmdldFpvbmVEZXRhaWxzKCksXG4gICAgICAgIGZsb29yQ29uc3RydWN0aW9uczogdGhpcy5nZXRGbG9vckNvbnN0cnVjdGlvbnMoKSxcbiAgICAgICAgem9uZUZsb29yczogdGhpcy5nZXRab25lRmxvb3JzKClcbiAgICAgIH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhcnNlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFyc2VyO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfT3JpZW50YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX09yaWVudGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09yaWVudGF0aW9uKTtcblxudmFyIF9Hcm91bmRGbG9vciA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfR3JvdW5kRmxvb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdW5kRmxvb3IpO1xuXG52YXIgX1pvbmVXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdyk7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBSZXN1bHRzQnVpbGRlclxuICpcbiAqIFRoaXMgY2xhc3Mgd2lsbCB0YWtlIHZhcmlvdXMgYXJyYXlzIG9mIGRhdGEgbGluZXMsIGJ1aWxkIHRoZW0gaW50byB0aGVpciBhcHByb3ByaWF0ZSBjbGFzc2VzLFxuICogbGluayB0aGVtIHRocm91Z2ggdmFyaW91cyBJRCdzLCBhbmQgdGhlbiBjcmVhdGUgbXVsdGlwbGUgb3V0cHV0IGxpbmVzXG4gKi9cblxudmFyIFJlc3VsdHNCdWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZXN1bHRzQnVpbGRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdWx0c0J1aWxkZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc3VsdHNCdWlsZGVyLCBudWxsLCBbe1xuICAgIGtleTogJ0NvbXBpbGUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIHRoZSB2YXJpb3VzIGFycmF5cyBpbnRvIGEgc2luZ2xlIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB3aW5kb3dDb25zdHJ1Y3Rpb25zXG4gICAgICogQHBhcmFtIHthcnJheX0gem9uZVdpbmRvd3NcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBzaGFkaW5nXG4gICAgICogQHBhcmFtIHthcnJheX0gY2VpbGluZ0hlaWdodHNcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRGV0YWlsc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IGZsb29yQ29uc3RydWN0aW9uc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IHpvbmVGbG9vcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBDb21waWxlKF9yZWYpIHtcbiAgICAgIHZhciB3aW5kb3dDb25zdHJ1Y3Rpb25zID0gX3JlZi53aW5kb3dDb25zdHJ1Y3Rpb25zLFxuICAgICAgICAgIHpvbmVXaW5kb3dzID0gX3JlZi56b25lV2luZG93cyxcbiAgICAgICAgICBzaGFkaW5nID0gX3JlZi5zaGFkaW5nLFxuICAgICAgICAgIGNlaWxpbmdIZWlnaHRzID0gX3JlZi5jZWlsaW5nSGVpZ2h0cyxcbiAgICAgICAgICB6b25lRGV0YWlscyA9IF9yZWYuem9uZURldGFpbHMsXG4gICAgICAgICAgZmxvb3JDb25zdHJ1Y3Rpb25zID0gX3JlZi5mbG9vckNvbnN0cnVjdGlvbnMsXG4gICAgICAgICAgem9uZUZsb29ycyA9IF9yZWYuem9uZUZsb29ycztcblxuICAgICAgcmV0dXJuIHpvbmVEZXRhaWxzLm1hcChmdW5jdGlvbiAoem9uZSkge1xuICAgICAgICAvLyBGaWx0ZXIgdGhlIHpvbmUgd2luZG93cyBmb3Igb25seSB3aW5kb3dzIGluIHRoaXMgem9uZSwgYW5kIHRoZW4gbWFwIHRoZSB3aW5kb3cgY29uc3RydWN0aW9uLCBzaGFkaW5nIGFuZCBjZWlsaW5nIGhlaWdodCBkZXRhaWxzXG4gICAgICAgIHZhciB3aW5kb3dzID0gem9uZVdpbmRvd3MuZmlsdGVyKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LnpvbmVJZCA9PT0gem9uZS5pZDtcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uICh6b25lV2luZG93KSB7XG4gICAgICAgICAgdmFyIGNvbnN0cnVjdGlvbiA9IHdpbmRvd0NvbnN0cnVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ucy5pZCA9PT0gem9uZVdpbmRvdy5nZXRXaW5kb3dJZCgpO1xuICAgICAgICAgIH0pWzBdO1xuICAgICAgICAgIHZhciBzaGFkaW5nU2NoZW1lID0gc2hhZGluZy5maWx0ZXIoZnVuY3Rpb24gKHNoYWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcxSWQoKSB8fCBzaGFkZS5nZXRJZCgpID09PSB6b25lV2luZG93LmdldEhvcml6U2hhZGluZzJJZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBjZWlsaW5nSGVpZ2h0ID0gY2VpbGluZ0hlaWdodHMuZmlsdGVyKGZ1bmN0aW9uIChjZWlsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VpbGluZy5nZXRab25lSWQoKSA9PT0gem9uZS5nZXRJZCgpO1xuICAgICAgICAgIH0pWzBdO1xuXG4gICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB6b25lV2luZG93LCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rpb246IGNvbnN0cnVjdGlvbixcbiAgICAgICAgICAgIHNoYWRpbmc6IHNoYWRpbmdTY2hlbWUsXG4gICAgICAgICAgICBjZWlsaW5nSGVpZ2h0OiBjZWlsaW5nSGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmbG9vcnMgPSB6b25lRmxvb3JzLmZpbHRlcihmdW5jdGlvbiAoem9uZUZsb29yKSB7XG4gICAgICAgICAgcmV0dXJuIHpvbmVGbG9vci56b25lSWQgPT09IHpvbmUuaWQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZUZsb29yKSB7XG4gICAgICAgICAgdmFyIGNvbnN0cnVjdGlvbiA9IGZsb29yQ29uc3RydWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGZsb29yQ29uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmxvb3JDb24uaWQgPT09IHpvbmVGbG9vci5jb25zdHJ1Y3Rpb25JZDtcbiAgICAgICAgICB9KVswXTtcblxuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgem9uZUZsb29yLCBjb25zdHJ1Y3Rpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB6b25lLmdldElkKCksXG4gICAgICAgICAgbmFtZTogem9uZS5nZXROYW1lKCksXG4gICAgICAgICAgd2luZG93czogd2luZG93cyxcbiAgICAgICAgICBvbkdyb3VuZEZsb29yOiBfR3JvdW5kRmxvb3IyLmRlZmF1bHQuVGVzdChmbG9vcnMpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgem9uZXMgYXJyYXkgaW50byBhIGZsYXR0IGFycmF5IHJlYWR5IGZvciBjb252ZXJzaW9uIHRvIENTVlxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gIHpvbmVzICAgICBUaGUgem9uZXMgYXJyYXkgY3JlYXRlZCBpbiBSZXN1bHRzQnVpbGRlci5Db21waWxlKClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFtPcHRpb25hbF0gUmVmZXJlbmNlIE5vcnRoIGF6aW11dGguIERlZmF1bHQgMFxuICAgICAqXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKHpvbmVzKSB7XG4gICAgICB2YXIgcmVmZXJlbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICB2YXIgY3N2ID0gem9uZXMubWFwKGZ1bmN0aW9uICh6b25lKSB7XG4gICAgICAgIHZhciB3aW5kb3dDc3YgPSB6b25lLndpbmRvd3MubWFwKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgICB2YXIgcHJvamVjdGlvbiA9ICcnO1xuICAgICAgICAgIHZhciBlYXZlT2Zmc2V0ID0gJyc7XG4gICAgICAgICAgdmFyIHBlcmdvbGFPZmZzZXQgPSAnJztcbiAgICAgICAgICBpZiAod2luZG93LnNoYWRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbiA9IHdpbmRvdy5zaGFkaW5nWzBdLnByb2plY3Rpb247XG4gICAgICAgICAgICBlYXZlT2Zmc2V0ID0gd2luZG93LnNoYWRpbmdbMF0uZWF2ZU9mZnNldDtcbiAgICAgICAgICAgIHBlcmdvbGFPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5wZXJnb2xhT2Zmc2V0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBbem9uZS5uYW1lLCAnJywgX09yaWVudGF0aW9uMi5kZWZhdWx0LkdldCh3aW5kb3cuYXppbXV0aCwgcmVmZXJlbmNlKSwgd2luZG93LmhlaWdodCwgd2luZG93LndpZHRoLCBwcm9qZWN0aW9uLCBfWm9uZVdpbmRvdzIuZGVmYXVsdC5IZWFkSGVpZ2h0KHdpbmRvdy5oZWlnaHQsIGVhdmVPZmZzZXQpLCB3aW5kb3cuY29uc3RydWN0aW9uLm5hbWUsIHdpbmRvdy5jZWlsaW5nSGVpZ2h0LmhlaWdodCwgZWF2ZU9mZnNldCwgcGVyZ29sYU9mZnNldCwgem9uZS5vbkdyb3VuZEZsb29yID8gJzAnIDogJyddO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBbiBlbXB0eSB3aW5kb3dDc3YgbmVlZHMgdG8gYmUgcmV0dXJuZWQgaW5zaWRlIGFuIGFycmF5IGl0c2VsZiwgaW4gb3JkZXIgdG8gd29yayB3aXRoIHRoZSBmbGF0dGVuIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiB3aW5kb3dDc3YubGVuZ3RoID4gMCA/IHdpbmRvd0NzdiA6IFt3aW5kb3dDc3ZdO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLmZsYXR0ZW4pKGNzdik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc3VsdHNCdWlsZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXN1bHRzQnVpbGRlcjtcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgd29ya2VyID0gbmV3IFdvcmtlcignanMvd29ya2VyLltbd29ya2VySGFzaF1dLmpzJyk7XG5cbnZhciBjcmVhdGVQcmV2aWV3ID0gZnVuY3Rpb24gY3JlYXRlUHJldmlldyhyZXN1bHRzKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzLXByZXZpZXctdGVtcGxhdGUnKTtcbiAgdmFyIGluc3RhbmNlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcblxuICB2YXIgdGFibGVCb2R5ID0gaW5zdGFuY2UucXVlcnlTZWxlY3RvcigndGJvZHknKTtcblxuICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHZhciB0YWJsZVJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgcmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgdmFyIHRhYmxlQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICB0YWJsZUNlbGwuaW5uZXJUZXh0ID0gcmVzO1xuICAgICAgdGFibGVSb3cuYXBwZW5kQ2hpbGQodGFibGVDZWxsKTtcbiAgICB9KTtcblxuICAgIHRhYmxlQm9keS5hcHBlbmRDaGlsZCh0YWJsZVJvdyk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzLXByZXZpZXcnKS5hcHBlbmRDaGlsZChpbnN0YW5jZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSB0aGUgZG93bmxvYWQgZmlsZSwgYW5kIGRvd25sb2FkIGl0IHRvIHRoZSB1c2VycyBicm93c2VyXG4gKlxuICogQHBhcmFtIHthcnJheX0gcmVzdWx0c1xuICpcbiAqIEByZXR1cm5zIHtudWxsfVxuICovXG52YXIgY3JlYXRlRG93bmxvYWQgPSBmdW5jdGlvbiBjcmVhdGVEb3dubG9hZChyZXN1bHRzKSB7XG4gIHZhciBjc3ZDb250ZW50ID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwnO1xuICB2YXIgaGVhZGVyQXJyID0gWydab25lIE5hbWUnLCAne2JsYW5rfScsICdPcmllbnRhdGlvbicsICdIZWlnaHQnLCAnV2lkdGgnLCAnUHJvamVjdGlvbicsICdIJywgJ1dpbmRvdyBUeXBlJywgJ0NlaWxpbmcgSGVpZ2h0JywgJ0VhdmUgT2Zmc2V0JywgJ1BlcmdvbGEgT2Zmc2V0JywgJ0xldmVsJ107XG4gIHZhciBoZWFkZXJSb3cgPSBoZWFkZXJBcnIuam9pbignLCcpO1xuICBjc3ZDb250ZW50ICs9IGhlYWRlclJvdyArICdcXG4nO1xuXG4gIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocm93QXJyYXkpIHtcbiAgICBpZiAocm93QXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHJvdyA9IHJvd0FycmF5LmpvaW4oJywnKTtcbiAgICAgIGNzdkNvbnRlbnQgKz0gcm93ICsgJ1xcbic7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZW5jb2RlZFVyaSA9IGVuY29kZVVSSShjc3ZDb250ZW50KTtcbiAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZW5jb2RlZFVyaSk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdnbGF6aW5nLmNzdicpO1xuICBsaW5rLmhpZGRlbiA9IHRydWU7XG4gIGxpbmsuaW5uZXJIVE1MID0gJ0NsaWNrIEhlcmUgdG8gZG93bmxvYWQnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOyAvLyBSZXF1aXJlZCBmb3IgRkZcblxuICBsaW5rLmNsaWNrKCk7XG59O1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZmlsZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVUb1VwbG9hZCcpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpO1xuXG4gIGZpbGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXZpZXctYnV0dG9uLWNvbnRhaW5lcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWxlLXNlbGVjdG9yLWxhYmVsJykuaW5uZXJUZXh0ID0gJ0Nob29zZSBkaWZmZXJlbnQgZmlsZS4uLic7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9jZXNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3J0aC1yZWZlcmVuY2UnKS52YWx1ZSA9PT0gJycpIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSByZWZlcmVuY2Ugbm9ydGggYXppbXV0aCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChmaWxlU2VsZWN0b3IuZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIHNjcmF0Y2ggZmlsZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaWxlID0gZmlsZVNlbGVjdG9yLmZpbGVzWzBdO1xuICAgIHZhciByZWZlcmVuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm9ydGgtcmVmZXJlbmNlJykudmFsdWU7XG5cbiAgICB3b3JrZXIucG9zdE1lc3NhZ2UoeyBmaWxlOiBmaWxlLCByZWZlcmVuY2U6IHJlZmVyZW5jZSB9KTtcblxuICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7XG5cbiAgICAgIGNyZWF0ZVByZXZpZXcoZGF0YS5yZXN1bHRzKTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3JlYXRlRG93bmxvYWQoZGF0YS5yZXN1bHRzKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIENsZWFyIHByZXZpZXcgcmVzdWx0cyB3aGVuIHRoZSBzY3JhdGNoIGZpbGUgY2hhbmdlc1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZVRvVXBsb2FkJykub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdHMtcHJldmlldycpLmlubmVySFRNTCA9ICcnO1xuICB9O1xufTtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLyoqXG4gKiBGbGF0dGVuIGFycmF5IDEgbGV2ZWxcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgQXJyeWEgdG8gZmxhdHRlblxuICpcbiAqIEByZXR1cm5zIHthcnJheX1cbiAqL1xudmFyIGZsYXR0ZW4gPSBleHBvcnRzLmZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuKGFycikge1xuICB2YXIgX0FycmF5JHByb3RvdHlwZTtcblxuICByZXR1cm4gKF9BcnJheSRwcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGUpLmNvbmNhdC5hcHBseShfQXJyYXkkcHJvdG90eXBlLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbl9fd2VicGFja19yZXF1aXJlX18oMyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbl9fd2VicGFja19yZXF1aXJlX18oOCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbl9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbl9fd2VicGFja19yZXF1aXJlX18oNCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNjcmlwdHMuMDlkY2EyNGExNmQwOGRmZTNlZjEuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE1KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAwOWRjYTI0YTE2ZDA4ZGZlM2VmMSIsIi8qKlxuICogQ2xhc3MgRmxvb3JDb25zdHJ1Y3Rpb25cbiAqL1xuY2xhc3MgRmxvb3JDb25zdHJ1Y3Rpb24ge1xuXG4gIHN0YXRpYyBDb25zdHJ1Y3Rpb25JZFJlZ2V4ID0gJygyNFsxLTldfDJbNS05XVxcXFxkfDNbMS0zXVxcXFxkfDM0MCknO1xuICBzdGF0aWMgUmVnZXggPSBgXiAyJHtGbG9vckNvbnN0cnVjdGlvbi5Db25zdHJ1Y3Rpb25JZFJlZ2V4fWA7XG4gIHN0YXRpYyBDU09HUmVnZXggPSAnXiAyKDI0WzEtOV18Mls1LTldXFxcXGR8M1sxLTNdXFxcXGR8MzQwKSAgICguezd9KSooIDE4IDEwMCknO1xuXG4gIGlkID0gJyc7XG4gIGlzQ3NvZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgICBjb25zdCBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLmlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5pc0Nzb2cgPSBGbG9vckNvbnN0cnVjdGlvbi5UZXN0Q3NvZyhsaW5lRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb25zdHJ1Y3Rpb24gaWQgdGhhdCB0aGlzIGZsb29yIGNvbnN0cnVjdGlvbiBiZWxvbmdzIHRvXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZS9mYWxzZSBpbmRpY2F0aW5nIGlmIHRoZSBmbG9vcmluZyB0eXBlIGluIHRoZSB6b25lIGlzIENTT0dcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXRJc0Nzb2coKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDc29nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgdGhlIGRhdGEgbGluZSB0byBzZWUgaWYgdGhlcmUgaXMgY29uY3JldGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgVGVzdENzb2cobGluZURhdGEpIHtcbiAgICBjb25zdCBjc29nUmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLkNTT0dSZWdleCk7XG4gICAgcmV0dXJuIGNzb2dSZWdleC50ZXN0KGxpbmVEYXRhKTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBGbG9vckNvbnN0cnVjdGlvbihkYXRhKTtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpLFxuICAgICAgaXNDc29nOiB0aGlzLmdldElzQ3NvZygpXG4gICAgfTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZsb29yQ29uc3RydWN0aW9uO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0Zsb29yQ29uc3RydWN0aW9uLmpzIiwiLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB3aW5kb3cgaW5mb3JtYXRpb24gaW5zaWRlIGEgem9uZSBzZWN0aW9uXG4gKi9cbmNsYXNzIFpvbmVXaW5kb3cge1xuXG4gIHN0YXRpYyBDT05TVF9fWk9ORV9JRCA9IDE7XG4gIHN0YXRpYyBDT05TVF9fV0lORE9XX0lEID0gMjtcbiAgc3RhdGljIENPTlNUX19IRUlHSFQgPSA2O1xuICBzdGF0aWMgQ09OU1RfX1dJRFRIID0gNztcbiAgc3RhdGljIENPTlNUX19BWklNVVRIID0gODtcbiAgc3RhdGljIENPTlNUX19IT1JaX1NIQURJTkdfMSA9IDk7XG4gIHN0YXRpYyBDT05TVF9fSE9SWl9TSEFESU5HXzIgPSAxMDtcblxuICBzdGF0aWMgUmVnZXggPSAnXiAzKC57M30pKCggKDEwKXwoICBbMC05XSkpKSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSc7XG5cbiAgem9uZUlkID0gJyc7XG4gIHdpbmRvd0lkID0gJyc7XG4gIGhlaWdodCA9ICcnO1xuICB3aWR0aCA9ICcnO1xuICBhemltdXRoID0gJyc7XG4gIGhlYWRIZWlnaHQgPSAnJzsgLy8gVGhpcyB2YWx1ZSBpc24ndCB1c2VkLCBqdXN0IGhlcmUgdG8gaXQgY2FuIGhvbGQgYW4gZW1wdHkgY2VsbCBpbiB0aGUgb3V0cHV0IENTVlxuICBob3JpelNoYWRpbmcxSWQgPSAnJztcbiAgaG9yaXpTaGFkaW5nMklkID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoWm9uZVdpbmRvdy5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1pPTkVfSURdLnRyaW0oKTtcbiAgICB0aGlzLndpbmRvd0lkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19XSU5ET1dfSURdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSEVJR0hUXS50cmltKCk7XG4gICAgdGhpcy53aWR0aCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lEVEhdLnRyaW0oKTtcbiAgICB0aGlzLmF6aW11dGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0FaSU1VVEhdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzFJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzFdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzJJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzJdLnRyaW0oKTtcbiAgfVxuXG4gIGdldFpvbmVJZCgpIHtcbiAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gIH1cblxuICBnZXRXaW5kb3dJZCgpIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3dJZDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgfVxuXG4gIGdldEF6aW11dGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXppbXV0aDtcbiAgfVxuXG4gIGdldEhlYWRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZEhlaWdodDtcbiAgfVxuXG4gIGdldEhvcml6U2hhZGluZzFJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3JpelNoYWRpbmcxSWQ7XG4gIH1cblxuICBnZXRIb3JpelNoYWRpbmcySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9yaXpTaGFkaW5nMklkO1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgIHdpbmRvd0lkOiB0aGlzLmdldFdpbmRvd0lkKCksXG4gICAgICBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCksXG4gICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgYXppbXV0aDogdGhpcy5nZXRBemltdXRoKCksXG4gICAgICBoZWFkSGVpZ2h0OiB0aGlzLmdldEhlYWRIZWlnaHQoKSxcbiAgICAgIGhvcml6U2hhZGluZzFJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcxSWQoKSxcbiAgICAgIGhvcml6U2hhZGluZzJJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcySWQoKVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgWm9uZVdpbmRvdyhkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIEhlYWQgSGVpZ2h0IG9mIGEgd2luZG93IGZyb20gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93IGFuZCB0aGUgZWF2ZSBvZmZzZXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHdpbmRvd0hlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVhdmVPZmZzZXQgICBUaGUgZWF2ZSBvZmZzZXQgb2YgdGhlIHdpbmRvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgc3RhdGljIEhlYWRIZWlnaHQod2luZG93SGVpZ2h0LCBlYXZlT2Zmc2V0KSB7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0RmxvYXQgPSB3aW5kb3dIZWlnaHQgPT09ICcnID8gMCA6IHBhcnNlRmxvYXQod2luZG93SGVpZ2h0KTtcbiAgICBjb25zdCBlYXZlT2Zmc2V0RmxvYXQgPSBlYXZlT2Zmc2V0ID09PSAnJyA/IDAgOiBwYXJzZUZsb2F0KGVhdmVPZmZzZXQpO1xuICAgIHJldHVybiAod2luZG93SGVpZ2h0RmxvYXQgKyBlYXZlT2Zmc2V0RmxvYXQpLnRvRml4ZWQoMikudG9TdHJpbmcoKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVXaW5kb3c7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvWm9uZVdpbmRvdy5qcyIsIi8qKlxuICogQ2xhc3MgQ2VpbGluZ0hlaWdodFxuICovXG5jbGFzcyBDZWlsaW5nSGVpZ2h0IHtcblxuICBzdGF0aWMgUmVnZXggPSAnXiAzKC57M30pNzAwKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJztcblxuICB6b25lSWQgPSAnJztcbiAgaGVpZ2h0ID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoQ2VpbGluZ0hlaWdodC5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbM10udHJpbSgpO1xuICB9XG5cbiAgZ2V0Wm9uZUlkKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgem9uZUlkOiB0aGlzLmdldFpvbmVJZCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBDZWlsaW5nSGVpZ2h0KGRhdGEpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2VpbGluZ0hlaWdodDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9DZWlsaW5nSGVpZ2h0LmpzIiwiLyoqXG4gKiBCcmVhayB0aGUgSG9yaXpvbnRhbCBTaGFkaW5nIFNjaGVtZSBkYXRhIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xuY2xhc3MgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUge1xuXG4gIC8qKlxuICAgKiBDb25zdGFudHMgdGhhdCBtYXAgdGhlIHZhcmlvdXMgYml0cyBvZiBkYXRhIHRvIHRoZSBzZWN0aW9uIG9mIHJlZ2V4XG4gICAqL1xuICBzdGF0aWMgQ09OU1RfX0lEID0gMTtcbiAgc3RhdGljIENPTlNUX19FQVZFX1BST0pFQ1RJT04gPSAyO1xuICBzdGF0aWMgQ09OU1RfX0VBVkVfT0ZGU0VUID0gMztcbiAgc3RhdGljIENPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04gPSA2O1xuICBzdGF0aWMgQ09OU1RfX1BFUkdPTEFfT0ZGU0VUID0gNztcblxuICBzdGF0aWMgUmVnZXggPSAnXiAxIDIwKC57M30pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJCc7XG5cbiAgaWQgPSAnJztcbiAgZWF2ZVByb2plY3Rpb24gPSAnJztcbiAgZWF2ZU9mZnNldCA9ICcnO1xuICBwZXJnb2xhUHJvamVjdGlvbiA9ICcnO1xuICBwZXJnb2xhT2Zmc2V0ID0gJyc7XG4gIHByb2plY3Rpb24gPSAnJztcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0lEXS50cmltKCk7XG4gICAgdGhpcy5lYXZlUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wZXJnb2xhUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBoaWdoZXN0IHByb2plY3Rpb24gdmFsdWUgYW5kIHJldHVyblxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmdldEVhdmVQcm9qZWN0aW9uKCkpID4gcGFyc2VGbG9hdCh0aGlzLmdldFBlcmdvbGFQcm9qZWN0aW9uKCkpID9cbiAgICAgIHRoaXMuZ2V0RWF2ZVByb2plY3Rpb24oKSA6XG4gICAgICB0aGlzLmdldFBlcmdvbGFQcm9qZWN0aW9uKCk7XG5cbiAgICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuUm91bmRWYWx1ZShwcm9qZWN0aW9uKTtcbiAgfVxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG5cbiAgZ2V0RWF2ZU9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5lYXZlT2Zmc2V0O1xuICB9XG5cbiAgZ2V0RWF2ZVByb2plY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWF2ZVByb2plY3Rpb247XG4gIH1cblxuICBnZXRQZXJnb2xhT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLnBlcmdvbGFPZmZzZXQ7XG4gIH1cblxuICBnZXRQZXJnb2xhUHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wZXJnb2xhUHJvamVjdGlvbjtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgcHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKCksXG4gICAgICBvZmZzZXQ6IHtcbiAgICAgICAgZWF2ZTogdGhpcy5nZXRFYXZlT2Zmc2V0KCksXG4gICAgICAgIHBlcmdvbGE6IHRoaXMuZ2V0UGVyZ29sYU9mZnNldCgpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZShkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3VuZCB0aGUgcHJvdmlkZWQgdmFsdWUgKHByb2plY3Rpb24pIHRvIHRoZSBuZWFyZXN0IDAuMDVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byByb3VuZFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIFJvdW5kVmFsdWUodmFsdWUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNDEzNjAyLzE1NjA1OTNcbiAgICByZXR1cm4gKE1hdGgucm91bmQodmFsdWUgKiAyMCkgLyAyMCkudG9GaXhlZCgyKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0hvcml6b250YWxTaGFkaW5nU2NoZW1lLmpzIiwiLyoqXG4gKiBCcmVhayBhIFdpbmRvdyBjb25zdHJ1Y3Rpb24gZGF0YSBsaW5lIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xuY2xhc3MgV2luZG93Q29uc3RydWN0aW9uIHtcblxuICBzdGF0aWMgQ09OU1RfX0lEID0gMztcbiAgc3RhdGljIENPTlNUX19OQU1FID0gJyc7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ14gXFxcXGQoLnszfSlbIFxcXFxkXSooW2EtekEtWl1bYS16QS1aXFxcXC1cXFxcZF17OX1bIGEtekEtWl1bYS16QS1aXT8pJztcblxuICBpZCA9ICcnO1xuICBuYW1lID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoV2luZG93Q29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgICBjb25zdCBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLmlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5uYW1lID0gZGF0YVsyXS50cmltKCk7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIEJ1aWxkKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFdpbmRvd0NvbnN0cnVjdGlvbihkYXRhKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpbmRvd0NvbnN0cnVjdGlvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9XaW5kb3dDb25zdHJ1Y3Rpb24uanMiLCIvKipcbiAqIENsYXNzIFpvbmVEZXRhaWxcbiAqL1xuY2xhc3MgWm9uZURldGFpbCB7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ15DIFowMD8oXFxcXGR7MSwzfSkgPT4gKC4qKSQnO1xuXG4gIGlkID0gJyc7XG4gIG5hbWUgPSAnJztcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lRGV0YWlsLlJlZ2V4KTtcbiAgICBjb25zdCBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLmlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5uYW1lID0gZGF0YVsyXS50cmltKCk7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgbmFtZTogdGhpcy5nZXROYW1lKClcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIEJ1aWxkKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFpvbmVEZXRhaWwoZGF0YSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBab25lRGV0YWlsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1pvbmVEZXRhaWwuanMiLCJpbXBvcnQgRmxvb3JDb25zdHJ1Y3Rpb24gZnJvbSAnLi9GbG9vckNvbnN0cnVjdGlvbic7XG4vKipcbiAqIENsYXNzIFpvbmVGbG9vclxuICovXG5jbGFzcyBab25lRmxvb3Ige1xuXG4gIHN0YXRpYyBSZWdleCA9IGAgMyguLi4pKCR7Rmxvb3JDb25zdHJ1Y3Rpb24uQ29uc3RydWN0aW9uSWRSZWdleH0pYDtcblxuICB6b25lSWQgPSAnJztcbiAgY29uc3RydWN0aW9uSWQgPSAnJztcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lRmxvb3IuUmVnZXgpO1xuICAgIGNvbnN0IGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5jb25zdHJ1Y3Rpb25JZCA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgZ2V0Wm9uZUlkKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgfVxuXG4gIGdldENvbnN0cnVjdGlvbklkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGlvbklkO1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgIGNvbnN0cnVjdGlvbklkOiB0aGlzLmdldENvbnN0cnVjdGlvbklkKClcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIEJ1aWxkKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFpvbmVGbG9vcihkYXRhKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVGbG9vcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9ab25lRmxvb3IuanMiLCIvKipcbiAqIENsYXNzIEdyb3VuZEZsb29yXG4gKi9cbmNsYXNzIEdyb3VuZEZsb29yIHtcblxuICAvKipcbiAgICogVGVzdCBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGZsb29ycyBoYXZlIGEgQ1NPRyBjb25zdHJ1Y3Rpb24sIGluZGljYXRpbmcgdGhlIHpvbmUgaXMgbGlrZWx5IG9uIHRoZSBncm91bmQgZmxvb3JcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gZmxvb3JzIFRoZSBmbG9vcnMgdG8gY2hlY2sgZm9yIENTT0dcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgVGVzdChmbG9vcnMpIHtcbiAgICByZXR1cm4gZmxvb3JzLmZpbHRlcihmbG9vciA9PiBmbG9vci5pc0Nzb2cpLmxlbmd0aCA+IDA7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91bmRGbG9vcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9Hcm91bmRGbG9vci5qcyIsIi8qKlxuICogQ2xhc3MgT3JpZW50YXRpb25cbiAqL1xuY2xhc3MgT3JpZW50YXRpb24ge1xuXG4gIHN0YXRpYyBDT05TVF9fTiA9IHsgbG93ZXI6IDIyLCB1cHBlcjogMzM4IH07XG4gIHN0YXRpYyBDT05TVF9fTl9FID0geyBsb3dlcjogMjMsIHVwcGVyOiA2NyB9O1xuICBzdGF0aWMgQ09OU1RfX0UgPSB7IGxvd2VyOiA2OCwgdXBwZXI6IDExMiB9O1xuICBzdGF0aWMgQ09OU1RfX1NfRSA9IHsgbG93ZXI6IDExMywgdXBwZXI6IDE1NyB9O1xuICBzdGF0aWMgQ09OU1RfX1MgPSB7IGxvd2VyOiAxNTgsIHVwcGVyOiAyMDIgfTtcbiAgc3RhdGljIENPTlNUX19TX1cgPSB7IGxvd2VyOiAyMDMsIHVwcGVyOiAyNDcgfTtcbiAgc3RhdGljIENPTlNUX19XID0geyBsb3dlcjogMjQ4LCB1cHBlcjogMjkyIH07XG4gIHN0YXRpYyBDT05TVF9fTl9XID0geyBsb3dlcjogMjkzLCB1cHBlcjogMzM3IH07XG5cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYXppbXV0aFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXppbXV0aCAgIEF6aW11dGggdmFsdWUgYmVpbmcgY2hhbmdlZCB0byBvcmllbnRhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFJlZmVyZW5jZSBhemltdXRoIGZvciBOb3J0aFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgR2V0KGF6aW11dGgsIHJlZmVyZW5jZSkge1xuICAgIGNvbnN0IGF6aW11dGhJbnQgPSBwYXJzZUludChhemltdXRoLCAxMCk7XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9FKSkge1xuICAgICAgcmV0dXJuICdORSc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX0UpKSB7XG4gICAgICByZXR1cm4gJ0UnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TX0UpKSB7XG4gICAgICByZXR1cm4gJ1NFJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fUykpIHtcbiAgICAgIHJldHVybiAnUyc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1NfVykpIHtcbiAgICAgIHJldHVybiAnU1cnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19XKSkge1xuICAgICAgcmV0dXJuICdXJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9XKSkge1xuICAgICAgcmV0dXJuICdOVyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdOJztcbiAgfVxuXG4gIHN0YXRpYyBJcyhhemltdXRoLCByZWZlcmVuY2UsIGxpbWl0cykge1xuICAgIGNvbnN0IHZlY3RvciA9IHtcbiAgICAgIHVwcGVyOiBPcmllbnRhdGlvbi5Ob3JtYWxpemUocGFyc2VJbnQocmVmZXJlbmNlLCAxMCkgKyBsaW1pdHMudXBwZXIpLFxuICAgICAgbG93ZXI6IE9yaWVudGF0aW9uLk5vcm1hbGl6ZShwYXJzZUludChyZWZlcmVuY2UsIDEwKSArIGxpbWl0cy5sb3dlcilcbiAgICB9O1xuXG4gICAgcmV0dXJuIChhemltdXRoID49IHZlY3Rvci5sb3dlciAmJiBhemltdXRoIDw9IHZlY3Rvci51cHBlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgYSB2YWx1ZSB0byBiZSB3aXRoaW4gdGhlIDAtMzYwIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7aW50fSBudW1iZXJcbiAgICpcbiAgICogQHJldHVybnMge2ludH1cbiAgICovXG4gIHN0YXRpYyBOb3JtYWxpemUobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgIHJldHVybiAzNjAgLSBNYXRoLmFicyhudW1iZXIpO1xuICAgIH1cblxuICAgIGlmIChudW1iZXIgPiAzNjApIHtcbiAgICAgIHJldHVybiAobnVtYmVyIC0gMzYwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JpZW50YXRpb247XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvT3JpZW50YXRpb24uanMiLCJpbXBvcnQgQ2VpbGluZ0hlaWdodCBmcm9tICcuL0NlaWxpbmdIZWlnaHQnO1xuaW1wb3J0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lIGZyb20gJy4vSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnO1xuaW1wb3J0IExvb2tzTGlrZSBmcm9tICcuL3V0aWxzL0xvb2tzTGlrZSc7XG5pbXBvcnQgV2luZG93Q29uc3RydWN0aW9uIGZyb20gJy4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgWm9uZURldGFpbCBmcm9tICcuL1pvbmVEZXRhaWwnO1xuaW1wb3J0IEZsb29yQ29uc3RydWN0aW9uIGZyb20gJy4vRmxvb3JDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVGbG9vciBmcm9tICcuL1pvbmVGbG9vcic7XG5cbi8qKlxuICogQ2xhc3MgU2NyYXRjaEZpbGVMaW5lXG4gKi9cbmNsYXNzIFNjcmF0Y2hGaWxlTGluZSB7XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgZGF0YSBsaW5lIGludG8gdGhlIGFwcHJvcHJpYXRlIGNsYXNzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSBwYXJzZWRcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIGlmIChMb29rc0xpa2UuU2hhZGluZ1NjaGVtZShkYXRhKSkge1xuICAgICAgcmV0dXJuIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuQ2VpbGluZ0hlaWdodChkYXRhKSkge1xuICAgICAgcmV0dXJuIENlaWxpbmdIZWlnaHQuQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5XaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiBXaW5kb3dDb25zdHJ1Y3Rpb24uQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5ab25lV2luZG93KGRhdGEpKSB7XG4gICAgICByZXR1cm4gWm9uZVdpbmRvdy5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVEZXRhaWwoZGF0YSkpIHtcbiAgICAgIHJldHVybiBab25lRGV0YWlsLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiBGbG9vckNvbnN0cnVjdGlvbi5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVGbG9vcihkYXRhKSkge1xuICAgICAgcmV0dXJuIFpvbmVGbG9vci5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JhdGNoRmlsZUxpbmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvU2NyYXRjaEZpbGVMaW5lLmpzIiwiaW1wb3J0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lIGZyb20gJy4uL0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbmltcG9ydCBXaW5kb3dDb25zdHJ1Y3Rpb24gZnJvbSAnLi4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4uL1pvbmVXaW5kb3cnO1xuaW1wb3J0IENlaWxpbmdIZWlnaHQgZnJvbSAnLi4vQ2VpbGluZ0hlaWdodCc7XG5pbXBvcnQgWm9uZURldGFpbCBmcm9tICcuLi9ab25lRGV0YWlsJztcbmltcG9ydCBGbG9vckNvbnN0cnVjdGlvbiBmcm9tICcuLi9GbG9vckNvbnN0cnVjdGlvbic7XG5pbXBvcnQgWm9uZUZsb29yIGZyb20gXCIuLi9ab25lRmxvb3JcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbXBhcmUgYSBkYXRhIHN0cmluZyBhbmQgaW5kaWNhdGUgd2hhdCB0eXBlIG9mIGRhdGEgaXQgbG9va3MgbGlrZVxuICovXG5jbGFzcyBMb29rc0xpa2Uge1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGhvcml6b250YWwgc2hhZGluZyBzY2hlbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSB3aW5kb3cgY29uc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBXaW5kb3dDb25zdHJ1Y3Rpb24uUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSB3aW5kb3dcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBab25lV2luZG93KGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBab25lV2luZG93LlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGNlaWxpbmcgaGVpZ2h0IGxpbmVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBDZWlsaW5nSGVpZ2h0KGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBDZWlsaW5nSGVpZ2h0LlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZGV0YWlsIGxpbmVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBab25lRGV0YWlsLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGZsb29yIGNvbnN0cnVjdGlvbiBsaW5lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgRmxvb3JDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIEZsb29yQ29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZmxvb3IgbGluZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFpvbmVGbG9vcihsaW5lRGF0YSkge1xuICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgWm9uZUZsb29yLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIHJlZ2V4IHRlc3QgYWdhaW5zdCB0aGUgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAgVGhlIGRhdGEgdG8gdGVzdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnZXggVGhlIHJlZ2V4IHBhdHRlcm4gdG8gdGVzdCB3aXRoXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFRlc3QoZGF0YSwgcmVnZXgpIHtcbiAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4KTtcbiAgICByZXR1cm4gcmVnZXhwLnRlc3QoZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoYXQgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgUmV2ZXJzZUxvb2t1cChkYXRhKSB7XG4gICAgaWYgKExvb2tzTGlrZS5TaGFkaW5nU2NoZW1lKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLkNlaWxpbmdIZWlnaHQoZGF0YSkpIHtcbiAgICAgIHJldHVybiAnQ2VpbGluZ0hlaWdodCc7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5XaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiAnV2luZG93Q29uc3RydWN0aW9uJztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVXaW5kb3coZGF0YSkpIHtcbiAgICAgIHJldHVybiAnWm9uZVdpbmRvdyc7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5ab25lRGV0YWlsKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ1pvbmVEZXRhaWwnO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiAnRmxvb3JDb25zdHJ1Y3Rpb24nO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuWm9uZUZsb29yKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ1pvbmVGbG9vcic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9va3NMaWtlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL0xvb2tzTGlrZS5qcyIsIi8qKlxuICogQSBjbGFzcyB0byBoYW5kbGUgcGFyc2luZyBhbiBlbnRpcmUgc2NyYXRjaCBmaWxlXG4gKi9cbmltcG9ydCBTY3JhdGNoRmlsZUxpbmUgZnJvbSAnLi9TY3JhdGNoRmlsZUxpbmUnO1xuaW1wb3J0IExvb2tzTGlrZSBmcm9tICcuL3V0aWxzL0xvb2tzTGlrZSc7XG5pbXBvcnQgV2luZG93Q29uc3RydWN0aW9uIGZyb20gJy4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgZnJvbSAnLi9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSc7XG5pbXBvcnQgQ2VpbGluZ0hlaWdodCBmcm9tICcuL0NlaWxpbmdIZWlnaHQnO1xuaW1wb3J0IFpvbmVEZXRhaWwgZnJvbSAnLi9ab25lRGV0YWlsJztcbmltcG9ydCBGbG9vckNvbnN0cnVjdGlvbiBmcm9tICcuL0Zsb29yQ29uc3RydWN0aW9uJztcbmltcG9ydCBab25lRmxvb3IgZnJvbSAnLi9ab25lRmxvb3InO1xuXG5jbGFzcyBQYXJzZXIge1xuXG4gIHdpbmRvd0NvbnN0cnVjdGlvbnMgPSBbXTtcbiAgem9uZVdpbmRvd3MgPSBbXTtcbiAgem9uZURldGFpbHMgPSBbXTtcbiAgc2hhZGluZ1NjaGVtZXMgPSBbXTtcbiAgY2VpbGluZ0hlaWdodHMgPSBbXTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gZmlsZSBBIHNjcmF0Y2hmaWxlIGFycmF5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihmaWxlKSB7XG4gICAgdGhpcy5maWxlID0gZmlsZTtcbiAgfVxuXG4gIHByb2Nlc3MoKSB7XG4gICAgY29uc3QgZGF0YUxpbmVzID0gdGhpcy5nZXREYXRhTGluZXMoKTtcblxuICAgIC8vIEZpbHRlciB0aGUgYXJyYXlzIHRvIG9ubHkgaW5jbHVkZSB0aGUgcmVsYXRlZCBkYXRhLCB0aGVuIGJ1aWxkIHRoZSBkYXRhIGxpbmUgaW50byB0aGUgYXBwcm9wcmlhdGUgY2xhc3NcbiAgICB0aGlzLndpbmRvd0NvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1dpbmRvd0NvbnN0cnVjdGlvbicpXG4gICAgICAubWFwKHdpbmRvdyA9PiBXaW5kb3dDb25zdHJ1Y3Rpb24uQnVpbGQod2luZG93KSk7XG5cbiAgICB0aGlzLnpvbmVXaW5kb3dzID0gZGF0YUxpbmVzXG4gICAgICAuZmlsdGVyKGxpbmUgPT4gTG9va3NMaWtlLlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lV2luZG93JylcbiAgICAgIC5tYXAoem9uZVdpbmRvdyA9PiBab25lV2luZG93LkJ1aWxkKHpvbmVXaW5kb3cpKTtcblxuICAgIHRoaXMuc2hhZGluZ1NjaGVtZXMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJylcbiAgICAgIC5tYXAoc2hhZGluZyA9PiBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5CdWlsZChzaGFkaW5nKSk7XG5cbiAgICB0aGlzLmNlaWxpbmdIZWlnaHRzID0gZGF0YUxpbmVzXG4gICAgICAuZmlsdGVyKGxpbmUgPT4gTG9va3NMaWtlLlJldmVyc2VMb29rdXAobGluZSkgPT09ICdDZWlsaW5nSGVpZ2h0JylcbiAgICAgIC5tYXAoY2VpbGluZ0hlaWdodCA9PiBDZWlsaW5nSGVpZ2h0LkJ1aWxkKGNlaWxpbmdIZWlnaHQpKTtcblxuICAgIHRoaXMuem9uZURldGFpbHMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVEZXRhaWwnKVxuICAgICAgLm1hcCh6b25lRGV0YWlsID0+IFpvbmVEZXRhaWwuQnVpbGQoem9uZURldGFpbCkpO1xuXG4gICAgdGhpcy5mbG9vckNvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0Zsb29yQ29uc3RydWN0aW9uJylcbiAgICAgIC5tYXAoZmxvb3JDb25zdHJ1Y3Rpb24gPT4gRmxvb3JDb25zdHJ1Y3Rpb24uQnVpbGQoZmxvb3JDb25zdHJ1Y3Rpb24pKTtcblxuICAgIHRoaXMuem9uZUZsb29ycyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZUZsb29yJylcbiAgICAgIC5tYXAoem9uZUZsb29yID0+IFpvbmVGbG9vci5CdWlsZCh6b25lRmxvb3IpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmVzIG9mIGRhdGEgdGhhdCBtYXRjaCBhIHR5cGUgd2UncmUgaW50ZXJlc3RlZCBpblxuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqL1xuICBnZXREYXRhTGluZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsZS5maWx0ZXIobGluZSA9PiBTY3JhdGNoRmlsZUxpbmUuQnVpbGQobGluZSkgIT09IGZhbHNlKTtcbiAgfVxuXG4gIGdldFdpbmRvd0NvbnN0cnVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMud2luZG93Q29uc3RydWN0aW9ucztcbiAgfVxuXG4gIGdldFpvbmVXaW5kb3dzKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVXaW5kb3dzO1xuICB9XG5cbiAgZ2V0U2hhZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkaW5nU2NoZW1lcztcbiAgfVxuXG4gIGdldENlaWxpbmdIZWlnaHRzKCkge1xuICAgIHJldHVybiB0aGlzLmNlaWxpbmdIZWlnaHRzO1xuICB9XG5cbiAgZ2V0Wm9uZURldGFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuem9uZURldGFpbHM7XG4gIH1cblxuICBnZXRGbG9vckNvbnN0cnVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxvb3JDb25zdHJ1Y3Rpb25zO1xuICB9XG5cbiAgZ2V0Wm9uZUZsb29ycygpIHtcbiAgICByZXR1cm4gdGhpcy56b25lRmxvb3JzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgZGF0YSBpbiBhbiBvYmplY3QgdGhhdCBjYW4gYmUgZGVjb25zdHJ1Y3RlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0QWxsRGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2luZG93Q29uc3RydWN0aW9uczogdGhpcy5nZXRXaW5kb3dDb25zdHJ1Y3Rpb25zKCksXG4gICAgICB6b25lV2luZG93czogdGhpcy5nZXRab25lV2luZG93cygpLFxuICAgICAgc2hhZGluZzogdGhpcy5nZXRTaGFkaW5nKCksXG4gICAgICBjZWlsaW5nSGVpZ2h0czogdGhpcy5nZXRDZWlsaW5nSGVpZ2h0cygpLFxuICAgICAgem9uZURldGFpbHM6IHRoaXMuZ2V0Wm9uZURldGFpbHMoKSxcbiAgICAgIGZsb29yQ29uc3RydWN0aW9uczogdGhpcy5nZXRGbG9vckNvbnN0cnVjdGlvbnMoKSxcbiAgICAgIHpvbmVGbG9vcnM6IHRoaXMuZ2V0Wm9uZUZsb29ycygpXG4gICAgfTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhcnNlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9QYXJzZXIuanMiLCJpbXBvcnQgT3JpZW50YXRpb24gZnJvbSAnLi9PcmllbnRhdGlvbic7XG5pbXBvcnQgR3JvdW5kRmxvb3IgZnJvbSAnLi9Hcm91bmRGbG9vcic7XG5pbXBvcnQgWm9uZVdpbmRvdyBmcm9tICcuL1pvbmVXaW5kb3cnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbHMnO1xuLyoqXG4gKiBDbGFzcyBSZXN1bHRzQnVpbGRlclxuICpcbiAqIFRoaXMgY2xhc3Mgd2lsbCB0YWtlIHZhcmlvdXMgYXJyYXlzIG9mIGRhdGEgbGluZXMsIGJ1aWxkIHRoZW0gaW50byB0aGVpciBhcHByb3ByaWF0ZSBjbGFzc2VzLFxuICogbGluayB0aGVtIHRocm91Z2ggdmFyaW91cyBJRCdzLCBhbmQgdGhlbiBjcmVhdGUgbXVsdGlwbGUgb3V0cHV0IGxpbmVzXG4gKi9cblxuY2xhc3MgUmVzdWx0c0J1aWxkZXIge1xuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSB2YXJpb3VzIGFycmF5cyBpbnRvIGEgc2luZ2xlIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IHdpbmRvd0NvbnN0cnVjdGlvbnNcbiAgICogQHBhcmFtIHthcnJheX0gem9uZVdpbmRvd3NcbiAgICogQHBhcmFtIHthcnJheX0gc2hhZGluZ1xuICAgKiBAcGFyYW0ge2FycmF5fSBjZWlsaW5nSGVpZ2h0c1xuICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRGV0YWlsc1xuICAgKiBAcGFyYW0ge2FycmF5fSBmbG9vckNvbnN0cnVjdGlvbnNcbiAgICogQHBhcmFtIHthcnJheX0gem9uZUZsb29yc1xuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgc3RhdGljIENvbXBpbGUoe1xuICAgIHdpbmRvd0NvbnN0cnVjdGlvbnMsIHpvbmVXaW5kb3dzLCBzaGFkaW5nLCBjZWlsaW5nSGVpZ2h0cywgem9uZURldGFpbHMsIGZsb29yQ29uc3RydWN0aW9ucywgem9uZUZsb29yc1xuICB9KSB7XG4gICAgcmV0dXJuIHpvbmVEZXRhaWxzLm1hcCgoem9uZSkgPT4ge1xuICAgICAgLy8gRmlsdGVyIHRoZSB6b25lIHdpbmRvd3MgZm9yIG9ubHkgd2luZG93cyBpbiB0aGlzIHpvbmUsIGFuZCB0aGVuIG1hcCB0aGUgd2luZG93IGNvbnN0cnVjdGlvbiwgc2hhZGluZyBhbmQgY2VpbGluZyBoZWlnaHQgZGV0YWlsc1xuICAgICAgY29uc3Qgd2luZG93cyA9IHpvbmVXaW5kb3dzLmZpbHRlcih3aW5kb3cgPT4gd2luZG93LnpvbmVJZCA9PT0gem9uZS5pZCkubWFwKCh6b25lV2luZG93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IHdpbmRvd0NvbnN0cnVjdGlvbnMuZmlsdGVyKGNvbnMgPT4gY29ucy5pZCA9PT0gem9uZVdpbmRvdy5nZXRXaW5kb3dJZCgpKVswXTtcbiAgICAgICAgY29uc3Qgc2hhZGluZ1NjaGVtZSA9IHNoYWRpbmcuZmlsdGVyKHNoYWRlID0+IHNoYWRlLmdldElkKCkgPT09IHpvbmVXaW5kb3cuZ2V0SG9yaXpTaGFkaW5nMUlkKCkgfHwgc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcySWQoKSk7XG4gICAgICAgIGNvbnN0IGNlaWxpbmdIZWlnaHQgPSBjZWlsaW5nSGVpZ2h0cy5maWx0ZXIoY2VpbGluZyA9PiBjZWlsaW5nLmdldFpvbmVJZCgpID09PSB6b25lLmdldElkKCkpWzBdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uem9uZVdpbmRvdyxcbiAgICAgICAgICBjb25zdHJ1Y3Rpb24sXG4gICAgICAgICAgc2hhZGluZzogc2hhZGluZ1NjaGVtZSxcbiAgICAgICAgICBjZWlsaW5nSGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmxvb3JzID0gem9uZUZsb29ycy5maWx0ZXIoem9uZUZsb29yID0+IHpvbmVGbG9vci56b25lSWQgPT09IHpvbmUuaWQpLm1hcCgoem9uZUZsb29yKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGZsb29yQ29uc3RydWN0aW9ucy5maWx0ZXIoZmxvb3JDb24gPT4gZmxvb3JDb24uaWQgPT09IHpvbmVGbG9vci5jb25zdHJ1Y3Rpb25JZClbMF07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi56b25lRmxvb3IsXG4gICAgICAgICAgLi4uY29uc3RydWN0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHpvbmUuZ2V0SWQoKSxcbiAgICAgICAgbmFtZTogem9uZS5nZXROYW1lKCksXG4gICAgICAgIHdpbmRvd3MsXG4gICAgICAgIG9uR3JvdW5kRmxvb3I6IEdyb3VuZEZsb29yLlRlc3QoZmxvb3JzKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCB0aGUgem9uZXMgYXJyYXkgaW50byBhIGZsYXR0IGFycmF5IHJlYWR5IGZvciBjb252ZXJzaW9uIHRvIENTVlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSAgem9uZXMgICAgIFRoZSB6b25lcyBhcnJheSBjcmVhdGVkIGluIFJlc3VsdHNCdWlsZGVyLkNvbXBpbGUoKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFtPcHRpb25hbF0gUmVmZXJlbmNlIE5vcnRoIGF6aW11dGguIERlZmF1bHQgMFxuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqL1xuICBzdGF0aWMgQnVpbGQoem9uZXMsIHJlZmVyZW5jZSA9IDApIHtcbiAgICBjb25zdCBjc3YgPSB6b25lcy5tYXAoKHpvbmUpID0+IHtcbiAgICAgIGNvbnN0IHdpbmRvd0NzdiA9IHpvbmUud2luZG93cy5tYXAoKHdpbmRvdykgPT4ge1xuICAgICAgICBsZXQgcHJvamVjdGlvbiA9ICcnO1xuICAgICAgICBsZXQgZWF2ZU9mZnNldCA9ICcnO1xuICAgICAgICBsZXQgcGVyZ29sYU9mZnNldCA9ICcnO1xuICAgICAgICBpZiAod2luZG93LnNoYWRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHByb2plY3Rpb24gPSB3aW5kb3cuc2hhZGluZ1swXS5wcm9qZWN0aW9uO1xuICAgICAgICAgIGVhdmVPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5lYXZlT2Zmc2V0O1xuICAgICAgICAgIHBlcmdvbGFPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5wZXJnb2xhT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB6b25lLm5hbWUsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgT3JpZW50YXRpb24uR2V0KHdpbmRvdy5hemltdXRoLCByZWZlcmVuY2UpLFxuICAgICAgICAgIHdpbmRvdy5oZWlnaHQsXG4gICAgICAgICAgd2luZG93LndpZHRoLFxuICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgWm9uZVdpbmRvdy5IZWFkSGVpZ2h0KHdpbmRvdy5oZWlnaHQsIGVhdmVPZmZzZXQpLFxuICAgICAgICAgIHdpbmRvdy5jb25zdHJ1Y3Rpb24ubmFtZSxcbiAgICAgICAgICB3aW5kb3cuY2VpbGluZ0hlaWdodC5oZWlnaHQsXG4gICAgICAgICAgZWF2ZU9mZnNldCxcbiAgICAgICAgICBwZXJnb2xhT2Zmc2V0LFxuICAgICAgICAgIHpvbmUub25Hcm91bmRGbG9vciA/ICcwJyA6ICcnXG4gICAgICAgIF07XG4gICAgICB9KTtcblxuICAgICAgLy8gQW4gZW1wdHkgd2luZG93Q3N2IG5lZWRzIHRvIGJlIHJldHVybmVkIGluc2lkZSBhbiBhcnJheSBpdHNlbGYsIGluIG9yZGVyIHRvIHdvcmsgd2l0aCB0aGUgZmxhdHRlbiBmdW5jdGlvblxuICAgICAgcmV0dXJuIHdpbmRvd0Nzdi5sZW5ndGggPiAwID8gd2luZG93Q3N2IDogW3dpbmRvd0Nzdl07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhdHRlbihjc3YpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzdWx0c0J1aWxkZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvUmVzdWx0c0J1aWxkZXIuanMiLCJjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKCdqcy93b3JrZXIuW1t3b3JrZXJIYXNoXV0uanMnKTtcblxuY29uc3QgY3JlYXRlUHJldmlldyA9IChyZXN1bHRzKSA9PiB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHMtcHJldmlldy10ZW1wbGF0ZScpO1xuICBjb25zdCBpbnN0YW5jZSA9IGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XG5cbiAgY29uc3QgdGFibGVCb2R5ID0gaW5zdGFuY2UucXVlcnlTZWxlY3RvcigndGJvZHknKTtcblxuICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IHRhYmxlUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByZXN1bHQuZm9yRWFjaCgocmVzKSA9PiB7XG4gICAgICBjb25zdCB0YWJsZUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdGFibGVDZWxsLmlubmVyVGV4dCA9IHJlcztcbiAgICAgIHRhYmxlUm93LmFwcGVuZENoaWxkKHRhYmxlQ2VsbCk7XG4gICAgfSk7XG5cbiAgICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQodGFibGVSb3cpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0cy1wcmV2aWV3JykuYXBwZW5kQ2hpbGQoaW5zdGFuY2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIGRvd25sb2FkIGZpbGUsIGFuZCBkb3dubG9hZCBpdCB0byB0aGUgdXNlcnMgYnJvd3NlclxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdHNcbiAqXG4gKiBAcmV0dXJucyB7bnVsbH1cbiAqL1xuY29uc3QgY3JlYXRlRG93bmxvYWQgPSAocmVzdWx0cykgPT4ge1xuICBsZXQgY3N2Q29udGVudCA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsJztcbiAgY29uc3QgaGVhZGVyQXJyID0gW1xuICAgICdab25lIE5hbWUnLFxuICAgICd7Ymxhbmt9JyxcbiAgICAnT3JpZW50YXRpb24nLFxuICAgICdIZWlnaHQnLFxuICAgICdXaWR0aCcsXG4gICAgJ1Byb2plY3Rpb24nLFxuICAgICdIJyxcbiAgICAnV2luZG93IFR5cGUnLFxuICAgICdDZWlsaW5nIEhlaWdodCcsXG4gICAgJ0VhdmUgT2Zmc2V0JyxcbiAgICAnUGVyZ29sYSBPZmZzZXQnLFxuICAgICdMZXZlbCdcbiAgXTtcbiAgY29uc3QgaGVhZGVyUm93ID0gaGVhZGVyQXJyLmpvaW4oJywnKTtcbiAgY3N2Q29udGVudCArPSBgJHtoZWFkZXJSb3d9XFxuYDtcblxuICByZXN1bHRzLmZvckVhY2goKHJvd0FycmF5KSA9PiB7XG4gICAgaWYgKHJvd0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJvdyA9IHJvd0FycmF5LmpvaW4oJywnKTtcbiAgICAgIGNzdkNvbnRlbnQgKz0gYCR7cm93fVxcbmA7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBlbmNvZGVkVXJpID0gZW5jb2RlVVJJKGNzdkNvbnRlbnQpO1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGVuY29kZWRVcmkpO1xuICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnZ2xhemluZy5jc3YnKTtcbiAgbGluay5oaWRkZW4gPSB0cnVlO1xuICBsaW5rLmlubmVySFRNTCA9ICdDbGljayBIZXJlIHRvIGRvd25sb2FkJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsgLy8gUmVxdWlyZWQgZm9yIEZGXG5cbiAgbGluay5jbGljaygpO1xufTtcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgY29uc3QgZmlsZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVUb1VwbG9hZCcpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpO1xuXG4gIGZpbGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXZpZXctYnV0dG9uLWNvbnRhaW5lcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWxlLXNlbGVjdG9yLWxhYmVsJykuaW5uZXJUZXh0ID0gJ0Nob29zZSBkaWZmZXJlbnQgZmlsZS4uLic7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9jZXNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3J0aC1yZWZlcmVuY2UnKS52YWx1ZSA9PT0gJycpIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSByZWZlcmVuY2Ugbm9ydGggYXppbXV0aCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChmaWxlU2VsZWN0b3IuZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIHNjcmF0Y2ggZmlsZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGUgPSBmaWxlU2VsZWN0b3IuZmlsZXNbMF07XG4gICAgY29uc3QgcmVmZXJlbmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vcnRoLXJlZmVyZW5jZScpLnZhbHVlO1xuXG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHsgZmlsZSwgcmVmZXJlbmNlIH0pO1xuXG4gICAgd29ya2VyLm9ubWVzc2FnZSA9ICh7IGRhdGEgfSkgPT4ge1xuICAgICAgY3JlYXRlUHJldmlldyhkYXRhLnJlc3VsdHMpO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2F2ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjcmVhdGVEb3dubG9hZChkYXRhLnJlc3VsdHMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQ2xlYXIgcHJldmlldyByZXN1bHRzIHdoZW4gdGhlIHNjcmF0Y2ggZmlsZSBjaGFuZ2VzXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlVG9VcGxvYWQnKS5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0cy1wcmV2aWV3JykuaW5uZXJIVE1MID0gJyc7XG4gIH07XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2luZGV4LmpzIiwiLyoqXG4gKiBGbGF0dGVuIGFycmF5IDEgbGV2ZWxcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgQXJyeWEgdG8gZmxhdHRlblxuICpcbiAqIEByZXR1cm5zIHthcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IGZsYXR0ZW4gPSBhcnIgPT4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5hcnIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==
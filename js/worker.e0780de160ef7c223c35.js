!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.isCsog=!1;var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.isCsog=e.TestCsog(t)}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getIsCsog",value:function(){return this.isCsog}},{key:"toObject",value:function(){return{id:this.getConstructionId(),isCsog:this.getIsCsog()}}}],[{key:"TestCsog",value:function(t){return new RegExp(e.CSOGRegex).test(t)}},{key:"Build",value:function(t){return new e(t)}}]),e}();o.ConstructionIdRegex="(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)",o.Regex="^ 2"+o.ConstructionIdRegex,o.CSOGRegex="^ 2(24[1-9]|2[5-9]\\d|3[1-3]\\d|340)   (.{7})*( 18 100)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.windowId="",this.height="",this.width="",this.azimuth="",this.headHeight="",this.horizShading1Id="",this.horizShading2Id="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[e.CONST__ZONE_ID].trim(),this.windowId=i[e.CONST__WINDOW_ID].trim(),this.height=i[e.CONST__HEIGHT].trim(),this.width=i[e.CONST__WIDTH].trim(),this.azimuth=i[e.CONST__AZIMUTH].trim(),this.horizShading1Id=i[e.CONST__HORZ_SHADING_1].trim(),this.horizShading2Id=i[e.CONST__HORZ_SHADING_2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getWindowId",value:function(){return this.windowId}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"getHeadHeight",value:function(){return this.headHeight}},{key:"getHorizShading1Id",value:function(){return this.horizShading1Id}},{key:"getHorizShading2Id",value:function(){return this.horizShading2Id}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),windowId:this.getWindowId(),height:this.getHeight(),width:this.getWidth(),azimuth:this.getAzimuth(),headHeight:this.getHeadHeight(),horizShading1Id:this.getHorizShading1Id(),horizShading2Id:this.getHorizShading2Id()}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"HeadHeight",value:function(e,t){return((""===e?0:parseFloat(e))+(""===t?0:parseFloat(t))).toFixed(2).toString()}}]),e}();o.CONST__ZONE_ID=1,o.CONST__WINDOW_ID=2,o.CONST__HEIGHT=6,o.CONST__WIDTH=7,o.CONST__AZIMUTH=8,o.CONST__HORZ_SHADING_1=9,o.CONST__HORZ_SHADING_2=10,o.Regex="^ 3(.{3})(( (10)|(  [0-9])))(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.zoneId="",this.height="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.height=i[3].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getHeight",value:function(){return this.height}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),height:this.getHeight()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^ 3(.{3})700(.{6})(.{6})(.{6})(.{6})",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.eaveProjection="",this.eaveOffset="",this.pergolaProjection="",this.pergolaOffset="",this.projection="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[e.CONST__ID].trim(),this.eaveProjection=i[e.CONST__EAVE_PROJECTION].trim(),this.eaveOffset=i[e.CONST__EAVE_OFFSET].trim(),this.pergolaProjection=i[e.CONST__PERGOLA_PROJECTION].trim(),this.pergolaOffset=i[e.CONST__PERGOLA_OFFSET].trim(),this.projection=this.getProjection()}return i(e,[{key:"getProjection",value:function(){var t=parseFloat(this.getEaveProjection())>parseFloat(this.getPergolaProjection())?this.getEaveProjection():this.getPergolaProjection();return e.RoundValue(t)}},{key:"getId",value:function(){return this.id}},{key:"getEaveOffset",value:function(){return this.eaveOffset}},{key:"getEaveProjection",value:function(){return this.eaveProjection}},{key:"getPergolaOffset",value:function(){return this.pergolaOffset}},{key:"getPergolaProjection",value:function(){return this.pergolaProjection}},{key:"toObject",value:function(){return{id:this.getId(),projection:this.getProjection(),offset:{eave:this.getEaveOffset(),pergola:this.getPergolaOffset()}}}}],[{key:"Build",value:function(t){return new e(t)}},{key:"RoundValue",value:function(e){return(Math.round(20*e)/20).toFixed(2)}}]),e}();o.CONST__ID=1,o.CONST__EAVE_PROJECTION=2,o.CONST__EAVE_OFFSET=3,o.CONST__PERGOLA_PROJECTION=6,o.CONST__PERGOLA_OFFSET=7,o.Regex="^ 1 20(.{3})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})(.{6})$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"toObject",value:function(){return{id:this.id,name:this.name}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.CONST__ID=3,o.CONST__NAME="",o.Regex="^ \\d(.{3})[ \\d]*([a-zA-Z][a-zA-Z\\-\\d&]{9}[ a-zA-Z][a-zA-Z]?)",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.id="",this.name="";var n=new RegExp(e.Regex),i=n.exec(t);this.id=i[1].trim(),this.name=i[2].trim()}return i(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"toObject",value:function(){return{id:this.getId(),name:this.getName()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();o.Regex="^C Z00?(\\d{1,3}) => (.*)$",t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t){r(this,e),this.zoneId="",this.constructionId="";var n=new RegExp(e.Regex),i=n.exec(t);this.zoneId=i[1].trim(),this.constructionId=i[2].trim()}return i(e,[{key:"getZoneId",value:function(){return this.zoneId}},{key:"getConstructionId",value:function(){return this.constructionId}},{key:"toObject",value:function(){return{zoneId:this.getZoneId(),constructionId:this.getConstructionId()}}}],[{key:"Build",value:function(t){return new e(t)}}]),e}();a.Regex=" 3(...)("+u.default.ConstructionIdRegex+")",t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),l=n(4),f=r(l),s=n(1),c=r(s),d=n(2),h=r(d),g=n(5),v=r(g),p=n(0),_=r(p),y=n(6),w=r(y),O=function(){function e(){i(this,e)}return o(e,null,[{key:"ShadingScheme",value:function(t){return e.Test(t,a.default.Regex)}},{key:"WindowConstruction",value:function(t){return e.Test(t,f.default.Regex)}},{key:"ZoneWindow",value:function(t){return e.Test(t,c.default.Regex)}},{key:"CeilingHeight",value:function(t){return e.Test(t,h.default.Regex)}},{key:"ZoneDetail",value:function(t){return e.Test(t,v.default.Regex)}},{key:"FloorConstruction",value:function(t){return e.Test(t,_.default.Regex)}},{key:"ZoneFloor",value:function(t){return e.Test(t,w.default.Regex)}},{key:"Test",value:function(e,t){return new RegExp(t).test(e)}},{key:"ReverseLookup",value:function(t){return e.ShadingScheme(t)?"HorizontalShadingScheme":e.CeilingHeight(t)?"CeilingHeight":e.WindowConstruction(t)?"WindowConstruction":e.ZoneWindow(t)?"ZoneWindow":e.ZoneDetail(t)?"ZoneDetail":e.FloorConstruction(t)?"FloorConstruction":!!e.ZoneFloor(t)&&"ZoneFloor"}}]),e}();t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),a=r(u),l=n(7),f=r(l),s=n(4),c=r(s),d=n(1),h=r(d),g=n(3),v=r(g),p=n(2),_=r(p),y=n(5),w=r(y),O=n(0),C=r(O),m=n(6),I=r(m),b=function(){function e(t){i(this,e),this.windowConstructions=[],this.zoneWindows=[],this.zoneDetails=[],this.shadingSchemes=[],this.ceilingHeights=[],this.file=t}return o(e,[{key:"process",value:function(){var e=this.getDataLines();this.windowConstructions=e.filter(function(e){return"WindowConstruction"===f.default.ReverseLookup(e)}).map(function(e){return c.default.Build(e)}),this.zoneWindows=e.filter(function(e){return"ZoneWindow"===f.default.ReverseLookup(e)}).map(function(e){return h.default.Build(e)}),this.shadingSchemes=e.filter(function(e){return"HorizontalShadingScheme"===f.default.ReverseLookup(e)}).map(function(e){return v.default.Build(e)}),this.ceilingHeights=e.filter(function(e){return"CeilingHeight"===f.default.ReverseLookup(e)}).map(function(e){return _.default.Build(e)}),this.zoneDetails=e.filter(function(e){return"ZoneDetail"===f.default.ReverseLookup(e)}).map(function(e){return w.default.Build(e)}),this.floorConstructions=e.filter(function(e){return"FloorConstruction"===f.default.ReverseLookup(e)}).map(function(e){return C.default.Build(e)}),this.zoneFloors=e.filter(function(e){return"ZoneFloor"===f.default.ReverseLookup(e)}).map(function(e){return I.default.Build(e)})}},{key:"getDataLines",value:function(){return this.file.filter(function(e){return!1!==a.default.Build(e)})}},{key:"getWindowConstructions",value:function(){return this.windowConstructions}},{key:"getZoneWindows",value:function(){return this.zoneWindows}},{key:"getShading",value:function(){return this.shadingSchemes}},{key:"getCeilingHeights",value:function(){return this.ceilingHeights}},{key:"getZoneDetails",value:function(){return this.zoneDetails}},{key:"getFloorConstructions",value:function(){return this.floorConstructions}},{key:"getZoneFloors",value:function(){return this.zoneFloors}},{key:"getAllData",value:function(){return{windowConstructions:this.getWindowConstructions(),zoneWindows:this.getZoneWindows(),shading:this.getShading(),ceilingHeights:this.getCeilingHeights(),zoneDetails:this.getZoneDetails(),floorConstructions:this.getFloorConstructions(),zoneFloors:this.getZoneFloors()}}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),l=r(a),f=n(10),s=r(f),c=n(1),d=r(c),h=n(13),g=function(){function e(){i(this,e)}return u(e,null,[{key:"Compile",value:function(e){var t=e.windowConstructions,n=e.zoneWindows,r=e.shading,i=e.ceilingHeights,u=e.zoneDetails,a=e.floorConstructions,l=e.zoneFloors;return u.map(function(e){var u=n.filter(function(t){return t.zoneId===e.id}).map(function(n){var u=t.filter(function(e){return e.id===n.getWindowId()})[0],a=r.filter(function(e){return e.getId()===n.getHorizShading1Id()||e.getId()===n.getHorizShading2Id()}),l=i.filter(function(t){return t.getZoneId()===e.getId()})[0];return o({},n,{construction:u,shading:a,ceilingHeight:l})}),f=l.filter(function(t){return t.zoneId===e.id}).map(function(e){var t=a.filter(function(t){return t.id===e.constructionId})[0];return o({},e,t)});return{id:e.getId(),name:e.getName(),windows:u,onGroundFloor:s.default.Test(f)}})}},{key:"Build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.map(function(e){var n=e.windows.map(function(n){var r="",i="",o="";return n.shading.length>0&&(r=n.shading[0].projection,i=n.shading[0].eaveOffset,o=n.shading[0].pergolaOffset),[e.name,"",l.default.Get(n.azimuth,t),n.height,n.width,r,d.default.HeadHeight(n.height,i),n.construction.name,n.ceilingHeight.height,i,o,e.onGroundFloor?"0":""]});return n.length>0?n:[n]});return(0,h.flatten)(n)}}]),e}();t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Test",value:function(e){return e.filter(function(e){return e.isCsog}).length>0}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"Get",value:function(t,n){var r=parseInt(t,10);return e.Is(r,n,e.CONST__N_E)?"NE":e.Is(r,n,e.CONST__E)?"E":e.Is(r,n,e.CONST__S_E)?"SE":e.Is(r,n,e.CONST__S)?"S":e.Is(r,n,e.CONST__S_W)?"SW":e.Is(r,n,e.CONST__W)?"W":e.Is(r,n,e.CONST__N_W)?"NW":"N"}},{key:"Is",value:function(t,n,r){var i={upper:e.Normalize(parseInt(n,10)+r.upper),lower:e.Normalize(parseInt(n,10)+r.lower)};return t>=i.lower&&t<=i.upper}},{key:"Normalize",value:function(e){return e<0?360-Math.abs(e):e>360?e-360:e}}]),e}();o.CONST__N={lower:22,upper:338},o.CONST__N_E={lower:23,upper:67},o.CONST__E={lower:68,upper:112},o.CONST__S_E={lower:113,upper:157},o.CONST__S={lower:158,upper:202},o.CONST__S_W={lower:203,upper:247},o.CONST__W={lower:248,upper:292},o.CONST__N_W={lower:293,upper:337},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),a=r(u),l=n(3),f=r(l),s=n(7),c=r(s),d=n(4),h=r(d),g=n(1),v=r(g),p=n(5),_=r(p),y=n(0),w=r(y),O=n(6),C=r(O),m=function(){function e(){i(this,e)}return o(e,null,[{key:"Build",value:function(e){return c.default.ShadingScheme(e)?f.default.Build(e):c.default.CeilingHeight(e)?a.default.Build(e):c.default.WindowConstruction(e)?h.default.Build(e):c.default.ZoneWindow(e)?v.default.Build(e):c.default.ZoneDetail(e)?_.default.Build(e):c.default.FloorConstruction(e)?w.default.Build(e):!!c.default.ZoneFloor(e)&&C.default.Build(e)}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.flatten=function(e){var t;return(t=Array.prototype).concat.apply(t,r(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(8),u=r(o),a=n(9),l=r(a);onmessage=function(e){var t=e.data,n=new FileReader;n.onload=function(e){var n=e.target.result.split("\r\n"),r=new u.default(n);r.process();var o=l.default.Compile(r.getAllData()),a=o.filter(function(e){return e.onGroundFloor}),f=o.filter(function(e){return!e.onGroundFloor}),s=[].concat(i(a),i(f)),c=l.default.Build(s,t.reference);postMessage({results:c})},n.abort(),n.readAsText(t.file)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd29ya2VyLmUwNzgwZGUxNjBlZjdjMjIzYzM1LmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlMDc4MGRlMTYwZWY3YzIyM2MzNSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvRmxvb3JDb25zdHJ1Y3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1pvbmVXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0NlaWxpbmdIZWlnaHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0hvcml6b250YWxTaGFkaW5nU2NoZW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9XaW5kb3dDb25zdHJ1Y3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1pvbmVEZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1pvbmVGbG9vci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvTG9va3NMaWtlLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9QYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1Jlc3VsdHNCdWlsZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9Hcm91bmRGbG9vci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvT3JpZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1NjcmF0Y2hGaWxlTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmtlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsInZhbHVlIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiRmxvb3JDb25zdHJ1Y3Rpb24iLCJsaW5lRGF0YSIsInRoaXMiLCJpZCIsImlzQ3NvZyIsInJlZ2V4IiwiUmVnRXhwIiwiUmVnZXgiLCJkYXRhIiwiZXhlYyIsInRyaW0iLCJUZXN0Q3NvZyIsImdldENvbnN0cnVjdGlvbklkIiwiZ2V0SXNDc29nIiwiQ1NPR1JlZ2V4IiwidGVzdCIsIkNvbnN0cnVjdGlvbklkUmVnZXgiLCJkZWZhdWx0IiwiWm9uZVdpbmRvdyIsInpvbmVJZCIsIndpbmRvd0lkIiwiaGVpZ2h0Iiwid2lkdGgiLCJhemltdXRoIiwiaGVhZEhlaWdodCIsImhvcml6U2hhZGluZzFJZCIsImhvcml6U2hhZGluZzJJZCIsIkNPTlNUX19aT05FX0lEIiwiQ09OU1RfX1dJTkRPV19JRCIsIkNPTlNUX19IRUlHSFQiLCJDT05TVF9fV0lEVEgiLCJDT05TVF9fQVpJTVVUSCIsIkNPTlNUX19IT1JaX1NIQURJTkdfMSIsIkNPTlNUX19IT1JaX1NIQURJTkdfMiIsImdldFpvbmVJZCIsImdldFdpbmRvd0lkIiwiZ2V0SGVpZ2h0IiwiZ2V0V2lkdGgiLCJnZXRBemltdXRoIiwiZ2V0SGVhZEhlaWdodCIsImdldEhvcml6U2hhZGluZzFJZCIsImdldEhvcml6U2hhZGluZzJJZCIsIndpbmRvd0hlaWdodCIsImVhdmVPZmZzZXQiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInRvU3RyaW5nIiwiQ2VpbGluZ0hlaWdodCIsIkhvcml6b250YWxTaGFkaW5nU2NoZW1lIiwiZWF2ZVByb2plY3Rpb24iLCJwZXJnb2xhUHJvamVjdGlvbiIsInBlcmdvbGFPZmZzZXQiLCJwcm9qZWN0aW9uIiwiQ09OU1RfX0lEIiwiQ09OU1RfX0VBVkVfUFJPSkVDVElPTiIsIkNPTlNUX19FQVZFX09GRlNFVCIsIkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04iLCJDT05TVF9fUEVSR09MQV9PRkZTRVQiLCJnZXRQcm9qZWN0aW9uIiwiZ2V0RWF2ZVByb2plY3Rpb24iLCJnZXRQZXJnb2xhUHJvamVjdGlvbiIsIlJvdW5kVmFsdWUiLCJnZXRJZCIsIm9mZnNldCIsImVhdmUiLCJnZXRFYXZlT2Zmc2V0IiwicGVyZ29sYSIsImdldFBlcmdvbGFPZmZzZXQiLCJNYXRoIiwicm91bmQiLCJXaW5kb3dDb25zdHJ1Y3Rpb24iLCJDT05TVF9fTkFNRSIsIlpvbmVEZXRhaWwiLCJnZXROYW1lIiwiX0Zsb29yQ29uc3RydWN0aW9uIiwiX0Zsb29yQ29uc3RydWN0aW9uMiIsIm9iaiIsIlpvbmVGbG9vciIsImNvbnN0cnVjdGlvbklkIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSIsIl9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIiLCJfV2luZG93Q29uc3RydWN0aW9uMiIsIl9XaW5kb3dDb25zdHJ1Y3Rpb24zIiwiX1pvbmVXaW5kb3cyIiwiX1pvbmVXaW5kb3czIiwiX0NlaWxpbmdIZWlnaHQyIiwiX0NlaWxpbmdIZWlnaHQzIiwiX1pvbmVEZXRhaWwyIiwiX1pvbmVEZXRhaWwzIiwiX0Zsb29yQ29uc3RydWN0aW9uMyIsIl9ab25lRmxvb3IyIiwiX1pvbmVGbG9vcjMiLCJMb29rc0xpa2UiLCJUZXN0IiwiU2hhZGluZ1NjaGVtZSIsIl9TY3JhdGNoRmlsZUxpbmUiLCJfU2NyYXRjaEZpbGVMaW5lMiIsIl9Mb29rc0xpa2UiLCJfTG9va3NMaWtlMiIsIl9XaW5kb3dDb25zdHJ1Y3Rpb24iLCJfWm9uZVdpbmRvdyIsIl9DZWlsaW5nSGVpZ2h0IiwiX1pvbmVEZXRhaWwiLCJfWm9uZUZsb29yIiwiUGFyc2VyIiwiZmlsZSIsIndpbmRvd0NvbnN0cnVjdGlvbnMiLCJ6b25lV2luZG93cyIsInpvbmVEZXRhaWxzIiwic2hhZGluZ1NjaGVtZXMiLCJjZWlsaW5nSGVpZ2h0cyIsImRhdGFMaW5lcyIsImdldERhdGFMaW5lcyIsImZpbHRlciIsImxpbmUiLCJSZXZlcnNlTG9va3VwIiwibWFwIiwid2luZG93IiwiQnVpbGQiLCJ6b25lV2luZG93Iiwic2hhZGluZyIsImNlaWxpbmdIZWlnaHQiLCJ6b25lRGV0YWlsIiwiZmxvb3JDb25zdHJ1Y3Rpb25zIiwiZmxvb3JDb25zdHJ1Y3Rpb24iLCJ6b25lRmxvb3JzIiwiem9uZUZsb29yIiwiU2NyYXRjaEZpbGVMaW5lIiwiZ2V0V2luZG93Q29uc3RydWN0aW9ucyIsImdldFpvbmVXaW5kb3dzIiwiZ2V0U2hhZGluZyIsImdldENlaWxpbmdIZWlnaHRzIiwiZ2V0Wm9uZURldGFpbHMiLCJnZXRGbG9vckNvbnN0cnVjdGlvbnMiLCJnZXRab25lRmxvb3JzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJfT3JpZW50YXRpb24iLCJfT3JpZW50YXRpb24yIiwiX0dyb3VuZEZsb29yIiwiX0dyb3VuZEZsb29yMiIsIl91dGlscyIsIlJlc3VsdHNCdWlsZGVyIiwiX3JlZiIsInpvbmUiLCJ3aW5kb3dzIiwiY29uc3RydWN0aW9uIiwiY29ucyIsInNoYWRpbmdTY2hlbWUiLCJzaGFkZSIsImNlaWxpbmciLCJmbG9vcnMiLCJmbG9vckNvbiIsIm9uR3JvdW5kRmxvb3IiLCJHcm91bmRGbG9vciIsInpvbmVzIiwicmVmZXJlbmNlIiwidW5kZWZpbmVkIiwiY3N2Iiwid2luZG93Q3N2IiwiT3JpZW50YXRpb24iLCJHZXQiLCJIZWFkSGVpZ2h0IiwiZmxhdHRlbiIsImZsb29yIiwiYXppbXV0aEludCIsInBhcnNlSW50IiwiSXMiLCJDT05TVF9fTl9FIiwiQ09OU1RfX0UiLCJDT05TVF9fU19FIiwiQ09OU1RfX1MiLCJDT05TVF9fU19XIiwiQ09OU1RfX1ciLCJDT05TVF9fTl9XIiwibGltaXRzIiwidmVjdG9yIiwidXBwZXIiLCJOb3JtYWxpemUiLCJsb3dlciIsIm51bWJlciIsImFicyIsIkNPTlNUX19OIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyMiIsImZyb20iLCJfQXJyYXkkcHJvdG90eXBlIiwiY29uY2F0IiwiYXBwbHkiLCJfUGFyc2VyIiwiX1BhcnNlcjIiLCJfUmVzdWx0c0J1aWxkZXIiLCJfUmVzdWx0c0J1aWxkZXIyIiwib25tZXNzYWdlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJzY3JhdGNoRmlsZSIsInJlc3VsdCIsInNwbGl0IiwicGFyc2VyIiwicHJvY2VzcyIsIkNvbXBpbGUiLCJnZXRBbGxEYXRhIiwiZ3JvdW5kRmxvb3IiLCJvdGhlckZsb29yIiwic29ydGVkIiwicmVzdWx0cyIsInBvc3RNZXNzYWdlIiwiYWJvcnQiLCJyZWFkQXNUZXh0Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBSSxFQUFBSixFQUNBSyxHQUFBLEVBQ0FILFdBVUEsT0FOQUosR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQTRCQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQUssRUFBQSxTQUFBSyxHQUEyQyxNQUFBQSxJQUczQ1YsRUFBQVcsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBYixFQUFBYyxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQWIs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UUEsR0FBS1MsZ0JBQ3hDd0QsRUFBYXRELEVBQU01QyxPQUFPLFNBQUFpQyxHQUFBLE9BQVNBLEVBQUtTLGdCQUN4Q3lELGNBQWFGLEdBQWJ6QixFQUE2QjBCLElBQzdCRSxFQUFVckUsVUFBZTFCLE1BQU04RixFQUFRN00sRUFBS3VKLFVBRWxEd0QsY0FBY0QsYUFHaEJkLEVBQU9nQixRQUNQaEIsRUFBT2lCLFdBQVdqTixFQUFLa0ciLCJmaWxlIjoid29ya2VyLmUwNzgwZGUxNjBlZjdjMjIzYzM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIEZsb29yQ29uc3RydWN0aW9uXG4gKi9cbnZhciBGbG9vckNvbnN0cnVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRmxvb3JDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmxvb3JDb25zdHJ1Y3Rpb24pO1xuXG4gICAgdGhpcy5pZCA9ICcnO1xuICAgIHRoaXMuaXNDc29nID0gZmFsc2U7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMuaXNDc29nID0gRmxvb3JDb25zdHJ1Y3Rpb24uVGVzdENzb2cobGluZURhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uc3RydWN0aW9uIGlkIHRoYXQgdGhpcyBmbG9vciBjb25zdHJ1Y3Rpb24gYmVsb25ncyB0b1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhGbG9vckNvbnN0cnVjdGlvbiwgW3tcbiAgICBrZXk6ICdnZXRJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUvZmFsc2UgaW5kaWNhdGluZyBpZiB0aGUgZmxvb3JpbmcgdHlwZSBpbiB0aGUgem9uZSBpcyBDU09HXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0SXNDc29nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNDc29nKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNDc29nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgdGhlIGRhdGEgbGluZSB0byBzZWUgaWYgdGhlcmUgaXMgY29uY3JldGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0aGlzLmdldENvbnN0cnVjdGlvbklkKCksXG4gICAgICAgIGlzQ3NvZzogdGhpcy5nZXRJc0Nzb2coKVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ1Rlc3RDc29nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gVGVzdENzb2cobGluZURhdGEpIHtcbiAgICAgIHZhciBjc29nUmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLkNTT0dSZWdleCk7XG4gICAgICByZXR1cm4gY3NvZ1JlZ2V4LnRlc3QobGluZURhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0J1aWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBGbG9vckNvbnN0cnVjdGlvbihkYXRhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmxvb3JDb25zdHJ1Y3Rpb247XG59KCk7XG5cbkZsb29yQ29uc3RydWN0aW9uLkNvbnN0cnVjdGlvbklkUmVnZXggPSAnKDI0WzEtOV18Mls1LTldXFxcXGR8M1sxLTNdXFxcXGR8MzQwKSc7XG5GbG9vckNvbnN0cnVjdGlvbi5SZWdleCA9ICdeIDInICsgRmxvb3JDb25zdHJ1Y3Rpb24uQ29uc3RydWN0aW9uSWRSZWdleDtcbkZsb29yQ29uc3RydWN0aW9uLkNTT0dSZWdleCA9ICdeIDIoMjRbMS05XXwyWzUtOV1cXFxcZHwzWzEtM11cXFxcZHwzNDApICAgKC57N30pKiggMTggMTAwKSc7XG5leHBvcnRzLmRlZmF1bHQgPSBGbG9vckNvbnN0cnVjdGlvbjtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgdG8gcGFyc2Ugd2luZG93IGluZm9ybWF0aW9uIGluc2lkZSBhIHpvbmUgc2VjdGlvblxuICovXG52YXIgWm9uZVdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhpcyB2YWx1ZSBpc24ndCB1c2VkLCBqdXN0IGhlcmUgdG8gaXQgY2FuIGhvbGQgYW4gZW1wdHkgY2VsbCBpbiB0aGUgb3V0cHV0IENTVlxuICBmdW5jdGlvbiBab25lV2luZG93KGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFpvbmVXaW5kb3cpO1xuXG4gICAgdGhpcy56b25lSWQgPSAnJztcbiAgICB0aGlzLndpbmRvd0lkID0gJyc7XG4gICAgdGhpcy5oZWlnaHQgPSAnJztcbiAgICB0aGlzLndpZHRoID0gJyc7XG4gICAgdGhpcy5hemltdXRoID0gJyc7XG4gICAgdGhpcy5oZWFkSGVpZ2h0ID0gJyc7XG4gICAgdGhpcy5ob3JpelNoYWRpbmcxSWQgPSAnJztcbiAgICB0aGlzLmhvcml6U2hhZGluZzJJZCA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lV2luZG93LlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1pPTkVfSURdLnRyaW0oKTtcbiAgICB0aGlzLndpbmRvd0lkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19XSU5ET1dfSURdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSEVJR0hUXS50cmltKCk7XG4gICAgdGhpcy53aWR0aCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lEVEhdLnRyaW0oKTtcbiAgICB0aGlzLmF6aW11dGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0FaSU1VVEhdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzFJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzFdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzJJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzJdLnRyaW0oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhab25lV2luZG93LCBbe1xuICAgIGtleTogJ2dldFpvbmVJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaW5kb3dJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpbmRvd0lkKCkge1xuICAgICAgcmV0dXJuIHRoaXMud2luZG93SWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0V2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRBemltdXRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXppbXV0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmF6aW11dGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SGVhZEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhlYWRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkSGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhvcml6U2hhZGluZzFJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhvcml6U2hhZGluZzFJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhvcml6U2hhZGluZzFJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3JpelNoYWRpbmcySWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIb3JpelNoYWRpbmcySWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ob3JpelNoYWRpbmcySWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndG9PYmplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgICAgd2luZG93SWQ6IHRoaXMuZ2V0V2luZG93SWQoKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICBhemltdXRoOiB0aGlzLmdldEF6aW11dGgoKSxcbiAgICAgICAgaGVhZEhlaWdodDogdGhpcy5nZXRIZWFkSGVpZ2h0KCksXG4gICAgICAgIGhvcml6U2hhZGluZzFJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcxSWQoKSxcbiAgICAgICAgaG9yaXpTaGFkaW5nMklkOiB0aGlzLmdldEhvcml6U2hhZGluZzJJZCgpXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCdWlsZChkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFpvbmVXaW5kb3coZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHRoZSBIZWFkIEhlaWdodCBvZiBhIHdpbmRvdyBmcm9tIHRoZSBoZWlnaHQgb2YgdGhlIHdpbmRvdyBhbmQgdGhlIGVhdmUgb2Zmc2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd2luZG93SGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHdpbmRvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlYXZlT2Zmc2V0ICAgVGhlIGVhdmUgb2Zmc2V0IG9mIHRoZSB3aW5kb3dcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ0hlYWRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBIZWFkSGVpZ2h0KHdpbmRvd0hlaWdodCwgZWF2ZU9mZnNldCkge1xuICAgICAgdmFyIHdpbmRvd0hlaWdodEZsb2F0ID0gd2luZG93SGVpZ2h0ID09PSAnJyA/IDAgOiBwYXJzZUZsb2F0KHdpbmRvd0hlaWdodCk7XG4gICAgICB2YXIgZWF2ZU9mZnNldEZsb2F0ID0gZWF2ZU9mZnNldCA9PT0gJycgPyAwIDogcGFyc2VGbG9hdChlYXZlT2Zmc2V0KTtcbiAgICAgIHJldHVybiAod2luZG93SGVpZ2h0RmxvYXQgKyBlYXZlT2Zmc2V0RmxvYXQpLnRvRml4ZWQoMikudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWm9uZVdpbmRvdztcbn0oKTtcblxuWm9uZVdpbmRvdy5DT05TVF9fWk9ORV9JRCA9IDE7XG5ab25lV2luZG93LkNPTlNUX19XSU5ET1dfSUQgPSAyO1xuWm9uZVdpbmRvdy5DT05TVF9fSEVJR0hUID0gNjtcblpvbmVXaW5kb3cuQ09OU1RfX1dJRFRIID0gNztcblpvbmVXaW5kb3cuQ09OU1RfX0FaSU1VVEggPSA4O1xuWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzEgPSA5O1xuWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzIgPSAxMDtcblpvbmVXaW5kb3cuUmVnZXggPSAnXiAzKC57M30pKCggKDEwKXwoICBbMC05XSkpKSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSc7XG5leHBvcnRzLmRlZmF1bHQgPSBab25lV2luZG93O1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBDZWlsaW5nSGVpZ2h0XG4gKi9cbnZhciBDZWlsaW5nSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDZWlsaW5nSGVpZ2h0KGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENlaWxpbmdIZWlnaHQpO1xuXG4gICAgdGhpcy56b25lSWQgPSAnJztcbiAgICB0aGlzLmhlaWdodCA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChDZWlsaW5nSGVpZ2h0LlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbM10udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENlaWxpbmdIZWlnaHQsIFt7XG4gICAga2V5OiAnZ2V0Wm9uZUlkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Wm9uZUlkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZUlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgem9uZUlkOiB0aGlzLmdldFpvbmVJZCgpLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgQ2VpbGluZ0hlaWdodChkYXRhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2VpbGluZ0hlaWdodDtcbn0oKTtcblxuQ2VpbGluZ0hlaWdodC5SZWdleCA9ICdeIDMoLnszfSk3MDAoLns2fSkoLns2fSkoLns2fSkoLns2fSknO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2VpbGluZ0hlaWdodDtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQnJlYWsgdGhlIEhvcml6b250YWwgU2hhZGluZyBTY2hlbWUgZGF0YSBpbnRvIGl0cyB2YXJpb3VzIHBhcnRzXG4gKi9cbnZhciBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZSA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogQ29uc3RhbnRzIHRoYXQgbWFwIHRoZSB2YXJpb3VzIGJpdHMgb2YgZGF0YSB0byB0aGUgc2VjdGlvbiBvZiByZWdleFxuICAgKi9cbiAgZnVuY3Rpb24gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUobGluZURhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUpO1xuXG4gICAgdGhpcy5pZCA9ICcnO1xuICAgIHRoaXMuZWF2ZVByb2plY3Rpb24gPSAnJztcbiAgICB0aGlzLmVhdmVPZmZzZXQgPSAnJztcbiAgICB0aGlzLnBlcmdvbGFQcm9qZWN0aW9uID0gJyc7XG4gICAgdGhpcy5wZXJnb2xhT2Zmc2V0ID0gJyc7XG4gICAgdGhpcy5wcm9qZWN0aW9uID0gJyc7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKEhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0lEXS50cmltKCk7XG4gICAgdGhpcy5lYXZlUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wZXJnb2xhUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBoaWdoZXN0IHByb2plY3Rpb24gdmFsdWUgYW5kIHJldHVyblxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhIb3Jpem9udGFsU2hhZGluZ1NjaGVtZSwgW3tcbiAgICBrZXk6ICdnZXRQcm9qZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvamVjdGlvbigpIHtcbiAgICAgIHZhciBwcm9qZWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmdldEVhdmVQcm9qZWN0aW9uKCkpID4gcGFyc2VGbG9hdCh0aGlzLmdldFBlcmdvbGFQcm9qZWN0aW9uKCkpID8gdGhpcy5nZXRFYXZlUHJvamVjdGlvbigpIDogdGhpcy5nZXRQZXJnb2xhUHJvamVjdGlvbigpO1xuXG4gICAgICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuUm91bmRWYWx1ZShwcm9qZWN0aW9uKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RWF2ZU9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVhdmVPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYXZlT2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEVhdmVQcm9qZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWF2ZVByb2plY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYXZlUHJvamVjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRQZXJnb2xhT2Zmc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGVyZ29sYU9mZnNldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBlcmdvbGFPZmZzZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0UGVyZ29sYVByb2plY3Rpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQZXJnb2xhUHJvamVjdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBlcmdvbGFQcm9qZWN0aW9uO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgICBwcm9qZWN0aW9uOiB0aGlzLmdldFByb2plY3Rpb24oKSxcbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgZWF2ZTogdGhpcy5nZXRFYXZlT2Zmc2V0KCksXG4gICAgICAgICAgcGVyZ29sYTogdGhpcy5nZXRQZXJnb2xhT2Zmc2V0KClcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ0J1aWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZShkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3VuZCB0aGUgcHJvdmlkZWQgdmFsdWUgKHByb2plY3Rpb24pIHRvIHRoZSBuZWFyZXN0IDAuMDVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcm91bmRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1JvdW5kVmFsdWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBSb3VuZFZhbHVlKHZhbHVlKSB7XG4gICAgICAvLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNDEzNjAyLzE1NjA1OTNcbiAgICAgIHJldHVybiAoTWF0aC5yb3VuZCh2YWx1ZSAqIDIwKSAvIDIwKS50b0ZpeGVkKDIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZTtcbn0oKTtcblxuSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0lEID0gMTtcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19FQVZFX1BST0pFQ1RJT04gPSAyO1xuSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfT0ZGU0VUID0gMztcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLkNPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04gPSA2O1xuSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfT0ZGU0VUID0gNztcbkhvcml6b250YWxTaGFkaW5nU2NoZW1lLlJlZ2V4ID0gJ14gMSAyMCguezN9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSQnO1xuZXhwb3J0cy5kZWZhdWx0ID0gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWU7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEJyZWFrIGEgV2luZG93IGNvbnN0cnVjdGlvbiBkYXRhIGxpbmUgaW50byBpdHMgdmFyaW91cyBwYXJ0c1xuICovXG52YXIgV2luZG93Q29uc3RydWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXaW5kb3dDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2luZG93Q29uc3RydWN0aW9uKTtcblxuICAgIHRoaXMuaWQgPSAnJztcbiAgICB0aGlzLm5hbWUgPSAnJztcblxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoV2luZG93Q29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMubmFtZSA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFdpbmRvd0NvbnN0cnVjdGlvbiwgW3tcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ0J1aWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQnVpbGQoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBXaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFdpbmRvd0NvbnN0cnVjdGlvbjtcbn0oKTtcblxuV2luZG93Q29uc3RydWN0aW9uLkNPTlNUX19JRCA9IDM7XG5XaW5kb3dDb25zdHJ1Y3Rpb24uQ09OU1RfX05BTUUgPSAnJztcbldpbmRvd0NvbnN0cnVjdGlvbi5SZWdleCA9ICdeIFxcXFxkKC57M30pWyBcXFxcZF0qKFthLXpBLVpdW2EtekEtWlxcXFwtXFxcXGQmXXs5fVsgYS16QS1aXVthLXpBLVpdPyknO1xuZXhwb3J0cy5kZWZhdWx0ID0gV2luZG93Q29uc3RydWN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBab25lRGV0YWlsXG4gKi9cbnZhciBab25lRGV0YWlsID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFpvbmVEZXRhaWwpO1xuXG4gICAgdGhpcy5pZCA9ICcnO1xuICAgIHRoaXMubmFtZSA9ICcnO1xuXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChab25lRGV0YWlsLlJlZ2V4KTtcbiAgICB2YXIgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMubmFtZSA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFpvbmVEZXRhaWwsIFt7XG4gICAga2V5OiAnZ2V0SWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldE5hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b09iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgbmFtZTogdGhpcy5nZXROYW1lKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgWm9uZURldGFpbChkYXRhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWm9uZURldGFpbDtcbn0oKTtcblxuWm9uZURldGFpbC5SZWdleCA9ICdeQyBaMDA/KFxcXFxkezEsM30pID0+ICguKikkJztcbmV4cG9ydHMuZGVmYXVsdCA9IFpvbmVEZXRhaWw7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgWm9uZUZsb29yXG4gKi9cbnZhciBab25lRmxvb3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFpvbmVGbG9vcihsaW5lRGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBab25lRmxvb3IpO1xuXG4gICAgdGhpcy56b25lSWQgPSAnJztcbiAgICB0aGlzLmNvbnN0cnVjdGlvbklkID0gJyc7XG5cbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFpvbmVGbG9vci5SZWdleCk7XG4gICAgdmFyIGRhdGEgPSByZWdleC5leGVjKGxpbmVEYXRhKTtcblxuICAgIHRoaXMuem9uZUlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5jb25zdHJ1Y3Rpb25JZCA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFpvbmVGbG9vciwgW3tcbiAgICBrZXk6ICdnZXRab25lSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q29uc3RydWN0aW9uSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25zdHJ1Y3Rpb25JZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGlvbklkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICAgIGNvbnN0cnVjdGlvbklkOiB0aGlzLmdldENvbnN0cnVjdGlvbklkKClcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgWm9uZUZsb29yKGRhdGEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBab25lRmxvb3I7XG59KCk7XG5cblpvbmVGbG9vci5SZWdleCA9ICcgMyguLi4pKCcgKyBfRmxvb3JDb25zdHJ1Y3Rpb24yLmRlZmF1bHQuQ29uc3RydWN0aW9uSWRSZWdleCArICcpJztcbmV4cG9ydHMuZGVmYXVsdCA9IFpvbmVGbG9vcjtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hvcml6b250YWxTaGFkaW5nU2NoZW1lKTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2luZG93Q29uc3RydWN0aW9uMik7XG5cbnZhciBfWm9uZVdpbmRvdzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3czID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdzIpO1xuXG52YXIgX0NlaWxpbmdIZWlnaHQyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NlaWxpbmdIZWlnaHQyKTtcblxudmFyIF9ab25lRGV0YWlsMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfWm9uZURldGFpbDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRGV0YWlsMik7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24yID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbjIpO1xuXG52YXIgX1pvbmVGbG9vcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX1pvbmVGbG9vcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRmxvb3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbXBhcmUgYSBkYXRhIHN0cmluZyBhbmQgaW5kaWNhdGUgd2hhdCB0eXBlIG9mIGRhdGEgaXQgbG9va3MgbGlrZVxuICovXG52YXIgTG9va3NMaWtlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMb29rc0xpa2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvb2tzTGlrZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9va3NMaWtlLCBudWxsLCBbe1xuICAgIGtleTogJ1NoYWRpbmdTY2hlbWUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGhvcml6b250YWwgc2hhZGluZyBzY2hlbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIuZGVmYXVsdC5SZWdleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSB3aW5kb3cgY29uc3RydWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnV2luZG93Q29uc3RydWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9XaW5kb3dDb25zdHJ1Y3Rpb24zLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSB3aW5kb3dcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdab25lV2luZG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gWm9uZVdpbmRvdyhsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfWm9uZVdpbmRvdzMuZGVmYXVsdC5SZWdleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSBjZWlsaW5nIGhlaWdodCBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnQ2VpbGluZ0hlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIENlaWxpbmdIZWlnaHQobGluZURhdGEpIHtcbiAgICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgX0NlaWxpbmdIZWlnaHQzLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBkZXRhaWwgbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1pvbmVEZXRhaWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9ab25lRGV0YWlsMy5kZWZhdWx0LlJlZ2V4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGZsb29yIGNvbnN0cnVjdGlvbiBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnRmxvb3JDb25zdHJ1Y3Rpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBGbG9vckNvbnN0cnVjdGlvbihsaW5lRGF0YSkge1xuICAgICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBfRmxvb3JDb25zdHJ1Y3Rpb24zLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSBmbG9vciBsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnWm9uZUZsb29yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gWm9uZUZsb29yKGxpbmVEYXRhKSB7XG4gICAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIF9ab25lRmxvb3IzLmRlZmF1bHQuUmVnZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgcmVnZXggdGVzdCBhZ2FpbnN0IHRoZSBkYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAgVGhlIGRhdGEgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWdleCBUaGUgcmVnZXggcGF0dGVybiB0byB0ZXN0IHdpdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdUZXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gVGVzdChkYXRhLCByZWdleCkge1xuICAgICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXgpO1xuICAgICAgcmV0dXJuIHJlZ2V4cC50ZXN0KGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGF0IHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ1JldmVyc2VMb29rdXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBSZXZlcnNlTG9va3VwKGRhdGEpIHtcbiAgICAgIGlmIChMb29rc0xpa2UuU2hhZGluZ1NjaGVtZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5DZWlsaW5nSGVpZ2h0KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnQ2VpbGluZ0hlaWdodCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuV2luZG93Q29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnV2luZG93Q29uc3RydWN0aW9uJztcbiAgICAgIH1cblxuICAgICAgaWYgKExvb2tzTGlrZS5ab25lV2luZG93KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnWm9uZVdpbmRvdyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChMb29rc0xpa2UuWm9uZURldGFpbChkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1pvbmVEZXRhaWwnO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLkZsb29yQ29uc3RydWN0aW9uKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAnRmxvb3JDb25zdHJ1Y3Rpb24nO1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9va3NMaWtlLlpvbmVGbG9vcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gJ1pvbmVGbG9vcic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9va3NMaWtlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMb29rc0xpa2U7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBBIGNsYXNzIHRvIGhhbmRsZSBwYXJzaW5nIGFuIGVudGlyZSBzY3JhdGNoIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuXG52YXIgX1NjcmF0Y2hGaWxlTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX1NjcmF0Y2hGaWxlTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JhdGNoRmlsZUxpbmUpO1xuXG52YXIgX0xvb2tzTGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfTG9va3NMaWtlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvb2tzTGlrZSk7XG5cbnZhciBfV2luZG93Q29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2luZG93Q29uc3RydWN0aW9uKTtcblxudmFyIF9ab25lV2luZG93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9ab25lV2luZG93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVXaW5kb3cpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSk7XG5cbnZhciBfQ2VpbGluZ0hlaWdodCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfQ2VpbGluZ0hlaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DZWlsaW5nSGVpZ2h0KTtcblxudmFyIF9ab25lRGV0YWlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9ab25lRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVEZXRhaWwpO1xuXG52YXIgX0Zsb29yQ29uc3RydWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbG9vckNvbnN0cnVjdGlvbik7XG5cbnZhciBfWm9uZUZsb29yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9ab25lRmxvb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZUZsb29yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFBhcnNlciA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gZmlsZSBBIHNjcmF0Y2hmaWxlIGFycmF5XG4gICAqL1xuICBmdW5jdGlvbiBQYXJzZXIoZmlsZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJzZXIpO1xuXG4gICAgdGhpcy53aW5kb3dDb25zdHJ1Y3Rpb25zID0gW107XG4gICAgdGhpcy56b25lV2luZG93cyA9IFtdO1xuICAgIHRoaXMuem9uZURldGFpbHMgPSBbXTtcbiAgICB0aGlzLnNoYWRpbmdTY2hlbWVzID0gW107XG4gICAgdGhpcy5jZWlsaW5nSGVpZ2h0cyA9IFtdO1xuXG4gICAgdGhpcy5maWxlID0gZmlsZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYXJzZXIsIFt7XG4gICAga2V5OiAncHJvY2VzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB2YXIgZGF0YUxpbmVzID0gdGhpcy5nZXREYXRhTGluZXMoKTtcblxuICAgICAgLy8gRmlsdGVyIHRoZSBhcnJheXMgdG8gb25seSBpbmNsdWRlIHRoZSByZWxhdGVkIGRhdGEsIHRoZW4gYnVpbGQgdGhlIGRhdGEgbGluZSBpbnRvIHRoZSBhcHByb3ByaWF0ZSBjbGFzc1xuICAgICAgdGhpcy53aW5kb3dDb25zdHJ1Y3Rpb25zID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnV2luZG93Q29uc3RydWN0aW9uJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAod2luZG93KSB7XG4gICAgICAgIHJldHVybiBfV2luZG93Q29uc3RydWN0aW9uMi5kZWZhdWx0LkJ1aWxkKHdpbmRvdyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy56b25lV2luZG93cyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVXaW5kb3cnO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uICh6b25lV2luZG93KSB7XG4gICAgICAgIHJldHVybiBfWm9uZVdpbmRvdzIuZGVmYXVsdC5CdWlsZCh6b25lV2luZG93KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNoYWRpbmdTY2hlbWVzID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChzaGFkaW5nKSB7XG4gICAgICAgIHJldHVybiBfSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUyLmRlZmF1bHQuQnVpbGQoc2hhZGluZyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jZWlsaW5nSGVpZ2h0cyA9IGRhdGFMaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF9Mb29rc0xpa2UyLmRlZmF1bHQuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0NlaWxpbmdIZWlnaHQnO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChjZWlsaW5nSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBfQ2VpbGluZ0hlaWdodDIuZGVmYXVsdC5CdWlsZChjZWlsaW5nSGVpZ2h0KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnpvbmVEZXRhaWxzID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZURldGFpbCc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHpvbmVEZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lRGV0YWlsMi5kZWZhdWx0LkJ1aWxkKHpvbmVEZXRhaWwpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZmxvb3JDb25zdHJ1Y3Rpb25zID0gZGF0YUxpbmVzLmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gX0xvb2tzTGlrZTIuZGVmYXVsdC5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnRmxvb3JDb25zdHJ1Y3Rpb24nO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChmbG9vckNvbnN0cnVjdGlvbikge1xuICAgICAgICByZXR1cm4gX0Zsb29yQ29uc3RydWN0aW9uMi5kZWZhdWx0LkJ1aWxkKGZsb29yQ29uc3RydWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnpvbmVGbG9vcnMgPSBkYXRhTGluZXMuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfTG9va3NMaWtlMi5kZWZhdWx0LlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lRmxvb3InO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uICh6b25lRmxvb3IpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lRmxvb3IyLmRlZmF1bHQuQnVpbGQoem9uZUZsb29yKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZXMgb2YgZGF0YSB0aGF0IG1hdGNoIGEgdHlwZSB3ZSdyZSBpbnRlcmVzdGVkIGluXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldERhdGFMaW5lcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFMaW5lcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbGUuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiBfU2NyYXRjaEZpbGVMaW5lMi5kZWZhdWx0LkJ1aWxkKGxpbmUpICE9PSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFdpbmRvd0NvbnN0cnVjdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaW5kb3dDb25zdHJ1Y3Rpb25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMud2luZG93Q29uc3RydWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRab25lV2luZG93cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFpvbmVXaW5kb3dzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZVdpbmRvd3M7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2hhZGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNoYWRpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGFkaW5nU2NoZW1lcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDZWlsaW5nSGVpZ2h0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENlaWxpbmdIZWlnaHRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2VpbGluZ0hlaWdodHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Wm9uZURldGFpbHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab25lRGV0YWlscygpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVEZXRhaWxzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEZsb29yQ29uc3RydWN0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZsb29yQ29uc3RydWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLmZsb29yQ29uc3RydWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRab25lRmxvb3JzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Wm9uZUZsb29ycygpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVGbG9vcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBkYXRhIGluIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBkZWNvbnN0cnVjdGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRBbGxEYXRhJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsRGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpbmRvd0NvbnN0cnVjdGlvbnM6IHRoaXMuZ2V0V2luZG93Q29uc3RydWN0aW9ucygpLFxuICAgICAgICB6b25lV2luZG93czogdGhpcy5nZXRab25lV2luZG93cygpLFxuICAgICAgICBzaGFkaW5nOiB0aGlzLmdldFNoYWRpbmcoKSxcbiAgICAgICAgY2VpbGluZ0hlaWdodHM6IHRoaXMuZ2V0Q2VpbGluZ0hlaWdodHMoKSxcbiAgICAgICAgem9uZURldGFpbHM6IHRoaXMuZ2V0Wm9uZURldGFpbHMoKSxcbiAgICAgICAgZmxvb3JDb25zdHJ1Y3Rpb25zOiB0aGlzLmdldEZsb29yQ29uc3RydWN0aW9ucygpLFxuICAgICAgICB6b25lRmxvb3JzOiB0aGlzLmdldFpvbmVGbG9vcnMoKVxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFyc2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJzZXI7XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX09yaWVudGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbnZhciBfT3JpZW50YXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3JpZW50YXRpb24pO1xuXG52YXIgX0dyb3VuZEZsb29yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciBfR3JvdW5kRmxvb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdW5kRmxvb3IpO1xuXG52YXIgX1pvbmVXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdyk7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBSZXN1bHRzQnVpbGRlclxuICpcbiAqIFRoaXMgY2xhc3Mgd2lsbCB0YWtlIHZhcmlvdXMgYXJyYXlzIG9mIGRhdGEgbGluZXMsIGJ1aWxkIHRoZW0gaW50byB0aGVpciBhcHByb3ByaWF0ZSBjbGFzc2VzLFxuICogbGluayB0aGVtIHRocm91Z2ggdmFyaW91cyBJRCdzLCBhbmQgdGhlbiBjcmVhdGUgbXVsdGlwbGUgb3V0cHV0IGxpbmVzXG4gKi9cblxudmFyIFJlc3VsdHNCdWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZXN1bHRzQnVpbGRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdWx0c0J1aWxkZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc3VsdHNCdWlsZGVyLCBudWxsLCBbe1xuICAgIGtleTogJ0NvbXBpbGUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIHRoZSB2YXJpb3VzIGFycmF5cyBpbnRvIGEgc2luZ2xlIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB3aW5kb3dDb25zdHJ1Y3Rpb25zXG4gICAgICogQHBhcmFtIHthcnJheX0gem9uZVdpbmRvd3NcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBzaGFkaW5nXG4gICAgICogQHBhcmFtIHthcnJheX0gY2VpbGluZ0hlaWdodHNcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRGV0YWlsc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IGZsb29yQ29uc3RydWN0aW9uc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IHpvbmVGbG9vcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBDb21waWxlKF9yZWYpIHtcbiAgICAgIHZhciB3aW5kb3dDb25zdHJ1Y3Rpb25zID0gX3JlZi53aW5kb3dDb25zdHJ1Y3Rpb25zLFxuICAgICAgICAgIHpvbmVXaW5kb3dzID0gX3JlZi56b25lV2luZG93cyxcbiAgICAgICAgICBzaGFkaW5nID0gX3JlZi5zaGFkaW5nLFxuICAgICAgICAgIGNlaWxpbmdIZWlnaHRzID0gX3JlZi5jZWlsaW5nSGVpZ2h0cyxcbiAgICAgICAgICB6b25lRGV0YWlscyA9IF9yZWYuem9uZURldGFpbHMsXG4gICAgICAgICAgZmxvb3JDb25zdHJ1Y3Rpb25zID0gX3JlZi5mbG9vckNvbnN0cnVjdGlvbnMsXG4gICAgICAgICAgem9uZUZsb29ycyA9IF9yZWYuem9uZUZsb29ycztcblxuICAgICAgcmV0dXJuIHpvbmVEZXRhaWxzLm1hcChmdW5jdGlvbiAoem9uZSkge1xuICAgICAgICAvLyBGaWx0ZXIgdGhlIHpvbmUgd2luZG93cyBmb3Igb25seSB3aW5kb3dzIGluIHRoaXMgem9uZSwgYW5kIHRoZW4gbWFwIHRoZSB3aW5kb3cgY29uc3RydWN0aW9uLCBzaGFkaW5nIGFuZCBjZWlsaW5nIGhlaWdodCBkZXRhaWxzXG4gICAgICAgIHZhciB3aW5kb3dzID0gem9uZVdpbmRvd3MuZmlsdGVyKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LnpvbmVJZCA9PT0gem9uZS5pZDtcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uICh6b25lV2luZG93KSB7XG4gICAgICAgICAgdmFyIGNvbnN0cnVjdGlvbiA9IHdpbmRvd0NvbnN0cnVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ucy5pZCA9PT0gem9uZVdpbmRvdy5nZXRXaW5kb3dJZCgpO1xuICAgICAgICAgIH0pWzBdO1xuICAgICAgICAgIHZhciBzaGFkaW5nU2NoZW1lID0gc2hhZGluZy5maWx0ZXIoZnVuY3Rpb24gKHNoYWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcxSWQoKSB8fCBzaGFkZS5nZXRJZCgpID09PSB6b25lV2luZG93LmdldEhvcml6U2hhZGluZzJJZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBjZWlsaW5nSGVpZ2h0ID0gY2VpbGluZ0hlaWdodHMuZmlsdGVyKGZ1bmN0aW9uIChjZWlsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VpbGluZy5nZXRab25lSWQoKSA9PT0gem9uZS5nZXRJZCgpO1xuICAgICAgICAgIH0pWzBdO1xuXG4gICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB6b25lV2luZG93LCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rpb246IGNvbnN0cnVjdGlvbixcbiAgICAgICAgICAgIHNoYWRpbmc6IHNoYWRpbmdTY2hlbWUsXG4gICAgICAgICAgICBjZWlsaW5nSGVpZ2h0OiBjZWlsaW5nSGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmbG9vcnMgPSB6b25lRmxvb3JzLmZpbHRlcihmdW5jdGlvbiAoem9uZUZsb29yKSB7XG4gICAgICAgICAgcmV0dXJuIHpvbmVGbG9vci56b25lSWQgPT09IHpvbmUuaWQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoem9uZUZsb29yKSB7XG4gICAgICAgICAgdmFyIGNvbnN0cnVjdGlvbiA9IGZsb29yQ29uc3RydWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGZsb29yQ29uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmxvb3JDb24uaWQgPT09IHpvbmVGbG9vci5jb25zdHJ1Y3Rpb25JZDtcbiAgICAgICAgICB9KVswXTtcblxuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgem9uZUZsb29yLCBjb25zdHJ1Y3Rpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB6b25lLmdldElkKCksXG4gICAgICAgICAgbmFtZTogem9uZS5nZXROYW1lKCksXG4gICAgICAgICAgd2luZG93czogd2luZG93cyxcbiAgICAgICAgICBvbkdyb3VuZEZsb29yOiBfR3JvdW5kRmxvb3IyLmRlZmF1bHQuVGVzdChmbG9vcnMpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgem9uZXMgYXJyYXkgaW50byBhIGZsYXR0IGFycmF5IHJlYWR5IGZvciBjb252ZXJzaW9uIHRvIENTVlxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gIHpvbmVzICAgICBUaGUgem9uZXMgYXJyYXkgY3JlYXRlZCBpbiBSZXN1bHRzQnVpbGRlci5Db21waWxlKClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFtPcHRpb25hbF0gUmVmZXJlbmNlIE5vcnRoIGF6aW11dGguIERlZmF1bHQgMFxuICAgICAqXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdCdWlsZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKHpvbmVzKSB7XG4gICAgICB2YXIgcmVmZXJlbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICB2YXIgY3N2ID0gem9uZXMubWFwKGZ1bmN0aW9uICh6b25lKSB7XG4gICAgICAgIHZhciB3aW5kb3dDc3YgPSB6b25lLndpbmRvd3MubWFwKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgICB2YXIgcHJvamVjdGlvbiA9ICcnO1xuICAgICAgICAgIHZhciBlYXZlT2Zmc2V0ID0gJyc7XG4gICAgICAgICAgdmFyIHBlcmdvbGFPZmZzZXQgPSAnJztcbiAgICAgICAgICBpZiAod2luZG93LnNoYWRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbiA9IHdpbmRvdy5zaGFkaW5nWzBdLnByb2plY3Rpb247XG4gICAgICAgICAgICBlYXZlT2Zmc2V0ID0gd2luZG93LnNoYWRpbmdbMF0uZWF2ZU9mZnNldDtcbiAgICAgICAgICAgIHBlcmdvbGFPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5wZXJnb2xhT2Zmc2V0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBbem9uZS5uYW1lLCAnJywgX09yaWVudGF0aW9uMi5kZWZhdWx0LkdldCh3aW5kb3cuYXppbXV0aCwgcmVmZXJlbmNlKSwgd2luZG93LmhlaWdodCwgd2luZG93LndpZHRoLCBwcm9qZWN0aW9uLCBfWm9uZVdpbmRvdzIuZGVmYXVsdC5IZWFkSGVpZ2h0KHdpbmRvdy5oZWlnaHQsIGVhdmVPZmZzZXQpLCB3aW5kb3cuY29uc3RydWN0aW9uLm5hbWUsIHdpbmRvdy5jZWlsaW5nSGVpZ2h0LmhlaWdodCwgZWF2ZU9mZnNldCwgcGVyZ29sYU9mZnNldCwgem9uZS5vbkdyb3VuZEZsb29yID8gJzAnIDogJyddO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBbiBlbXB0eSB3aW5kb3dDc3YgbmVlZHMgdG8gYmUgcmV0dXJuZWQgaW5zaWRlIGFuIGFycmF5IGl0c2VsZiwgaW4gb3JkZXIgdG8gd29yayB3aXRoIHRoZSBmbGF0dGVuIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiB3aW5kb3dDc3YubGVuZ3RoID4gMCA/IHdpbmRvd0NzdiA6IFt3aW5kb3dDc3ZdO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLmZsYXR0ZW4pKGNzdik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc3VsdHNCdWlsZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXN1bHRzQnVpbGRlcjtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENsYXNzIEdyb3VuZEZsb29yXG4gKi9cbnZhciBHcm91bmRGbG9vciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR3JvdW5kRmxvb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyb3VuZEZsb29yKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHcm91bmRGbG9vciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiVGVzdFwiLFxuXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGFueSBvZiB0aGUgcHJvdmlkZWQgZmxvb3JzIGhhdmUgYSBDU09HIGNvbnN0cnVjdGlvbiwgaW5kaWNhdGluZyB0aGUgem9uZSBpcyBsaWtlbHkgb24gdGhlIGdyb3VuZCBmbG9vclxuICAgICAqXG4gICAgICogQHBhcmFtIHthcnJheX0gZmxvb3JzIFRoZSBmbG9vcnMgdG8gY2hlY2sgZm9yIENTT0dcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBUZXN0KGZsb29ycykge1xuICAgICAgcmV0dXJuIGZsb29ycy5maWx0ZXIoZnVuY3Rpb24gKGZsb29yKSB7XG4gICAgICAgIHJldHVybiBmbG9vci5pc0Nzb2c7XG4gICAgICB9KS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHcm91bmRGbG9vcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JvdW5kRmxvb3I7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDbGFzcyBPcmllbnRhdGlvblxuICovXG52YXIgT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE9yaWVudGF0aW9uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmllbnRhdGlvbik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoT3JpZW50YXRpb24sIG51bGwsIFt7XG4gICAga2V5OiAnR2V0JyxcblxuXG4gICAgLyoqXG4gICAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhemltdXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXppbXV0aCAgIEF6aW11dGggdmFsdWUgYmVpbmcgY2hhbmdlZCB0byBvcmllbnRhdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcmVuY2UgUmVmZXJlbmNlIGF6aW11dGggZm9yIE5vcnRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEdldChhemltdXRoLCByZWZlcmVuY2UpIHtcbiAgICAgIHZhciBhemltdXRoSW50ID0gcGFyc2VJbnQoYXppbXV0aCwgMTApO1xuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9FKSkge1xuICAgICAgICByZXR1cm4gJ05FJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX0UpKSB7XG4gICAgICAgIHJldHVybiAnRSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TX0UpKSB7XG4gICAgICAgIHJldHVybiAnU0UnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fUykpIHtcbiAgICAgICAgcmV0dXJuICdTJztcbiAgICAgIH1cblxuICAgICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1NfVykpIHtcbiAgICAgICAgcmV0dXJuICdTVyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19XKSkge1xuICAgICAgICByZXR1cm4gJ1cnO1xuICAgICAgfVxuXG4gICAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9XKSkge1xuICAgICAgICByZXR1cm4gJ05XJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdOJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdJcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIElzKGF6aW11dGgsIHJlZmVyZW5jZSwgbGltaXRzKSB7XG4gICAgICB2YXIgdmVjdG9yID0ge1xuICAgICAgICB1cHBlcjogT3JpZW50YXRpb24uTm9ybWFsaXplKHBhcnNlSW50KHJlZmVyZW5jZSwgMTApICsgbGltaXRzLnVwcGVyKSxcbiAgICAgICAgbG93ZXI6IE9yaWVudGF0aW9uLk5vcm1hbGl6ZShwYXJzZUludChyZWZlcmVuY2UsIDEwKSArIGxpbWl0cy5sb3dlcilcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhemltdXRoID49IHZlY3Rvci5sb3dlciAmJiBhemltdXRoIDw9IHZlY3Rvci51cHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgYSB2YWx1ZSB0byBiZSB3aXRoaW4gdGhlIDAtMzYwIHJhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ludH0gbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7aW50fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdOb3JtYWxpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBOb3JtYWxpemUobnVtYmVyKSB7XG4gICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gMzYwIC0gTWF0aC5hYnMobnVtYmVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG51bWJlciA+IDM2MCkge1xuICAgICAgICByZXR1cm4gbnVtYmVyIC0gMzYwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBPcmllbnRhdGlvbjtcbn0oKTtcblxuT3JpZW50YXRpb24uQ09OU1RfX04gPSB7IGxvd2VyOiAyMiwgdXBwZXI6IDMzOCB9O1xuT3JpZW50YXRpb24uQ09OU1RfX05fRSA9IHsgbG93ZXI6IDIzLCB1cHBlcjogNjcgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19FID0geyBsb3dlcjogNjgsIHVwcGVyOiAxMTIgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19TX0UgPSB7IGxvd2VyOiAxMTMsIHVwcGVyOiAxNTcgfTtcbk9yaWVudGF0aW9uLkNPTlNUX19TID0geyBsb3dlcjogMTU4LCB1cHBlcjogMjAyIH07XG5PcmllbnRhdGlvbi5DT05TVF9fU19XID0geyBsb3dlcjogMjAzLCB1cHBlcjogMjQ3IH07XG5PcmllbnRhdGlvbi5DT05TVF9fVyA9IHsgbG93ZXI6IDI0OCwgdXBwZXI6IDI5MiB9O1xuT3JpZW50YXRpb24uQ09OU1RfX05fVyA9IHsgbG93ZXI6IDI5MywgdXBwZXI6IDMzNyB9O1xuZXhwb3J0cy5kZWZhdWx0ID0gT3JpZW50YXRpb247XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9DZWlsaW5nSGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NlaWxpbmdIZWlnaHQpO1xuXG52YXIgX0hvcml6b250YWxTaGFkaW5nU2NoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSk7XG5cbnZhciBfTG9va3NMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9Mb29rc0xpa2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9va3NMaWtlKTtcblxudmFyIF9XaW5kb3dDb25zdHJ1Y3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX1dpbmRvd0NvbnN0cnVjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XaW5kb3dDb25zdHJ1Y3Rpb24pO1xuXG52YXIgX1pvbmVXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX1pvbmVXaW5kb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWm9uZVdpbmRvdyk7XG5cbnZhciBfWm9uZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfWm9uZURldGFpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ab25lRGV0YWlsKTtcblxudmFyIF9GbG9vckNvbnN0cnVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfRmxvb3JDb25zdHJ1Y3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxvb3JDb25zdHJ1Y3Rpb24pO1xuXG52YXIgX1pvbmVGbG9vciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfWm9uZUZsb29yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1pvbmVGbG9vcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ2xhc3MgU2NyYXRjaEZpbGVMaW5lXG4gKi9cbnZhciBTY3JhdGNoRmlsZUxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjcmF0Y2hGaWxlTGluZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NyYXRjaEZpbGVMaW5lKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JhdGNoRmlsZUxpbmUsIG51bGwsIFt7XG4gICAga2V5OiAnQnVpbGQnLFxuXG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhIGRhdGEgbGluZSBpbnRvIHRoZSBhcHByb3ByaWF0ZSBjbGFzcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHBhcnNlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fGJvb2xlYW59XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJ1aWxkKGRhdGEpIHtcbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LlNoYWRpbmdTY2hlbWUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZTIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuQ2VpbGluZ0hlaWdodChkYXRhKSkge1xuICAgICAgICByZXR1cm4gX0NlaWxpbmdIZWlnaHQyLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LldpbmRvd0NvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgICByZXR1cm4gX1dpbmRvd0NvbnN0cnVjdGlvbjIuZGVmYXVsdC5CdWlsZChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9Mb29rc0xpa2UyLmRlZmF1bHQuWm9uZVdpbmRvdyhkYXRhKSkge1xuICAgICAgICByZXR1cm4gX1pvbmVXaW5kb3cyLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfTG9va3NMaWtlMi5kZWZhdWx0LlpvbmVEZXRhaWwoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lRGV0YWlsMi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5GbG9vckNvbnN0cnVjdGlvbihkYXRhKSkge1xuICAgICAgICByZXR1cm4gX0Zsb29yQ29uc3RydWN0aW9uMi5kZWZhdWx0LkJ1aWxkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX0xvb2tzTGlrZTIuZGVmYXVsdC5ab25lRmxvb3IoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIF9ab25lRmxvb3IyLmRlZmF1bHQuQnVpbGQoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2NyYXRjaEZpbGVMaW5lO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTY3JhdGNoRmlsZUxpbmU7XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbi8qKlxuICogRmxhdHRlbiBhcnJheSAxIGxldmVsXG4gKlxuICogQHBhcmFtIHthcnJheX0gYXJyIEFycnlhIHRvIGZsYXR0ZW5cbiAqXG4gKiBAcmV0dXJucyB7YXJyYXl9XG4gKi9cbnZhciBmbGF0dGVuID0gZXhwb3J0cy5mbGF0dGVuID0gZnVuY3Rpb24gZmxhdHRlbihhcnIpIHtcbiAgdmFyIF9BcnJheSRwcm90b3R5cGU7XG5cbiAgcmV0dXJuIChfQXJyYXkkcHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlKS5jb25jYXQuYXBwbHkoX0FycmF5JHByb3RvdHlwZSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycikpO1xufTtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX1BhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnNlcik7XG5cbnZhciBfUmVzdWx0c0J1aWxkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX1Jlc3VsdHNCdWlsZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jlc3VsdHNCdWlsZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbm9ubWVzc2FnZSA9IGZ1bmN0aW9uIG9ubWVzc2FnZShfcmVmKSB7XG4gIHZhciBkYXRhID0gX3JlZi5kYXRhO1xuXG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2NyYXRjaEZpbGUgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoJ1xcclxcbicpO1xuICAgIHZhciBwYXJzZXIgPSBuZXcgX1BhcnNlcjIuZGVmYXVsdChzY3JhdGNoRmlsZSk7XG4gICAgcGFyc2VyLnByb2Nlc3MoKTtcblxuICAgIHZhciB6b25lcyA9IF9SZXN1bHRzQnVpbGRlcjIuZGVmYXVsdC5Db21waWxlKHBhcnNlci5nZXRBbGxEYXRhKCkpO1xuICAgIHZhciBncm91bmRGbG9vciA9IHpvbmVzLmZpbHRlcihmdW5jdGlvbiAoem9uZSkge1xuICAgICAgcmV0dXJuIHpvbmUub25Hcm91bmRGbG9vcjtcbiAgICB9KTtcbiAgICB2YXIgb3RoZXJGbG9vciA9IHpvbmVzLmZpbHRlcihmdW5jdGlvbiAoem9uZSkge1xuICAgICAgcmV0dXJuICF6b25lLm9uR3JvdW5kRmxvb3I7XG4gICAgfSk7XG4gICAgdmFyIHNvcnRlZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZ3JvdW5kRmxvb3IpLCBfdG9Db25zdW1hYmxlQXJyYXkob3RoZXJGbG9vcikpO1xuICAgIHZhciByZXN1bHRzID0gX1Jlc3VsdHNCdWlsZGVyMi5kZWZhdWx0LkJ1aWxkKHNvcnRlZCwgZGF0YS5yZWZlcmVuY2UpO1xuXG4gICAgcG9zdE1lc3NhZ2UoeyByZXN1bHRzOiByZXN1bHRzIH0pO1xuICB9O1xuXG4gIHJlYWRlci5hYm9ydCgpO1xuICByZWFkZXIucmVhZEFzVGV4dChkYXRhLmZpbGUpO1xufTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3b3JrZXIuZTA3ODBkZTE2MGVmN2MyMjNjMzUuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBlMDc4MGRlMTYwZWY3YzIyM2MzNSIsIi8qKlxuICogQ2xhc3MgRmxvb3JDb25zdHJ1Y3Rpb25cbiAqL1xuY2xhc3MgRmxvb3JDb25zdHJ1Y3Rpb24ge1xuXG4gIHN0YXRpYyBDb25zdHJ1Y3Rpb25JZFJlZ2V4ID0gJygyNFsxLTldfDJbNS05XVxcXFxkfDNbMS0zXVxcXFxkfDM0MCknO1xuICBzdGF0aWMgUmVnZXggPSBgXiAyJHtGbG9vckNvbnN0cnVjdGlvbi5Db25zdHJ1Y3Rpb25JZFJlZ2V4fWA7XG4gIHN0YXRpYyBDU09HUmVnZXggPSAnXiAyKDI0WzEtOV18Mls1LTldXFxcXGR8M1sxLTNdXFxcXGR8MzQwKSAgICguezd9KSooIDE4IDEwMCknO1xuXG4gIGlkID0gJyc7XG4gIGlzQ3NvZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgICBjb25zdCBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLmlkID0gZGF0YVsxXS50cmltKCk7XG4gICAgdGhpcy5pc0Nzb2cgPSBGbG9vckNvbnN0cnVjdGlvbi5UZXN0Q3NvZyhsaW5lRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb25zdHJ1Y3Rpb24gaWQgdGhhdCB0aGlzIGZsb29yIGNvbnN0cnVjdGlvbiBiZWxvbmdzIHRvXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZS9mYWxzZSBpbmRpY2F0aW5nIGlmIHRoZSBmbG9vcmluZyB0eXBlIGluIHRoZSB6b25lIGlzIENTT0dcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXRJc0Nzb2coKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDc29nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgdGhlIGRhdGEgbGluZSB0byBzZWUgaWYgdGhlcmUgaXMgY29uY3JldGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgVGVzdENzb2cobGluZURhdGEpIHtcbiAgICBjb25zdCBjc29nUmVnZXggPSBuZXcgUmVnRXhwKEZsb29yQ29uc3RydWN0aW9uLkNTT0dSZWdleCk7XG4gICAgcmV0dXJuIGNzb2dSZWdleC50ZXN0KGxpbmVEYXRhKTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBGbG9vckNvbnN0cnVjdGlvbihkYXRhKTtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpLFxuICAgICAgaXNDc29nOiB0aGlzLmdldElzQ3NvZygpXG4gICAgfTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZsb29yQ29uc3RydWN0aW9uO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0Zsb29yQ29uc3RydWN0aW9uLmpzIiwiLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB3aW5kb3cgaW5mb3JtYXRpb24gaW5zaWRlIGEgem9uZSBzZWN0aW9uXG4gKi9cbmNsYXNzIFpvbmVXaW5kb3cge1xuXG4gIHN0YXRpYyBDT05TVF9fWk9ORV9JRCA9IDE7XG4gIHN0YXRpYyBDT05TVF9fV0lORE9XX0lEID0gMjtcbiAgc3RhdGljIENPTlNUX19IRUlHSFQgPSA2O1xuICBzdGF0aWMgQ09OU1RfX1dJRFRIID0gNztcbiAgc3RhdGljIENPTlNUX19BWklNVVRIID0gODtcbiAgc3RhdGljIENPTlNUX19IT1JaX1NIQURJTkdfMSA9IDk7XG4gIHN0YXRpYyBDT05TVF9fSE9SWl9TSEFESU5HXzIgPSAxMDtcblxuICBzdGF0aWMgUmVnZXggPSAnXiAzKC57M30pKCggKDEwKXwoICBbMC05XSkpKSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSguezZ9KSc7XG5cbiAgem9uZUlkID0gJyc7XG4gIHdpbmRvd0lkID0gJyc7XG4gIGhlaWdodCA9ICcnO1xuICB3aWR0aCA9ICcnO1xuICBhemltdXRoID0gJyc7XG4gIGhlYWRIZWlnaHQgPSAnJzsgLy8gVGhpcyB2YWx1ZSBpc24ndCB1c2VkLCBqdXN0IGhlcmUgdG8gaXQgY2FuIGhvbGQgYW4gZW1wdHkgY2VsbCBpbiB0aGUgb3V0cHV0IENTVlxuICBob3JpelNoYWRpbmcxSWQgPSAnJztcbiAgaG9yaXpTaGFkaW5nMklkID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoWm9uZVdpbmRvdy5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX1pPTkVfSURdLnRyaW0oKTtcbiAgICB0aGlzLndpbmRvd0lkID0gZGF0YVtab25lV2luZG93LkNPTlNUX19XSU5ET1dfSURdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSEVJR0hUXS50cmltKCk7XG4gICAgdGhpcy53aWR0aCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fV0lEVEhdLnRyaW0oKTtcbiAgICB0aGlzLmF6aW11dGggPSBkYXRhW1pvbmVXaW5kb3cuQ09OU1RfX0FaSU1VVEhdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzFJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzFdLnRyaW0oKTtcbiAgICB0aGlzLmhvcml6U2hhZGluZzJJZCA9IGRhdGFbWm9uZVdpbmRvdy5DT05TVF9fSE9SWl9TSEFESU5HXzJdLnRyaW0oKTtcbiAgfVxuXG4gIGdldFpvbmVJZCgpIHtcbiAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gIH1cblxuICBnZXRXaW5kb3dJZCgpIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3dJZDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgfVxuXG4gIGdldEF6aW11dGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXppbXV0aDtcbiAgfVxuXG4gIGdldEhlYWRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZEhlaWdodDtcbiAgfVxuXG4gIGdldEhvcml6U2hhZGluZzFJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3JpelNoYWRpbmcxSWQ7XG4gIH1cblxuICBnZXRIb3JpelNoYWRpbmcySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9yaXpTaGFkaW5nMklkO1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHpvbmVJZDogdGhpcy5nZXRab25lSWQoKSxcbiAgICAgIHdpbmRvd0lkOiB0aGlzLmdldFdpbmRvd0lkKCksXG4gICAgICBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCksXG4gICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgYXppbXV0aDogdGhpcy5nZXRBemltdXRoKCksXG4gICAgICBoZWFkSGVpZ2h0OiB0aGlzLmdldEhlYWRIZWlnaHQoKSxcbiAgICAgIGhvcml6U2hhZGluZzFJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcxSWQoKSxcbiAgICAgIGhvcml6U2hhZGluZzJJZDogdGhpcy5nZXRIb3JpelNoYWRpbmcySWQoKVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIHJldHVybiBuZXcgWm9uZVdpbmRvdyhkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIEhlYWQgSGVpZ2h0IG9mIGEgd2luZG93IGZyb20gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93IGFuZCB0aGUgZWF2ZSBvZmZzZXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHdpbmRvd0hlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVhdmVPZmZzZXQgICBUaGUgZWF2ZSBvZmZzZXQgb2YgdGhlIHdpbmRvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgc3RhdGljIEhlYWRIZWlnaHQod2luZG93SGVpZ2h0LCBlYXZlT2Zmc2V0KSB7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0RmxvYXQgPSB3aW5kb3dIZWlnaHQgPT09ICcnID8gMCA6IHBhcnNlRmxvYXQod2luZG93SGVpZ2h0KTtcbiAgICBjb25zdCBlYXZlT2Zmc2V0RmxvYXQgPSBlYXZlT2Zmc2V0ID09PSAnJyA/IDAgOiBwYXJzZUZsb2F0KGVhdmVPZmZzZXQpO1xuICAgIHJldHVybiAod2luZG93SGVpZ2h0RmxvYXQgKyBlYXZlT2Zmc2V0RmxvYXQpLnRvRml4ZWQoMikudG9TdHJpbmcoKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVXaW5kb3c7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvWm9uZVdpbmRvdy5qcyIsIi8qKlxuICogQ2xhc3MgQ2VpbGluZ0hlaWdodFxuICovXG5jbGFzcyBDZWlsaW5nSGVpZ2h0IHtcblxuICBzdGF0aWMgUmVnZXggPSAnXiAzKC57M30pNzAwKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJztcblxuICB6b25lSWQgPSAnJztcbiAgaGVpZ2h0ID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoQ2VpbGluZ0hlaWdodC5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy56b25lSWQgPSBkYXRhWzFdLnRyaW0oKTtcbiAgICB0aGlzLmhlaWdodCA9IGRhdGFbM10udHJpbSgpO1xuICB9XG5cbiAgZ2V0Wm9uZUlkKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVJZDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgem9uZUlkOiB0aGlzLmdldFpvbmVJZCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBDZWlsaW5nSGVpZ2h0KGRhdGEpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2VpbGluZ0hlaWdodDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9DZWlsaW5nSGVpZ2h0LmpzIiwiLyoqXG4gKiBCcmVhayB0aGUgSG9yaXpvbnRhbCBTaGFkaW5nIFNjaGVtZSBkYXRhIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xuY2xhc3MgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUge1xuXG4gIC8qKlxuICAgKiBDb25zdGFudHMgdGhhdCBtYXAgdGhlIHZhcmlvdXMgYml0cyBvZiBkYXRhIHRvIHRoZSBzZWN0aW9uIG9mIHJlZ2V4XG4gICAqL1xuICBzdGF0aWMgQ09OU1RfX0lEID0gMTtcbiAgc3RhdGljIENPTlNUX19FQVZFX1BST0pFQ1RJT04gPSAyO1xuICBzdGF0aWMgQ09OU1RfX0VBVkVfT0ZGU0VUID0gMztcbiAgc3RhdGljIENPTlNUX19QRVJHT0xBX1BST0pFQ1RJT04gPSA2O1xuICBzdGF0aWMgQ09OU1RfX1BFUkdPTEFfT0ZGU0VUID0gNztcblxuICBzdGF0aWMgUmVnZXggPSAnXiAxIDIwKC57M30pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pKC57Nn0pJCc7XG5cbiAgaWQgPSAnJztcbiAgZWF2ZVByb2plY3Rpb24gPSAnJztcbiAgZWF2ZU9mZnNldCA9ICcnO1xuICBwZXJnb2xhUHJvamVjdGlvbiA9ICcnO1xuICBwZXJnb2xhT2Zmc2V0ID0gJyc7XG4gIHByb2plY3Rpb24gPSAnJztcblxuICBjb25zdHJ1Y3RvcihsaW5lRGF0YSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0lEXS50cmltKCk7XG4gICAgdGhpcy5lYXZlUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMuZWF2ZU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX0VBVkVfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wZXJnb2xhUHJvamVjdGlvbiA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfUFJPSkVDVElPTl0udHJpbSgpO1xuICAgIHRoaXMucGVyZ29sYU9mZnNldCA9IGRhdGFbSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuQ09OU1RfX1BFUkdPTEFfT0ZGU0VUXS50cmltKCk7XG4gICAgdGhpcy5wcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBoaWdoZXN0IHByb2plY3Rpb24gdmFsdWUgYW5kIHJldHVyblxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmdldEVhdmVQcm9qZWN0aW9uKCkpID4gcGFyc2VGbG9hdCh0aGlzLmdldFBlcmdvbGFQcm9qZWN0aW9uKCkpID9cbiAgICAgIHRoaXMuZ2V0RWF2ZVByb2plY3Rpb24oKSA6XG4gICAgICB0aGlzLmdldFBlcmdvbGFQcm9qZWN0aW9uKCk7XG5cbiAgICByZXR1cm4gSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUuUm91bmRWYWx1ZShwcm9qZWN0aW9uKTtcbiAgfVxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG5cbiAgZ2V0RWF2ZU9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5lYXZlT2Zmc2V0O1xuICB9XG5cbiAgZ2V0RWF2ZVByb2plY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWF2ZVByb2plY3Rpb247XG4gIH1cblxuICBnZXRQZXJnb2xhT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLnBlcmdvbGFPZmZzZXQ7XG4gIH1cblxuICBnZXRQZXJnb2xhUHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wZXJnb2xhUHJvamVjdGlvbjtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgcHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKCksXG4gICAgICBvZmZzZXQ6IHtcbiAgICAgICAgZWF2ZTogdGhpcy5nZXRFYXZlT2Zmc2V0KCksXG4gICAgICAgIHBlcmdvbGE6IHRoaXMuZ2V0UGVyZ29sYU9mZnNldCgpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZShkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3VuZCB0aGUgcHJvdmlkZWQgdmFsdWUgKHByb2plY3Rpb24pIHRvIHRoZSBuZWFyZXN0IDAuMDVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byByb3VuZFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIFJvdW5kVmFsdWUodmFsdWUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNDEzNjAyLzE1NjA1OTNcbiAgICByZXR1cm4gKE1hdGgucm91bmQodmFsdWUgKiAyMCkgLyAyMCkudG9GaXhlZCgyKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0hvcml6b250YWxTaGFkaW5nU2NoZW1lLmpzIiwiLyoqXG4gKiBCcmVhayBhIFdpbmRvdyBjb25zdHJ1Y3Rpb24gZGF0YSBsaW5lIGludG8gaXRzIHZhcmlvdXMgcGFydHNcbiAqL1xuY2xhc3MgV2luZG93Q29uc3RydWN0aW9uIHtcblxuICBzdGF0aWMgQ09OU1RfX0lEID0gMztcbiAgc3RhdGljIENPTlNUX19OQU1FID0gJyc7XG5cbiAgc3RhdGljIFJlZ2V4ID0gJ14gXFxcXGQoLnszfSlbIFxcXFxkXSooW2EtekEtWl1bYS16QS1aXFxcXC1cXFxcZCZdezl9WyBhLXpBLVpdW2EtekEtWl0/KSc7XG5cbiAgaWQgPSAnJztcbiAgbmFtZSA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGxpbmVEYXRhKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFdpbmRvd0NvbnN0cnVjdGlvbi5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMubmFtZSA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgdG9PYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBXaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBXaW5kb3dDb25zdHJ1Y3Rpb247XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvV2luZG93Q29uc3RydWN0aW9uLmpzIiwiLyoqXG4gKiBDbGFzcyBab25lRGV0YWlsXG4gKi9cbmNsYXNzIFpvbmVEZXRhaWwge1xuXG4gIHN0YXRpYyBSZWdleCA9ICdeQyBaMDA/KFxcXFxkezEsM30pID0+ICguKikkJztcblxuICBpZCA9ICcnO1xuICBuYW1lID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoWm9uZURldGFpbC5SZWdleCk7XG4gICAgY29uc3QgZGF0YSA9IHJlZ2V4LmV4ZWMobGluZURhdGEpO1xuXG4gICAgdGhpcy5pZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMubmFtZSA9IGRhdGFbMl0udHJpbSgpO1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICB0b09iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgIG5hbWU6IHRoaXMuZ2V0TmFtZSgpXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBab25lRGV0YWlsKGRhdGEpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9uZURldGFpbDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9ab25lRGV0YWlsLmpzIiwiaW1wb3J0IEZsb29yQ29uc3RydWN0aW9uIGZyb20gJy4vRmxvb3JDb25zdHJ1Y3Rpb24nO1xuLyoqXG4gKiBDbGFzcyBab25lRmxvb3JcbiAqL1xuY2xhc3MgWm9uZUZsb29yIHtcblxuICBzdGF0aWMgUmVnZXggPSBgIDMoLi4uKSgke0Zsb29yQ29uc3RydWN0aW9uLkNvbnN0cnVjdGlvbklkUmVnZXh9KWA7XG5cbiAgem9uZUlkID0gJyc7XG4gIGNvbnN0cnVjdGlvbklkID0gJyc7XG5cbiAgY29uc3RydWN0b3IobGluZURhdGEpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoWm9uZUZsb29yLlJlZ2V4KTtcbiAgICBjb25zdCBkYXRhID0gcmVnZXguZXhlYyhsaW5lRGF0YSk7XG5cbiAgICB0aGlzLnpvbmVJZCA9IGRhdGFbMV0udHJpbSgpO1xuICAgIHRoaXMuY29uc3RydWN0aW9uSWQgPSBkYXRhWzJdLnRyaW0oKTtcbiAgfVxuXG4gIGdldFpvbmVJZCgpIHtcbiAgICByZXR1cm4gdGhpcy56b25lSWQ7XG4gIH1cblxuICBnZXRDb25zdHJ1Y3Rpb25JZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rpb25JZDtcbiAgfVxuXG4gIHRvT2JqZWN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB6b25lSWQ6IHRoaXMuZ2V0Wm9uZUlkKCksXG4gICAgICBjb25zdHJ1Y3Rpb25JZDogdGhpcy5nZXRDb25zdHJ1Y3Rpb25JZCgpXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBCdWlsZChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBab25lRmxvb3IoZGF0YSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBab25lRmxvb3I7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvWm9uZUZsb29yLmpzIiwiaW1wb3J0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lIGZyb20gJy4uL0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbmltcG9ydCBXaW5kb3dDb25zdHJ1Y3Rpb24gZnJvbSAnLi4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4uL1pvbmVXaW5kb3cnO1xuaW1wb3J0IENlaWxpbmdIZWlnaHQgZnJvbSAnLi4vQ2VpbGluZ0hlaWdodCc7XG5pbXBvcnQgWm9uZURldGFpbCBmcm9tICcuLi9ab25lRGV0YWlsJztcbmltcG9ydCBGbG9vckNvbnN0cnVjdGlvbiBmcm9tICcuLi9GbG9vckNvbnN0cnVjdGlvbic7XG5pbXBvcnQgWm9uZUZsb29yIGZyb20gXCIuLi9ab25lRmxvb3JcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbXBhcmUgYSBkYXRhIHN0cmluZyBhbmQgaW5kaWNhdGUgd2hhdCB0eXBlIG9mIGRhdGEgaXQgbG9va3MgbGlrZVxuICovXG5jbGFzcyBMb29rc0xpa2Uge1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGhvcml6b250YWwgc2hhZGluZyBzY2hlbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBTaGFkaW5nU2NoZW1lKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5SZWdleCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZGF0YSBsaW5lIGxvb2tzIGxpa2UgYSB3aW5kb3cgY29uc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgV2luZG93Q29uc3RydWN0aW9uKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBXaW5kb3dDb25zdHJ1Y3Rpb24uUmVnZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlIGEgem9uZSB3aW5kb3dcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBab25lV2luZG93KGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBab25lV2luZG93LlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGNlaWxpbmcgaGVpZ2h0IGxpbmVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBDZWlsaW5nSGVpZ2h0KGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBDZWlsaW5nSGVpZ2h0LlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZGV0YWlsIGxpbmVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVEYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBab25lRGV0YWlsKGxpbmVEYXRhKSB7XG4gICAgcmV0dXJuIExvb2tzTGlrZS5UZXN0KGxpbmVEYXRhLCBab25lRGV0YWlsLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIGZsb29yIGNvbnN0cnVjdGlvbiBsaW5lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lRGF0YSBUaGUgZGF0YSBsaW5lIHRvIHRlc3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgRmxvb3JDb25zdHJ1Y3Rpb24obGluZURhdGEpIHtcbiAgICByZXR1cm4gTG9va3NMaWtlLlRlc3QobGluZURhdGEsIEZsb29yQ29uc3RydWN0aW9uLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkYXRhIGxpbmUgbG9va3MgbGlrZSBhIHpvbmUgZmxvb3IgbGluZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZURhdGEgVGhlIGRhdGEgbGluZSB0byB0ZXN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFpvbmVGbG9vcihsaW5lRGF0YSkge1xuICAgIHJldHVybiBMb29rc0xpa2UuVGVzdChsaW5lRGF0YSwgWm9uZUZsb29yLlJlZ2V4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIHJlZ2V4IHRlc3QgYWdhaW5zdCB0aGUgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAgVGhlIGRhdGEgdG8gdGVzdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnZXggVGhlIHJlZ2V4IHBhdHRlcm4gdG8gdGVzdCB3aXRoXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIFRlc3QoZGF0YSwgcmVnZXgpIHtcbiAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4KTtcbiAgICByZXR1cm4gcmVnZXhwLnRlc3QoZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoYXQgdGhlIGRhdGEgbGluZSBsb29rcyBsaWtlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIFRoZSBkYXRhIGxpbmUgdG8gdGVzdFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgUmV2ZXJzZUxvb2t1cChkYXRhKSB7XG4gICAgaWYgKExvb2tzTGlrZS5TaGFkaW5nU2NoZW1lKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLkNlaWxpbmdIZWlnaHQoZGF0YSkpIHtcbiAgICAgIHJldHVybiAnQ2VpbGluZ0hlaWdodCc7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5XaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiAnV2luZG93Q29uc3RydWN0aW9uJztcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVXaW5kb3coZGF0YSkpIHtcbiAgICAgIHJldHVybiAnWm9uZVdpbmRvdyc7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5ab25lRGV0YWlsKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ1pvbmVEZXRhaWwnO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiAnRmxvb3JDb25zdHJ1Y3Rpb24nO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuWm9uZUZsb29yKGRhdGEpKSB7XG4gICAgICByZXR1cm4gJ1pvbmVGbG9vcic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9va3NMaWtlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL0xvb2tzTGlrZS5qcyIsIi8qKlxuICogQSBjbGFzcyB0byBoYW5kbGUgcGFyc2luZyBhbiBlbnRpcmUgc2NyYXRjaCBmaWxlXG4gKi9cbmltcG9ydCBTY3JhdGNoRmlsZUxpbmUgZnJvbSAnLi9TY3JhdGNoRmlsZUxpbmUnO1xuaW1wb3J0IExvb2tzTGlrZSBmcm9tICcuL3V0aWxzL0xvb2tzTGlrZSc7XG5pbXBvcnQgV2luZG93Q29uc3RydWN0aW9uIGZyb20gJy4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUgZnJvbSAnLi9Ib3Jpem9udGFsU2hhZGluZ1NjaGVtZSc7XG5pbXBvcnQgQ2VpbGluZ0hlaWdodCBmcm9tICcuL0NlaWxpbmdIZWlnaHQnO1xuaW1wb3J0IFpvbmVEZXRhaWwgZnJvbSAnLi9ab25lRGV0YWlsJztcbmltcG9ydCBGbG9vckNvbnN0cnVjdGlvbiBmcm9tICcuL0Zsb29yQ29uc3RydWN0aW9uJztcbmltcG9ydCBab25lRmxvb3IgZnJvbSAnLi9ab25lRmxvb3InO1xuXG5jbGFzcyBQYXJzZXIge1xuXG4gIHdpbmRvd0NvbnN0cnVjdGlvbnMgPSBbXTtcbiAgem9uZVdpbmRvd3MgPSBbXTtcbiAgem9uZURldGFpbHMgPSBbXTtcbiAgc2hhZGluZ1NjaGVtZXMgPSBbXTtcbiAgY2VpbGluZ0hlaWdodHMgPSBbXTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gZmlsZSBBIHNjcmF0Y2hmaWxlIGFycmF5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihmaWxlKSB7XG4gICAgdGhpcy5maWxlID0gZmlsZTtcbiAgfVxuXG4gIHByb2Nlc3MoKSB7XG4gICAgY29uc3QgZGF0YUxpbmVzID0gdGhpcy5nZXREYXRhTGluZXMoKTtcblxuICAgIC8vIEZpbHRlciB0aGUgYXJyYXlzIHRvIG9ubHkgaW5jbHVkZSB0aGUgcmVsYXRlZCBkYXRhLCB0aGVuIGJ1aWxkIHRoZSBkYXRhIGxpbmUgaW50byB0aGUgYXBwcm9wcmlhdGUgY2xhc3NcbiAgICB0aGlzLndpbmRvd0NvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1dpbmRvd0NvbnN0cnVjdGlvbicpXG4gICAgICAubWFwKHdpbmRvdyA9PiBXaW5kb3dDb25zdHJ1Y3Rpb24uQnVpbGQod2luZG93KSk7XG5cbiAgICB0aGlzLnpvbmVXaW5kb3dzID0gZGF0YUxpbmVzXG4gICAgICAuZmlsdGVyKGxpbmUgPT4gTG9va3NMaWtlLlJldmVyc2VMb29rdXAobGluZSkgPT09ICdab25lV2luZG93JylcbiAgICAgIC5tYXAoem9uZVdpbmRvdyA9PiBab25lV2luZG93LkJ1aWxkKHpvbmVXaW5kb3cpKTtcblxuICAgIHRoaXMuc2hhZGluZ1NjaGVtZXMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0hvcml6b250YWxTaGFkaW5nU2NoZW1lJylcbiAgICAgIC5tYXAoc2hhZGluZyA9PiBIb3Jpem9udGFsU2hhZGluZ1NjaGVtZS5CdWlsZChzaGFkaW5nKSk7XG5cbiAgICB0aGlzLmNlaWxpbmdIZWlnaHRzID0gZGF0YUxpbmVzXG4gICAgICAuZmlsdGVyKGxpbmUgPT4gTG9va3NMaWtlLlJldmVyc2VMb29rdXAobGluZSkgPT09ICdDZWlsaW5nSGVpZ2h0JylcbiAgICAgIC5tYXAoY2VpbGluZ0hlaWdodCA9PiBDZWlsaW5nSGVpZ2h0LkJ1aWxkKGNlaWxpbmdIZWlnaHQpKTtcblxuICAgIHRoaXMuem9uZURldGFpbHMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ1pvbmVEZXRhaWwnKVxuICAgICAgLm1hcCh6b25lRGV0YWlsID0+IFpvbmVEZXRhaWwuQnVpbGQoem9uZURldGFpbCkpO1xuXG4gICAgdGhpcy5mbG9vckNvbnN0cnVjdGlvbnMgPSBkYXRhTGluZXNcbiAgICAgIC5maWx0ZXIobGluZSA9PiBMb29rc0xpa2UuUmV2ZXJzZUxvb2t1cChsaW5lKSA9PT0gJ0Zsb29yQ29uc3RydWN0aW9uJylcbiAgICAgIC5tYXAoZmxvb3JDb25zdHJ1Y3Rpb24gPT4gRmxvb3JDb25zdHJ1Y3Rpb24uQnVpbGQoZmxvb3JDb25zdHJ1Y3Rpb24pKTtcblxuICAgIHRoaXMuem9uZUZsb29ycyA9IGRhdGFMaW5lc1xuICAgICAgLmZpbHRlcihsaW5lID0+IExvb2tzTGlrZS5SZXZlcnNlTG9va3VwKGxpbmUpID09PSAnWm9uZUZsb29yJylcbiAgICAgIC5tYXAoem9uZUZsb29yID0+IFpvbmVGbG9vci5CdWlsZCh6b25lRmxvb3IpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmVzIG9mIGRhdGEgdGhhdCBtYXRjaCBhIHR5cGUgd2UncmUgaW50ZXJlc3RlZCBpblxuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqL1xuICBnZXREYXRhTGluZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsZS5maWx0ZXIobGluZSA9PiBTY3JhdGNoRmlsZUxpbmUuQnVpbGQobGluZSkgIT09IGZhbHNlKTtcbiAgfVxuXG4gIGdldFdpbmRvd0NvbnN0cnVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMud2luZG93Q29uc3RydWN0aW9ucztcbiAgfVxuXG4gIGdldFpvbmVXaW5kb3dzKCkge1xuICAgIHJldHVybiB0aGlzLnpvbmVXaW5kb3dzO1xuICB9XG5cbiAgZ2V0U2hhZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkaW5nU2NoZW1lcztcbiAgfVxuXG4gIGdldENlaWxpbmdIZWlnaHRzKCkge1xuICAgIHJldHVybiB0aGlzLmNlaWxpbmdIZWlnaHRzO1xuICB9XG5cbiAgZ2V0Wm9uZURldGFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuem9uZURldGFpbHM7XG4gIH1cblxuICBnZXRGbG9vckNvbnN0cnVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxvb3JDb25zdHJ1Y3Rpb25zO1xuICB9XG5cbiAgZ2V0Wm9uZUZsb29ycygpIHtcbiAgICByZXR1cm4gdGhpcy56b25lRmxvb3JzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgZGF0YSBpbiBhbiBvYmplY3QgdGhhdCBjYW4gYmUgZGVjb25zdHJ1Y3RlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0QWxsRGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2luZG93Q29uc3RydWN0aW9uczogdGhpcy5nZXRXaW5kb3dDb25zdHJ1Y3Rpb25zKCksXG4gICAgICB6b25lV2luZG93czogdGhpcy5nZXRab25lV2luZG93cygpLFxuICAgICAgc2hhZGluZzogdGhpcy5nZXRTaGFkaW5nKCksXG4gICAgICBjZWlsaW5nSGVpZ2h0czogdGhpcy5nZXRDZWlsaW5nSGVpZ2h0cygpLFxuICAgICAgem9uZURldGFpbHM6IHRoaXMuZ2V0Wm9uZURldGFpbHMoKSxcbiAgICAgIGZsb29yQ29uc3RydWN0aW9uczogdGhpcy5nZXRGbG9vckNvbnN0cnVjdGlvbnMoKSxcbiAgICAgIHpvbmVGbG9vcnM6IHRoaXMuZ2V0Wm9uZUZsb29ycygpXG4gICAgfTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhcnNlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9QYXJzZXIuanMiLCJpbXBvcnQgT3JpZW50YXRpb24gZnJvbSAnLi9PcmllbnRhdGlvbic7XG5pbXBvcnQgR3JvdW5kRmxvb3IgZnJvbSAnLi9Hcm91bmRGbG9vcic7XG5pbXBvcnQgWm9uZVdpbmRvdyBmcm9tICcuL1pvbmVXaW5kb3cnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbHMnO1xuLyoqXG4gKiBDbGFzcyBSZXN1bHRzQnVpbGRlclxuICpcbiAqIFRoaXMgY2xhc3Mgd2lsbCB0YWtlIHZhcmlvdXMgYXJyYXlzIG9mIGRhdGEgbGluZXMsIGJ1aWxkIHRoZW0gaW50byB0aGVpciBhcHByb3ByaWF0ZSBjbGFzc2VzLFxuICogbGluayB0aGVtIHRocm91Z2ggdmFyaW91cyBJRCdzLCBhbmQgdGhlbiBjcmVhdGUgbXVsdGlwbGUgb3V0cHV0IGxpbmVzXG4gKi9cblxuY2xhc3MgUmVzdWx0c0J1aWxkZXIge1xuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSB2YXJpb3VzIGFycmF5cyBpbnRvIGEgc2luZ2xlIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IHdpbmRvd0NvbnN0cnVjdGlvbnNcbiAgICogQHBhcmFtIHthcnJheX0gem9uZVdpbmRvd3NcbiAgICogQHBhcmFtIHthcnJheX0gc2hhZGluZ1xuICAgKiBAcGFyYW0ge2FycmF5fSBjZWlsaW5nSGVpZ2h0c1xuICAgKiBAcGFyYW0ge2FycmF5fSB6b25lRGV0YWlsc1xuICAgKiBAcGFyYW0ge2FycmF5fSBmbG9vckNvbnN0cnVjdGlvbnNcbiAgICogQHBhcmFtIHthcnJheX0gem9uZUZsb29yc1xuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgc3RhdGljIENvbXBpbGUoe1xuICAgIHdpbmRvd0NvbnN0cnVjdGlvbnMsIHpvbmVXaW5kb3dzLCBzaGFkaW5nLCBjZWlsaW5nSGVpZ2h0cywgem9uZURldGFpbHMsIGZsb29yQ29uc3RydWN0aW9ucywgem9uZUZsb29yc1xuICB9KSB7XG4gICAgcmV0dXJuIHpvbmVEZXRhaWxzLm1hcCgoem9uZSkgPT4ge1xuICAgICAgLy8gRmlsdGVyIHRoZSB6b25lIHdpbmRvd3MgZm9yIG9ubHkgd2luZG93cyBpbiB0aGlzIHpvbmUsIGFuZCB0aGVuIG1hcCB0aGUgd2luZG93IGNvbnN0cnVjdGlvbiwgc2hhZGluZyBhbmQgY2VpbGluZyBoZWlnaHQgZGV0YWlsc1xuICAgICAgY29uc3Qgd2luZG93cyA9IHpvbmVXaW5kb3dzLmZpbHRlcih3aW5kb3cgPT4gd2luZG93LnpvbmVJZCA9PT0gem9uZS5pZCkubWFwKCh6b25lV2luZG93KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IHdpbmRvd0NvbnN0cnVjdGlvbnMuZmlsdGVyKGNvbnMgPT4gY29ucy5pZCA9PT0gem9uZVdpbmRvdy5nZXRXaW5kb3dJZCgpKVswXTtcbiAgICAgICAgY29uc3Qgc2hhZGluZ1NjaGVtZSA9IHNoYWRpbmcuZmlsdGVyKHNoYWRlID0+IHNoYWRlLmdldElkKCkgPT09IHpvbmVXaW5kb3cuZ2V0SG9yaXpTaGFkaW5nMUlkKCkgfHwgc2hhZGUuZ2V0SWQoKSA9PT0gem9uZVdpbmRvdy5nZXRIb3JpelNoYWRpbmcySWQoKSk7XG4gICAgICAgIGNvbnN0IGNlaWxpbmdIZWlnaHQgPSBjZWlsaW5nSGVpZ2h0cy5maWx0ZXIoY2VpbGluZyA9PiBjZWlsaW5nLmdldFpvbmVJZCgpID09PSB6b25lLmdldElkKCkpWzBdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uem9uZVdpbmRvdyxcbiAgICAgICAgICBjb25zdHJ1Y3Rpb24sXG4gICAgICAgICAgc2hhZGluZzogc2hhZGluZ1NjaGVtZSxcbiAgICAgICAgICBjZWlsaW5nSGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmxvb3JzID0gem9uZUZsb29ycy5maWx0ZXIoem9uZUZsb29yID0+IHpvbmVGbG9vci56b25lSWQgPT09IHpvbmUuaWQpLm1hcCgoem9uZUZsb29yKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdGlvbiA9IGZsb29yQ29uc3RydWN0aW9ucy5maWx0ZXIoZmxvb3JDb24gPT4gZmxvb3JDb24uaWQgPT09IHpvbmVGbG9vci5jb25zdHJ1Y3Rpb25JZClbMF07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi56b25lRmxvb3IsXG4gICAgICAgICAgLi4uY29uc3RydWN0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHpvbmUuZ2V0SWQoKSxcbiAgICAgICAgbmFtZTogem9uZS5nZXROYW1lKCksXG4gICAgICAgIHdpbmRvd3MsXG4gICAgICAgIG9uR3JvdW5kRmxvb3I6IEdyb3VuZEZsb29yLlRlc3QoZmxvb3JzKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCB0aGUgem9uZXMgYXJyYXkgaW50byBhIGZsYXR0IGFycmF5IHJlYWR5IGZvciBjb252ZXJzaW9uIHRvIENTVlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSAgem9uZXMgICAgIFRoZSB6b25lcyBhcnJheSBjcmVhdGVkIGluIFJlc3VsdHNCdWlsZGVyLkNvbXBpbGUoKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFtPcHRpb25hbF0gUmVmZXJlbmNlIE5vcnRoIGF6aW11dGguIERlZmF1bHQgMFxuICAgKlxuICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAqL1xuICBzdGF0aWMgQnVpbGQoem9uZXMsIHJlZmVyZW5jZSA9IDApIHtcbiAgICBjb25zdCBjc3YgPSB6b25lcy5tYXAoKHpvbmUpID0+IHtcbiAgICAgIGNvbnN0IHdpbmRvd0NzdiA9IHpvbmUud2luZG93cy5tYXAoKHdpbmRvdykgPT4ge1xuICAgICAgICBsZXQgcHJvamVjdGlvbiA9ICcnO1xuICAgICAgICBsZXQgZWF2ZU9mZnNldCA9ICcnO1xuICAgICAgICBsZXQgcGVyZ29sYU9mZnNldCA9ICcnO1xuICAgICAgICBpZiAod2luZG93LnNoYWRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHByb2plY3Rpb24gPSB3aW5kb3cuc2hhZGluZ1swXS5wcm9qZWN0aW9uO1xuICAgICAgICAgIGVhdmVPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5lYXZlT2Zmc2V0O1xuICAgICAgICAgIHBlcmdvbGFPZmZzZXQgPSB3aW5kb3cuc2hhZGluZ1swXS5wZXJnb2xhT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB6b25lLm5hbWUsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgT3JpZW50YXRpb24uR2V0KHdpbmRvdy5hemltdXRoLCByZWZlcmVuY2UpLFxuICAgICAgICAgIHdpbmRvdy5oZWlnaHQsXG4gICAgICAgICAgd2luZG93LndpZHRoLFxuICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgWm9uZVdpbmRvdy5IZWFkSGVpZ2h0KHdpbmRvdy5oZWlnaHQsIGVhdmVPZmZzZXQpLFxuICAgICAgICAgIHdpbmRvdy5jb25zdHJ1Y3Rpb24ubmFtZSxcbiAgICAgICAgICB3aW5kb3cuY2VpbGluZ0hlaWdodC5oZWlnaHQsXG4gICAgICAgICAgZWF2ZU9mZnNldCxcbiAgICAgICAgICBwZXJnb2xhT2Zmc2V0LFxuICAgICAgICAgIHpvbmUub25Hcm91bmRGbG9vciA/ICcwJyA6ICcnXG4gICAgICAgIF07XG4gICAgICB9KTtcblxuICAgICAgLy8gQW4gZW1wdHkgd2luZG93Q3N2IG5lZWRzIHRvIGJlIHJldHVybmVkIGluc2lkZSBhbiBhcnJheSBpdHNlbGYsIGluIG9yZGVyIHRvIHdvcmsgd2l0aCB0aGUgZmxhdHRlbiBmdW5jdGlvblxuICAgICAgcmV0dXJuIHdpbmRvd0Nzdi5sZW5ndGggPiAwID8gd2luZG93Q3N2IDogW3dpbmRvd0Nzdl07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhdHRlbihjc3YpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzdWx0c0J1aWxkZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvUmVzdWx0c0J1aWxkZXIuanMiLCIvKipcbiAqIENsYXNzIEdyb3VuZEZsb29yXG4gKi9cbmNsYXNzIEdyb3VuZEZsb29yIHtcblxuICAvKipcbiAgICogVGVzdCBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGZsb29ycyBoYXZlIGEgQ1NPRyBjb25zdHJ1Y3Rpb24sIGluZGljYXRpbmcgdGhlIHpvbmUgaXMgbGlrZWx5IG9uIHRoZSBncm91bmQgZmxvb3JcbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gZmxvb3JzIFRoZSBmbG9vcnMgdG8gY2hlY2sgZm9yIENTT0dcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgVGVzdChmbG9vcnMpIHtcbiAgICByZXR1cm4gZmxvb3JzLmZpbHRlcihmbG9vciA9PiBmbG9vci5pc0Nzb2cpLmxlbmd0aCA+IDA7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91bmRGbG9vcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9Hcm91bmRGbG9vci5qcyIsIi8qKlxuICogQ2xhc3MgT3JpZW50YXRpb25cbiAqL1xuY2xhc3MgT3JpZW50YXRpb24ge1xuXG4gIHN0YXRpYyBDT05TVF9fTiA9IHsgbG93ZXI6IDIyLCB1cHBlcjogMzM4IH07XG4gIHN0YXRpYyBDT05TVF9fTl9FID0geyBsb3dlcjogMjMsIHVwcGVyOiA2NyB9O1xuICBzdGF0aWMgQ09OU1RfX0UgPSB7IGxvd2VyOiA2OCwgdXBwZXI6IDExMiB9O1xuICBzdGF0aWMgQ09OU1RfX1NfRSA9IHsgbG93ZXI6IDExMywgdXBwZXI6IDE1NyB9O1xuICBzdGF0aWMgQ09OU1RfX1MgPSB7IGxvd2VyOiAxNTgsIHVwcGVyOiAyMDIgfTtcbiAgc3RhdGljIENPTlNUX19TX1cgPSB7IGxvd2VyOiAyMDMsIHVwcGVyOiAyNDcgfTtcbiAgc3RhdGljIENPTlNUX19XID0geyBsb3dlcjogMjQ4LCB1cHBlcjogMjkyIH07XG4gIHN0YXRpYyBDT05TVF9fTl9XID0geyBsb3dlcjogMjkzLCB1cHBlcjogMzM3IH07XG5cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYXppbXV0aFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXppbXV0aCAgIEF6aW11dGggdmFsdWUgYmVpbmcgY2hhbmdlZCB0byBvcmllbnRhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmZXJlbmNlIFJlZmVyZW5jZSBhemltdXRoIGZvciBOb3J0aFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgR2V0KGF6aW11dGgsIHJlZmVyZW5jZSkge1xuICAgIGNvbnN0IGF6aW11dGhJbnQgPSBwYXJzZUludChhemltdXRoLCAxMCk7XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9FKSkge1xuICAgICAgcmV0dXJuICdORSc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX0UpKSB7XG4gICAgICByZXR1cm4gJ0UnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19TX0UpKSB7XG4gICAgICByZXR1cm4gJ1NFJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fUykpIHtcbiAgICAgIHJldHVybiAnUyc7XG4gICAgfVxuXG4gICAgaWYgKE9yaWVudGF0aW9uLklzKGF6aW11dGhJbnQsIHJlZmVyZW5jZSwgT3JpZW50YXRpb24uQ09OU1RfX1NfVykpIHtcbiAgICAgIHJldHVybiAnU1cnO1xuICAgIH1cblxuICAgIGlmIChPcmllbnRhdGlvbi5JcyhhemltdXRoSW50LCByZWZlcmVuY2UsIE9yaWVudGF0aW9uLkNPTlNUX19XKSkge1xuICAgICAgcmV0dXJuICdXJztcbiAgICB9XG5cbiAgICBpZiAoT3JpZW50YXRpb24uSXMoYXppbXV0aEludCwgcmVmZXJlbmNlLCBPcmllbnRhdGlvbi5DT05TVF9fTl9XKSkge1xuICAgICAgcmV0dXJuICdOVyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdOJztcbiAgfVxuXG4gIHN0YXRpYyBJcyhhemltdXRoLCByZWZlcmVuY2UsIGxpbWl0cykge1xuICAgIGNvbnN0IHZlY3RvciA9IHtcbiAgICAgIHVwcGVyOiBPcmllbnRhdGlvbi5Ob3JtYWxpemUocGFyc2VJbnQocmVmZXJlbmNlLCAxMCkgKyBsaW1pdHMudXBwZXIpLFxuICAgICAgbG93ZXI6IE9yaWVudGF0aW9uLk5vcm1hbGl6ZShwYXJzZUludChyZWZlcmVuY2UsIDEwKSArIGxpbWl0cy5sb3dlcilcbiAgICB9O1xuXG4gICAgcmV0dXJuIChhemltdXRoID49IHZlY3Rvci5sb3dlciAmJiBhemltdXRoIDw9IHZlY3Rvci51cHBlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgYSB2YWx1ZSB0byBiZSB3aXRoaW4gdGhlIDAtMzYwIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7aW50fSBudW1iZXJcbiAgICpcbiAgICogQHJldHVybnMge2ludH1cbiAgICovXG4gIHN0YXRpYyBOb3JtYWxpemUobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgIHJldHVybiAzNjAgLSBNYXRoLmFicyhudW1iZXIpO1xuICAgIH1cblxuICAgIGlmIChudW1iZXIgPiAzNjApIHtcbiAgICAgIHJldHVybiAobnVtYmVyIC0gMzYwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JpZW50YXRpb247XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvT3JpZW50YXRpb24uanMiLCJpbXBvcnQgQ2VpbGluZ0hlaWdodCBmcm9tICcuL0NlaWxpbmdIZWlnaHQnO1xuaW1wb3J0IEhvcml6b250YWxTaGFkaW5nU2NoZW1lIGZyb20gJy4vSG9yaXpvbnRhbFNoYWRpbmdTY2hlbWUnO1xuaW1wb3J0IExvb2tzTGlrZSBmcm9tICcuL3V0aWxzL0xvb2tzTGlrZSc7XG5pbXBvcnQgV2luZG93Q29uc3RydWN0aW9uIGZyb20gJy4vV2luZG93Q29uc3RydWN0aW9uJztcbmltcG9ydCBab25lV2luZG93IGZyb20gJy4vWm9uZVdpbmRvdyc7XG5pbXBvcnQgWm9uZURldGFpbCBmcm9tICcuL1pvbmVEZXRhaWwnO1xuaW1wb3J0IEZsb29yQ29uc3RydWN0aW9uIGZyb20gJy4vRmxvb3JDb25zdHJ1Y3Rpb24nO1xuaW1wb3J0IFpvbmVGbG9vciBmcm9tICcuL1pvbmVGbG9vcic7XG5cbi8qKlxuICogQ2xhc3MgU2NyYXRjaEZpbGVMaW5lXG4gKi9cbmNsYXNzIFNjcmF0Y2hGaWxlTGluZSB7XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgZGF0YSBsaW5lIGludG8gdGhlIGFwcHJvcHJpYXRlIGNsYXNzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSBwYXJzZWRcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fGJvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgQnVpbGQoZGF0YSkge1xuICAgIGlmIChMb29rc0xpa2UuU2hhZGluZ1NjaGVtZShkYXRhKSkge1xuICAgICAgcmV0dXJuIEhvcml6b250YWxTaGFkaW5nU2NoZW1lLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuQ2VpbGluZ0hlaWdodChkYXRhKSkge1xuICAgICAgcmV0dXJuIENlaWxpbmdIZWlnaHQuQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5XaW5kb3dDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiBXaW5kb3dDb25zdHJ1Y3Rpb24uQnVpbGQoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKExvb2tzTGlrZS5ab25lV2luZG93KGRhdGEpKSB7XG4gICAgICByZXR1cm4gWm9uZVdpbmRvdy5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVEZXRhaWwoZGF0YSkpIHtcbiAgICAgIHJldHVybiBab25lRGV0YWlsLkJ1aWxkKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChMb29rc0xpa2UuRmxvb3JDb25zdHJ1Y3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiBGbG9vckNvbnN0cnVjdGlvbi5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAoTG9va3NMaWtlLlpvbmVGbG9vcihkYXRhKSkge1xuICAgICAgcmV0dXJuIFpvbmVGbG9vci5CdWlsZChkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JhdGNoRmlsZUxpbmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvU2NyYXRjaEZpbGVMaW5lLmpzIiwiLyoqXG4gKiBGbGF0dGVuIGFycmF5IDEgbGV2ZWxcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgQXJyeWEgdG8gZmxhdHRlblxuICpcbiAqIEByZXR1cm5zIHthcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IGZsYXR0ZW4gPSBhcnIgPT4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5hcnIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL2luZGV4LmpzIiwiaW1wb3J0IFBhcnNlciBmcm9tICcuL2pzL1BhcnNlcic7XG5pbXBvcnQgUmVzdWx0c0J1aWxkZXIgZnJvbSAnLi9qcy9SZXN1bHRzQnVpbGRlcic7XG5cbm9ubWVzc2FnZSA9ICh7IGRhdGEgfSkgPT4ge1xuICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICBjb25zdCBzY3JhdGNoRmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgnXFxyXFxuJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihzY3JhdGNoRmlsZSk7XG4gICAgcGFyc2VyLnByb2Nlc3MoKTtcblxuICAgIGNvbnN0IHpvbmVzID0gUmVzdWx0c0J1aWxkZXIuQ29tcGlsZShwYXJzZXIuZ2V0QWxsRGF0YSgpKTtcbiAgICBjb25zdCBncm91bmRGbG9vciA9IHpvbmVzLmZpbHRlcih6b25lID0+IHpvbmUub25Hcm91bmRGbG9vcik7XG4gICAgY29uc3Qgb3RoZXJGbG9vciA9IHpvbmVzLmZpbHRlcih6b25lID0+ICF6b25lLm9uR3JvdW5kRmxvb3IpO1xuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi5ncm91bmRGbG9vciwgLi4ub3RoZXJGbG9vcl07XG4gICAgY29uc3QgcmVzdWx0cyA9IFJlc3VsdHNCdWlsZGVyLkJ1aWxkKHNvcnRlZCwgZGF0YS5yZWZlcmVuY2UpO1xuXG4gICAgcG9zdE1lc3NhZ2UoeyByZXN1bHRzIH0pO1xuICB9O1xuXG4gIHJlYWRlci5hYm9ydCgpO1xuICByZWFkZXIucmVhZEFzVGV4dChkYXRhLmZpbGUpO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy93b3JrZXIuanMiXSwic291cmNlUm9vdCI6IiJ9